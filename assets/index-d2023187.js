function Bb(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const Pb="modulepreload",Lb=function(n){return"/"+n},A7={},Ib=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=Lb(s),s in A7)return;A7[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Pb,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};function h2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var I_={exports:{}},p2={},D_={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=Symbol.for("react.element"),Db=Symbol.for("react.portal"),Fb=Symbol.for("react.fragment"),kb=Symbol.for("react.strict_mode"),Ob=Symbol.for("react.profiler"),Nb=Symbol.for("react.provider"),Ub=Symbol.for("react.context"),zb=Symbol.for("react.forward_ref"),Gb=Symbol.for("react.suspense"),Hb=Symbol.for("react.memo"),Vb=Symbol.for("react.lazy"),M7=Symbol.iterator;function Wb(n){return n===null||typeof n!="object"?null:(n=M7&&n[M7]||n["@@iterator"],typeof n=="function"?n:null)}var F_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k_=Object.assign,O_={};function ef(n,e,t){this.props=n,this.context=e,this.refs=O_,this.updater=t||F_}ef.prototype.isReactComponent={};ef.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ef.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function N_(){}N_.prototype=ef.prototype;function Y8(n,e,t){this.props=n,this.context=e,this.refs=O_,this.updater=t||F_}var Z8=Y8.prototype=new N_;Z8.constructor=Y8;k_(Z8,ef.prototype);Z8.isPureReactComponent=!0;var C7=Array.isArray,U_=Object.prototype.hasOwnProperty,Q8={current:null},z_={key:!0,ref:!0,__self:!0,__source:!0};function G_(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)U_.call(e,r)&&!z_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_h,type:n,key:s,ref:o,props:i,_owner:Q8.current}}function jb(n,e){return{$$typeof:_h,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function q8(n){return typeof n=="object"&&n!==null&&n.$$typeof===_h}function Jb(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var E7=/\/+/g;function s5(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Jb(""+n.key):e.toString(36)}function ep(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case _h:case Db:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+s5(o,0):r,C7(i)?(t="",n!=null&&(t=n.replace(E7,"$&/")+"/"),ep(i,e,t,"",function(c){return c})):i!=null&&(q8(i)&&(i=jb(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E7,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",C7(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+s5(s,a);o+=ep(s,e,t,l,i)}else if(l=Wb(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+s5(s,a++),o+=ep(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function H3(n,e,t){if(n==null)return n;var r=[],i=0;return ep(n,r,"","",function(s){return e.call(t,s,i++)}),r}function Xb(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Qr={current:null},tp={transition:null},Kb={ReactCurrentDispatcher:Qr,ReactCurrentBatchConfig:tp,ReactCurrentOwner:Q8};Ot.Children={map:H3,forEach:function(n,e,t){H3(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return H3(n,function(){e++}),e},toArray:function(n){return H3(n,function(e){return e})||[]},only:function(n){if(!q8(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ot.Component=ef;Ot.Fragment=Fb;Ot.Profiler=Ob;Ot.PureComponent=Y8;Ot.StrictMode=kb;Ot.Suspense=Gb;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kb;Ot.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=k_({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Q8.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)U_.call(e,l)&&!z_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_h,type:n.type,key:i,ref:s,props:r,_owner:o}};Ot.createContext=function(n){return n={$$typeof:Ub,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Nb,_context:n},n.Consumer=n};Ot.createElement=G_;Ot.createFactory=function(n){var e=G_.bind(null,n);return e.type=n,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(n){return{$$typeof:zb,render:n}};Ot.isValidElement=q8;Ot.lazy=function(n){return{$$typeof:Vb,_payload:{_status:-1,_result:n},_init:Xb}};Ot.memo=function(n,e){return{$$typeof:Hb,type:n,compare:e===void 0?null:e}};Ot.startTransition=function(n){var e=tp.transition;tp.transition={};try{n()}finally{tp.transition=e}};Ot.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ot.useCallback=function(n,e){return Qr.current.useCallback(n,e)};Ot.useContext=function(n){return Qr.current.useContext(n)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(n){return Qr.current.useDeferredValue(n)};Ot.useEffect=function(n,e){return Qr.current.useEffect(n,e)};Ot.useId=function(){return Qr.current.useId()};Ot.useImperativeHandle=function(n,e,t){return Qr.current.useImperativeHandle(n,e,t)};Ot.useInsertionEffect=function(n,e){return Qr.current.useInsertionEffect(n,e)};Ot.useLayoutEffect=function(n,e){return Qr.current.useLayoutEffect(n,e)};Ot.useMemo=function(n,e){return Qr.current.useMemo(n,e)};Ot.useReducer=function(n,e,t){return Qr.current.useReducer(n,e,t)};Ot.useRef=function(n){return Qr.current.useRef(n)};Ot.useState=function(n){return Qr.current.useState(n)};Ot.useSyncExternalStore=function(n,e,t){return Qr.current.useSyncExternalStore(n,e,t)};Ot.useTransition=function(){return Qr.current.useTransition()};Ot.version="18.2.0";D_.exports=Ot;var F=D_.exports;const Kr=h2(F),Yb=Bb({__proto__:null,default:Kr},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zb=F,Qb=Symbol.for("react.element"),qb=Symbol.for("react.fragment"),$b=Object.prototype.hasOwnProperty,eT=Zb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tT={key:!0,ref:!0,__self:!0,__source:!0};function H_(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$b.call(e,r)&&!tT.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Qb,type:n,key:s,ref:o,props:i,_owner:eT.current}}p2.Fragment=qb;p2.jsx=H_;p2.jsxs=H_;I_.exports=p2;var $8=I_.exports;const pn=$8.Fragment,se=$8.jsx,ze=$8.jsxs;var Vm={},V_={exports:{}},Pi={},W_={exports:{}},j_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,W){var J=k.length;k.push(W);e:for(;0<J;){var D=J-1>>>1,O=k[D];if(0<i(O,W))k[D]=W,k[J]=O,J=D;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var W=k[0],J=k.pop();if(J!==W){k[0]=J;e:for(var D=0,O=k.length,ie=O>>>1;D<ie;){var $=2*(D+1)-1,te=k[$],Z=$+1,ne=k[Z];if(0>i(te,J))Z<O&&0>i(ne,te)?(k[D]=ne,k[Z]=J,D=Z):(k[D]=te,k[$]=J,D=$);else if(Z<O&&0>i(ne,J))k[D]=ne,k[Z]=J,D=Z;else break e}}return W}function i(k,W){var J=k.sortIndex-W.sortIndex;return J!==0?J:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var W=t(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=k)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(c)}}function M(k){if(v=!1,S(k),!g)if(t(l)!==null)g=!0,ee(b);else{var W=t(c);W!==null&&ue(M,W.startTime-k)}}function b(k,W){g=!1,v&&(v=!1,x(C),C=-1),m=!0;var J=p;try{for(S(W),d=t(l);d!==null&&(!(d.expirationTime>W)||k&&!z());){var D=d.callback;if(typeof D=="function"){d.callback=null,p=d.priorityLevel;var O=D(d.expirationTime<=W);W=n.unstable_now(),typeof O=="function"?d.callback=O:d===t(l)&&r(l),S(W)}else r(l);d=t(l)}if(d!==null)var ie=!0;else{var $=t(c);$!==null&&ue(M,$.startTime-W),ie=!1}return ie}finally{d=null,p=J,m=!1}}var T=!1,R=null,C=-1,P=5,L=-1;function z(){return!(n.unstable_now()-L<P)}function G(){if(R!==null){var k=n.unstable_now();L=k;var W=!0;try{W=R(!0,k)}finally{W?V():(T=!1,R=null)}}else T=!1}var V;if(typeof _=="function")V=function(){_(G)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=G,V=function(){Y.postMessage(null)}}else V=function(){y(G,0)};function ee(k){R=k,T||(T=!0,V())}function ue(k,W){C=y(function(){k(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,ee(b))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var J=p;p=W;try{return k()}finally{p=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var J=p;p=k;try{return W()}finally{p=J}},n.unstable_scheduleCallback=function(k,W,J){var D=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?D+J:D):J=D,k){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=J+O,k={id:u++,callback:W,priorityLevel:k,startTime:J,expirationTime:O,sortIndex:-1},J>D?(k.sortIndex=J,e(c,k),t(l)===null&&k===t(c)&&(v?(x(C),C=-1):v=!0,ue(M,J-D))):(k.sortIndex=O,e(l,k),g||m||(g=!0,ee(b))),k},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(k){var W=p;return function(){var J=p;p=W;try{return k.apply(this,arguments)}finally{p=J}}}})(j_);W_.exports=j_;var nT=W_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_=F,Bi=nT;function Ge(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X_=new Set,Gd={};function ec(n,e){Ru(n,e),Ru(n+"Capture",e)}function Ru(n,e){for(Gd[n]=e,n=0;n<e.length;n++)X_.add(e[n])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wm=Object.prototype.hasOwnProperty,rT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b7={},T7={};function iT(n){return Wm.call(T7,n)?!0:Wm.call(b7,n)?!1:rT.test(n)?T7[n]=!0:(b7[n]=!0,!1)}function sT(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function oT(n,e,t,r){if(e===null||typeof e>"u"||sT(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qr(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){xr[n]=new qr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];xr[e]=new qr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){xr[n]=new qr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){xr[n]=new qr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){xr[n]=new qr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){xr[n]=new qr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){xr[n]=new qr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){xr[n]=new qr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){xr[n]=new qr(n,5,!1,n.toLowerCase(),null,!1,!1)});var e4=/[\-:]([a-z])/g;function t4(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(e4,t4);xr[e]=new qr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(e4,t4);xr[e]=new qr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(e4,t4);xr[e]=new qr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){xr[n]=new qr(n,1,!1,n.toLowerCase(),null,!1,!1)});xr.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){xr[n]=new qr(n,1,!1,n.toLowerCase(),null,!0,!0)});function n4(n,e,t,r){var i=xr.hasOwnProperty(e)?xr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oT(e,t,i,r)&&(t=null),r||i===null?iT(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var No=J_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V3=Symbol.for("react.element"),$c=Symbol.for("react.portal"),eu=Symbol.for("react.fragment"),r4=Symbol.for("react.strict_mode"),jm=Symbol.for("react.profiler"),K_=Symbol.for("react.provider"),Y_=Symbol.for("react.context"),i4=Symbol.for("react.forward_ref"),Jm=Symbol.for("react.suspense"),Xm=Symbol.for("react.suspense_list"),s4=Symbol.for("react.memo"),ca=Symbol.for("react.lazy"),Z_=Symbol.for("react.offscreen"),R7=Symbol.iterator;function Hf(n){return n===null||typeof n!="object"?null:(n=R7&&n[R7]||n["@@iterator"],typeof n=="function"?n:null)}var Mn=Object.assign,o5;function vd(n){if(o5===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);o5=e&&e[1]||""}return`
`+o5+n}var a5=!1;function l5(n,e){if(!n||a5)return"";a5=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{a5=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?vd(n):""}function aT(n){switch(n.tag){case 5:return vd(n.type);case 16:return vd("Lazy");case 13:return vd("Suspense");case 19:return vd("SuspenseList");case 0:case 2:case 15:return n=l5(n.type,!1),n;case 11:return n=l5(n.type.render,!1),n;case 1:return n=l5(n.type,!0),n;default:return""}}function Km(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case eu:return"Fragment";case $c:return"Portal";case jm:return"Profiler";case r4:return"StrictMode";case Jm:return"Suspense";case Xm:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Y_:return(n.displayName||"Context")+".Consumer";case K_:return(n._context.displayName||"Context")+".Provider";case i4:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case s4:return e=n.displayName||null,e!==null?e:Km(n.type)||"Memo";case ca:e=n._payload,n=n._init;try{return Km(n(e))}catch{}}return null}function lT(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Km(e);case 8:return e===r4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ta(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Q_(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cT(n){var e=Q_(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function W3(n){n._valueTracker||(n._valueTracker=cT(n))}function q_(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Q_(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Pp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ym(n,e){var t=e.checked;return Mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function B7(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ta(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $_(n,e){e=e.checked,e!=null&&n4(n,"checked",e,!1)}function Zm(n,e){$_(n,e);var t=Ta(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Qm(n,e.type,t):e.hasOwnProperty("defaultValue")&&Qm(n,e.type,Ta(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function P7(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Qm(n,e,t){(e!=="number"||Pp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var yd=Array.isArray;function _u(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ta(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function qm(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return Mn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function L7(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ge(92));if(yd(t)){if(1<t.length)throw Error(Ge(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ta(t)}}function ew(n,e){var t=Ta(e.value),r=Ta(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function I7(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function tw(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $m(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?tw(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var j3,nw=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(j3=j3||document.createElement("div"),j3.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=j3.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Hd(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Cd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uT=["Webkit","ms","Moz","O"];Object.keys(Cd).forEach(function(n){uT.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Cd[e]=Cd[n]})});function rw(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Cd.hasOwnProperty(n)&&Cd[n]?(""+e).trim():e+"px"}function iw(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=rw(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var fT=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function e6(n,e){if(e){if(fT[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ge(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ge(62))}}function t6(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n6=null;function o4(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var r6=null,wu=null,Su=null;function D7(n){if(n=Ah(n)){if(typeof r6!="function")throw Error(Ge(280));var e=n.stateNode;e&&(e=x2(e),r6(n.stateNode,n.type,e))}}function sw(n){wu?Su?Su.push(n):Su=[n]:wu=n}function ow(){if(wu){var n=wu,e=Su;if(Su=wu=null,D7(n),e)for(n=0;n<e.length;n++)D7(e[n])}}function aw(n,e){return n(e)}function lw(){}var c5=!1;function cw(n,e,t){if(c5)return n(e,t);c5=!0;try{return aw(n,e,t)}finally{c5=!1,(wu!==null||Su!==null)&&(lw(),ow())}}function Vd(n,e){var t=n.stateNode;if(t===null)return null;var r=x2(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ge(231,e,typeof t));return t}var i6=!1;if(Po)try{var Vf={};Object.defineProperty(Vf,"passive",{get:function(){i6=!0}}),window.addEventListener("test",Vf,Vf),window.removeEventListener("test",Vf,Vf)}catch{i6=!1}function dT(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Ed=!1,Lp=null,Ip=!1,s6=null,hT={onError:function(n){Ed=!0,Lp=n}};function pT(n,e,t,r,i,s,o,a,l){Ed=!1,Lp=null,dT.apply(hT,arguments)}function mT(n,e,t,r,i,s,o,a,l){if(pT.apply(this,arguments),Ed){if(Ed){var c=Lp;Ed=!1,Lp=null}else throw Error(Ge(198));Ip||(Ip=!0,s6=c)}}function tc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function uw(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function F7(n){if(tc(n)!==n)throw Error(Ge(188))}function gT(n){var e=n.alternate;if(!e){if(e=tc(n),e===null)throw Error(Ge(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return F7(i),n;if(s===r)return F7(i),e;s=s.sibling}throw Error(Ge(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ge(189))}}if(t.alternate!==r)throw Error(Ge(190))}if(t.tag!==3)throw Error(Ge(188));return t.stateNode.current===t?n:e}function fw(n){return n=gT(n),n!==null?dw(n):null}function dw(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=dw(n);if(e!==null)return e;n=n.sibling}return null}var hw=Bi.unstable_scheduleCallback,k7=Bi.unstable_cancelCallback,vT=Bi.unstable_shouldYield,yT=Bi.unstable_requestPaint,kn=Bi.unstable_now,xT=Bi.unstable_getCurrentPriorityLevel,a4=Bi.unstable_ImmediatePriority,pw=Bi.unstable_UserBlockingPriority,Dp=Bi.unstable_NormalPriority,_T=Bi.unstable_LowPriority,mw=Bi.unstable_IdlePriority,m2=null,Gs=null;function wT(n){if(Gs&&typeof Gs.onCommitFiberRoot=="function")try{Gs.onCommitFiberRoot(m2,n,void 0,(n.current.flags&128)===128)}catch{}}var gs=Math.clz32?Math.clz32:MT,ST=Math.log,AT=Math.LN2;function MT(n){return n>>>=0,n===0?32:31-(ST(n)/AT|0)|0}var J3=64,X3=4194304;function xd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Fp(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=xd(a):(s&=o,s!==0&&(r=xd(s)))}else o=t&~i,o!==0?r=xd(o):s!==0&&(r=xd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-gs(e),i=1<<t,r|=n[t],e&=~i;return r}function CT(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ET(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-gs(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=CT(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function o6(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function gw(){var n=J3;return J3<<=1,!(J3&4194240)&&(J3=64),n}function u5(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function wh(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-gs(e),n[e]=t}function bT(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-gs(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function l4(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-gs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Zt=0;function vw(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var yw,c4,xw,_w,ww,a6=!1,K3=[],ya=null,xa=null,_a=null,Wd=new Map,jd=new Map,da=[],TT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O7(n,e){switch(n){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Wd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jd.delete(e.pointerId)}}function Wf(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ah(e),e!==null&&c4(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function RT(n,e,t,r,i){switch(e){case"focusin":return ya=Wf(ya,n,e,t,r,i),!0;case"dragenter":return xa=Wf(xa,n,e,t,r,i),!0;case"mouseover":return _a=Wf(_a,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Wd.set(s,Wf(Wd.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jd.set(s,Wf(jd.get(s)||null,n,e,t,r,i)),!0}return!1}function Sw(n){var e=_l(n.target);if(e!==null){var t=tc(e);if(t!==null){if(e=t.tag,e===13){if(e=uw(t),e!==null){n.blockedOn=e,ww(n.priority,function(){xw(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function np(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=l6(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);n6=r,t.target.dispatchEvent(r),n6=null}else return e=Ah(t),e!==null&&c4(e),n.blockedOn=t,!1;e.shift()}return!0}function N7(n,e,t){np(n)&&t.delete(e)}function BT(){a6=!1,ya!==null&&np(ya)&&(ya=null),xa!==null&&np(xa)&&(xa=null),_a!==null&&np(_a)&&(_a=null),Wd.forEach(N7),jd.forEach(N7)}function jf(n,e){n.blockedOn===e&&(n.blockedOn=null,a6||(a6=!0,Bi.unstable_scheduleCallback(Bi.unstable_NormalPriority,BT)))}function Jd(n){function e(i){return jf(i,n)}if(0<K3.length){jf(K3[0],n);for(var t=1;t<K3.length;t++){var r=K3[t];r.blockedOn===n&&(r.blockedOn=null)}}for(ya!==null&&jf(ya,n),xa!==null&&jf(xa,n),_a!==null&&jf(_a,n),Wd.forEach(e),jd.forEach(e),t=0;t<da.length;t++)r=da[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<da.length&&(t=da[0],t.blockedOn===null);)Sw(t),t.blockedOn===null&&da.shift()}var Au=No.ReactCurrentBatchConfig,kp=!0;function PT(n,e,t,r){var i=Zt,s=Au.transition;Au.transition=null;try{Zt=1,u4(n,e,t,r)}finally{Zt=i,Au.transition=s}}function LT(n,e,t,r){var i=Zt,s=Au.transition;Au.transition=null;try{Zt=4,u4(n,e,t,r)}finally{Zt=i,Au.transition=s}}function u4(n,e,t,r){if(kp){var i=l6(n,e,t,r);if(i===null)_5(n,e,r,Op,t),O7(n,r);else if(RT(i,n,e,t,r))r.stopPropagation();else if(O7(n,r),e&4&&-1<TT.indexOf(n)){for(;i!==null;){var s=Ah(i);if(s!==null&&yw(s),s=l6(n,e,t,r),s===null&&_5(n,e,r,Op,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else _5(n,e,r,null,t)}}var Op=null;function l6(n,e,t,r){if(Op=null,n=o4(r),n=_l(n),n!==null)if(e=tc(n),e===null)n=null;else if(t=e.tag,t===13){if(n=uw(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Op=n,null}function Aw(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xT()){case a4:return 1;case pw:return 4;case Dp:case _T:return 16;case mw:return 536870912;default:return 16}default:return 16}}var pa=null,f4=null,rp=null;function Mw(){if(rp)return rp;var n,e=f4,t=e.length,r,i="value"in pa?pa.value:pa.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return rp=i.slice(n,1<r?1-r:void 0)}function ip(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Y3(){return!0}function U7(){return!1}function Li(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Y3:U7,this.isPropagationStopped=U7,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Y3)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Y3)},persist:function(){},isPersistent:Y3}),e}var tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d4=Li(tf),Sh=Mn({},tf,{view:0,detail:0}),IT=Li(Sh),f5,d5,Jf,g2=Mn({},Sh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h4,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Jf&&(Jf&&n.type==="mousemove"?(f5=n.screenX-Jf.screenX,d5=n.screenY-Jf.screenY):d5=f5=0,Jf=n),f5)},movementY:function(n){return"movementY"in n?n.movementY:d5}}),z7=Li(g2),DT=Mn({},g2,{dataTransfer:0}),FT=Li(DT),kT=Mn({},Sh,{relatedTarget:0}),h5=Li(kT),OT=Mn({},tf,{animationName:0,elapsedTime:0,pseudoElement:0}),NT=Li(OT),UT=Mn({},tf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),zT=Li(UT),GT=Mn({},tf,{data:0}),G7=Li(GT),HT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jT(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=WT[n])?!!e[n]:!1}function h4(){return jT}var JT=Mn({},Sh,{key:function(n){if(n.key){var e=HT[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=ip(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?VT[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h4,charCode:function(n){return n.type==="keypress"?ip(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ip(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),XT=Li(JT),KT=Mn({},g2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H7=Li(KT),YT=Mn({},Sh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h4}),ZT=Li(YT),QT=Mn({},tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),qT=Li(QT),$T=Mn({},g2,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),eR=Li($T),tR=[9,13,27,32],p4=Po&&"CompositionEvent"in window,bd=null;Po&&"documentMode"in document&&(bd=document.documentMode);var nR=Po&&"TextEvent"in window&&!bd,Cw=Po&&(!p4||bd&&8<bd&&11>=bd),V7=String.fromCharCode(32),W7=!1;function Ew(n,e){switch(n){case"keyup":return tR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bw(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var tu=!1;function rR(n,e){switch(n){case"compositionend":return bw(e);case"keypress":return e.which!==32?null:(W7=!0,V7);case"textInput":return n=e.data,n===V7&&W7?null:n;default:return null}}function iR(n,e){if(tu)return n==="compositionend"||!p4&&Ew(n,e)?(n=Mw(),rp=f4=pa=null,tu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cw&&e.locale!=="ko"?null:e.data;default:return null}}var sR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j7(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!sR[n.type]:e==="textarea"}function Tw(n,e,t,r){sw(r),e=Np(e,"onChange"),0<e.length&&(t=new d4("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Td=null,Xd=null;function oR(n){Uw(n,0)}function v2(n){var e=iu(n);if(q_(e))return n}function aR(n,e){if(n==="change")return e}var Rw=!1;if(Po){var p5;if(Po){var m5="oninput"in document;if(!m5){var J7=document.createElement("div");J7.setAttribute("oninput","return;"),m5=typeof J7.oninput=="function"}p5=m5}else p5=!1;Rw=p5&&(!document.documentMode||9<document.documentMode)}function X7(){Td&&(Td.detachEvent("onpropertychange",Bw),Xd=Td=null)}function Bw(n){if(n.propertyName==="value"&&v2(Xd)){var e=[];Tw(e,Xd,n,o4(n)),cw(oR,e)}}function lR(n,e,t){n==="focusin"?(X7(),Td=e,Xd=t,Td.attachEvent("onpropertychange",Bw)):n==="focusout"&&X7()}function cR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return v2(Xd)}function uR(n,e){if(n==="click")return v2(e)}function fR(n,e){if(n==="input"||n==="change")return v2(e)}function dR(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var _s=typeof Object.is=="function"?Object.is:dR;function Kd(n,e){if(_s(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Wm.call(e,i)||!_s(n[i],e[i]))return!1}return!0}function K7(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Y7(n,e){var t=K7(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=K7(t)}}function Pw(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Pw(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Lw(){for(var n=window,e=Pp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Pp(n.document)}return e}function m4(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function hR(n){var e=Lw(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Pw(t.ownerDocument.documentElement,t)){if(r!==null&&m4(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Y7(t,s);var o=Y7(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var pR=Po&&"documentMode"in document&&11>=document.documentMode,nu=null,c6=null,Rd=null,u6=!1;function Z7(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;u6||nu==null||nu!==Pp(r)||(r=nu,"selectionStart"in r&&m4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rd&&Kd(Rd,r)||(Rd=r,r=Np(c6,"onSelect"),0<r.length&&(e=new d4("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=nu)))}function Z3(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ru={animationend:Z3("Animation","AnimationEnd"),animationiteration:Z3("Animation","AnimationIteration"),animationstart:Z3("Animation","AnimationStart"),transitionend:Z3("Transition","TransitionEnd")},g5={},Iw={};Po&&(Iw=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function y2(n){if(g5[n])return g5[n];if(!ru[n])return n;var e=ru[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Iw)return g5[n]=e[t];return n}var Dw=y2("animationend"),Fw=y2("animationiteration"),kw=y2("animationstart"),Ow=y2("transitionend"),Nw=new Map,Q7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(n,e){Nw.set(n,e),ec(e,[n])}for(var v5=0;v5<Q7.length;v5++){var y5=Q7[v5],mR=y5.toLowerCase(),gR=y5[0].toUpperCase()+y5.slice(1);ka(mR,"on"+gR)}ka(Dw,"onAnimationEnd");ka(Fw,"onAnimationIteration");ka(kw,"onAnimationStart");ka("dblclick","onDoubleClick");ka("focusin","onFocus");ka("focusout","onBlur");ka(Ow,"onTransitionEnd");Ru("onMouseEnter",["mouseout","mouseover"]);Ru("onMouseLeave",["mouseout","mouseover"]);Ru("onPointerEnter",["pointerout","pointerover"]);Ru("onPointerLeave",["pointerout","pointerover"]);ec("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ec("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ec("onBeforeInput",["compositionend","keypress","textInput","paste"]);ec("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ec("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ec("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("cancel close invalid load scroll toggle".split(" ").concat(_d));function q7(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,mT(r,e,void 0,n),n.currentTarget=null}function Uw(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;q7(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;q7(i,a,c),s=l}}}if(Ip)throw n=s6,Ip=!1,s6=null,n}function ln(n,e){var t=e[m6];t===void 0&&(t=e[m6]=new Set);var r=n+"__bubble";t.has(r)||(zw(e,n,2,!1),t.add(r))}function x5(n,e,t){var r=0;e&&(r|=4),zw(t,n,r,e)}var Q3="_reactListening"+Math.random().toString(36).slice(2);function Yd(n){if(!n[Q3]){n[Q3]=!0,X_.forEach(function(t){t!=="selectionchange"&&(vR.has(t)||x5(t,!1,n),x5(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Q3]||(e[Q3]=!0,x5("selectionchange",!1,e))}}function zw(n,e,t,r){switch(Aw(e)){case 1:var i=PT;break;case 4:i=LT;break;default:i=u4}t=i.bind(null,e,t,n),i=void 0,!i6||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function _5(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=_l(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cw(function(){var c=s,u=o4(t),d=[];e:{var p=Nw.get(n);if(p!==void 0){var m=d4,g=n;switch(n){case"keypress":if(ip(t)===0)break e;case"keydown":case"keyup":m=XT;break;case"focusin":g="focus",m=h5;break;case"focusout":g="blur",m=h5;break;case"beforeblur":case"afterblur":m=h5;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=z7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=FT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ZT;break;case Dw:case Fw:case kw:m=NT;break;case Ow:m=qT;break;case"scroll":m=IT;break;case"wheel":m=eR;break;case"copy":case"cut":case"paste":m=zT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=H7}var v=(e&4)!==0,y=!v&&n==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var _=c,S;_!==null;){S=_;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,x!==null&&(M=Vd(_,x),M!=null&&v.push(Zd(_,M,S)))),y)break;_=_.return}0<v.length&&(p=new m(p,g,null,t,u),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==n6&&(g=t.relatedTarget||t.fromElement)&&(_l(g)||g[Lo]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?_l(g):null,g!==null&&(y=tc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(v=z7,M="onMouseLeave",x="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(v=H7,M="onPointerLeave",x="onPointerEnter",_="pointer"),y=m==null?p:iu(m),S=g==null?p:iu(g),p=new v(M,_+"leave",m,t,u),p.target=y,p.relatedTarget=S,M=null,_l(u)===c&&(v=new v(x,_+"enter",g,t,u),v.target=S,v.relatedTarget=y,M=v),y=M,m&&g)t:{for(v=m,x=g,_=0,S=v;S;S=Ec(S))_++;for(S=0,M=x;M;M=Ec(M))S++;for(;0<_-S;)v=Ec(v),_--;for(;0<S-_;)x=Ec(x),S--;for(;_--;){if(v===x||x!==null&&v===x.alternate)break t;v=Ec(v),x=Ec(x)}v=null}else v=null;m!==null&&$7(d,p,m,v,!1),g!==null&&y!==null&&$7(d,y,g,v,!0)}}e:{if(p=c?iu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var b=aR;else if(j7(p))if(Rw)b=fR;else{b=cR;var T=lR}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=uR);if(b&&(b=b(n,c))){Tw(d,b,t,u);break e}T&&T(n,p,c),n==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&Qm(p,"number",p.value)}switch(T=c?iu(c):window,n){case"focusin":(j7(T)||T.contentEditable==="true")&&(nu=T,c6=c,Rd=null);break;case"focusout":Rd=c6=nu=null;break;case"mousedown":u6=!0;break;case"contextmenu":case"mouseup":case"dragend":u6=!1,Z7(d,t,u);break;case"selectionchange":if(pR)break;case"keydown":case"keyup":Z7(d,t,u)}var R;if(p4)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else tu?Ew(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(Cw&&t.locale!=="ko"&&(tu||C!=="onCompositionStart"?C==="onCompositionEnd"&&tu&&(R=Mw()):(pa=u,f4="value"in pa?pa.value:pa.textContent,tu=!0)),T=Np(c,C),0<T.length&&(C=new G7(C,n,null,t,u),d.push({event:C,listeners:T}),R?C.data=R:(R=bw(t),R!==null&&(C.data=R)))),(R=nR?rR(n,t):iR(n,t))&&(c=Np(c,"onBeforeInput"),0<c.length&&(u=new G7("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=R))}Uw(d,e)})}function Zd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Np(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vd(n,t),s!=null&&r.unshift(Zd(n,s,i)),s=Vd(n,e),s!=null&&r.push(Zd(n,s,i))),n=n.return}return r}function Ec(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function $7(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Vd(t,s),l!=null&&o.unshift(Zd(t,l,a))):i||(l=Vd(t,s),l!=null&&o.push(Zd(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var yR=/\r\n?/g,xR=/\u0000|\uFFFD/g;function ev(n){return(typeof n=="string"?n:""+n).replace(yR,`
`).replace(xR,"")}function q3(n,e,t){if(e=ev(e),ev(n)!==e&&t)throw Error(Ge(425))}function Up(){}var f6=null,d6=null;function h6(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var p6=typeof setTimeout=="function"?setTimeout:void 0,_R=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,wR=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(n){return tv.resolve(null).then(n).catch(SR)}:p6;function SR(n){setTimeout(function(){throw n})}function w5(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Jd(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Jd(e)}function wa(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function nv(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var nf=Math.random().toString(36).slice(2),Os="__reactFiber$"+nf,Qd="__reactProps$"+nf,Lo="__reactContainer$"+nf,m6="__reactEvents$"+nf,AR="__reactListeners$"+nf,MR="__reactHandles$"+nf;function _l(n){var e=n[Os];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Lo]||t[Os]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=nv(n);n!==null;){if(t=n[Os])return t;n=nv(n)}return e}n=t,t=n.parentNode}return null}function Ah(n){return n=n[Os]||n[Lo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function iu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ge(33))}function x2(n){return n[Qd]||null}var g6=[],su=-1;function Oa(n){return{current:n}}function dn(n){0>su||(n.current=g6[su],g6[su]=null,su--)}function sn(n,e){su++,g6[su]=n.current,n.current=e}var Ra={},Fr=Oa(Ra),ci=Oa(!1),Vl=Ra;function Bu(n,e){var t=n.type.contextTypes;if(!t)return Ra;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ui(n){return n=n.childContextTypes,n!=null}function zp(){dn(ci),dn(Fr)}function rv(n,e,t){if(Fr.current!==Ra)throw Error(Ge(168));sn(Fr,e),sn(ci,t)}function Gw(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ge(108,lT(n)||"Unknown",i));return Mn({},t,r)}function Gp(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ra,Vl=Fr.current,sn(Fr,n),sn(ci,ci.current),!0}function iv(n,e,t){var r=n.stateNode;if(!r)throw Error(Ge(169));t?(n=Gw(n,e,Vl),r.__reactInternalMemoizedMergedChildContext=n,dn(ci),dn(Fr),sn(Fr,n)):dn(ci),sn(ci,t)}var yo=null,_2=!1,S5=!1;function Hw(n){yo===null?yo=[n]:yo.push(n)}function CR(n){_2=!0,Hw(n)}function Na(){if(!S5&&yo!==null){S5=!0;var n=0,e=Zt;try{var t=yo;for(Zt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}yo=null,_2=!1}catch(i){throw yo!==null&&(yo=yo.slice(n+1)),hw(a4,Na),i}finally{Zt=e,S5=!1}}return null}var ou=[],au=0,Hp=null,Vp=0,Ki=[],Yi=0,Wl=null,So=1,Ao="";function hl(n,e){ou[au++]=Vp,ou[au++]=Hp,Hp=n,Vp=e}function Vw(n,e,t){Ki[Yi++]=So,Ki[Yi++]=Ao,Ki[Yi++]=Wl,Wl=n;var r=So;n=Ao;var i=32-gs(r)-1;r&=~(1<<i),t+=1;var s=32-gs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,So=1<<32-gs(e)+i|t<<i|r,Ao=s+n}else So=1<<s|t<<i|r,Ao=n}function g4(n){n.return!==null&&(hl(n,1),Vw(n,1,0))}function v4(n){for(;n===Hp;)Hp=ou[--au],ou[au]=null,Vp=ou[--au],ou[au]=null;for(;n===Wl;)Wl=Ki[--Yi],Ki[Yi]=null,Ao=Ki[--Yi],Ki[Yi]=null,So=Ki[--Yi],Ki[Yi]=null}var Ti=null,bi=null,vn=!1,ps=null;function Ww(n,e){var t=Qi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function sv(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ti=n,bi=wa(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ti=n,bi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Wl!==null?{id:So,overflow:Ao}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Qi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ti=n,bi=null,!0):!1;default:return!1}}function v6(n){return(n.mode&1)!==0&&(n.flags&128)===0}function y6(n){if(vn){var e=bi;if(e){var t=e;if(!sv(n,e)){if(v6(n))throw Error(Ge(418));e=wa(t.nextSibling);var r=Ti;e&&sv(n,e)?Ww(r,t):(n.flags=n.flags&-4097|2,vn=!1,Ti=n)}}else{if(v6(n))throw Error(Ge(418));n.flags=n.flags&-4097|2,vn=!1,Ti=n}}}function ov(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ti=n}function $3(n){if(n!==Ti)return!1;if(!vn)return ov(n),vn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!h6(n.type,n.memoizedProps)),e&&(e=bi)){if(v6(n))throw jw(),Error(Ge(418));for(;e;)Ww(n,e),e=wa(e.nextSibling)}if(ov(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ge(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){bi=wa(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}bi=null}}else bi=Ti?wa(n.stateNode.nextSibling):null;return!0}function jw(){for(var n=bi;n;)n=wa(n.nextSibling)}function Pu(){bi=Ti=null,vn=!1}function y4(n){ps===null?ps=[n]:ps.push(n)}var ER=No.ReactCurrentBatchConfig;function fs(n,e){if(n&&n.defaultProps){e=Mn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Wp=Oa(null),jp=null,lu=null,x4=null;function _4(){x4=lu=jp=null}function w4(n){var e=Wp.current;dn(Wp),n._currentValue=e}function x6(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Mu(n,e){jp=n,x4=lu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ai=!0),n.firstContext=null)}function es(n){var e=n._currentValue;if(x4!==n)if(n={context:n,memoizedValue:e,next:null},lu===null){if(jp===null)throw Error(Ge(308));lu=n,jp.dependencies={lanes:0,firstContext:n}}else lu=lu.next=n;return e}var wl=null;function S4(n){wl===null?wl=[n]:wl.push(n)}function Jw(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,S4(e)):(t.next=i.next,i.next=t),e.interleaved=t,Io(n,r)}function Io(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var ua=!1;function A4(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xw(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function bo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Sa(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Io(n,t)}return i=r.interleaved,i===null?(e.next=e,S4(r)):(e.next=i.next,i.next=e),r.interleaved=e,Io(n,t)}function sp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,l4(n,t)}}function av(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Jp(n,e,t,r){var i=n.updateQueue;ua=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(p=e,m=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(m,d,p):g,p==null)break e;d=Mn({},d,p);break e;case 2:ua=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Jl|=o,n.lanes=o,n.memoizedState=d}}function lv(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ge(191,i));i.call(r)}}}var Kw=new J_.Component().refs;function _6(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Mn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var w2={isMounted:function(n){return(n=n._reactInternals)?tc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Yr(),i=Ma(n),s=bo(r,i);s.payload=e,t!=null&&(s.callback=t),e=Sa(n,s,i),e!==null&&(vs(e,n,i,r),sp(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Yr(),i=Ma(n),s=bo(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Sa(n,s,i),e!==null&&(vs(e,n,i,r),sp(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Yr(),r=Ma(n),i=bo(t,r);i.tag=2,e!=null&&(i.callback=e),e=Sa(n,i,r),e!==null&&(vs(e,n,r,t),sp(e,n,r))}};function cv(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Kd(t,r)||!Kd(i,s):!0}function Yw(n,e,t){var r=!1,i=Ra,s=e.contextType;return typeof s=="object"&&s!==null?s=es(s):(i=ui(e)?Vl:Fr.current,r=e.contextTypes,s=(r=r!=null)?Bu(n,i):Ra),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=w2,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function uv(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&w2.enqueueReplaceState(e,e.state,null)}function w6(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=Kw,A4(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=es(s):(s=ui(e)?Vl:Fr.current,i.context=Bu(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_6(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&w2.enqueueReplaceState(i,i.state,null),Jp(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Xf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ge(309));var r=t.stateNode}if(!r)throw Error(Ge(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Kw&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ge(284));if(!t._owner)throw Error(Ge(290,n))}return n}function e0(n,e){throw n=Object.prototype.toString.call(e),Error(Ge(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function fv(n){var e=n._init;return e(n._payload)}function Zw(n){function e(x,_){if(n){var S=x.deletions;S===null?(x.deletions=[_],x.flags|=16):S.push(_)}}function t(x,_){if(!n)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=Ca(x,_),x.index=0,x.sibling=null,x}function s(x,_,S){return x.index=S,n?(S=x.alternate,S!==null?(S=S.index,S<_?(x.flags|=2,_):S):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,_,S,M){return _===null||_.tag!==6?(_=R5(S,x.mode,M),_.return=x,_):(_=i(_,S),_.return=x,_)}function l(x,_,S,M){var b=S.type;return b===eu?u(x,_,S.props.children,M,S.key):_!==null&&(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ca&&fv(b)===_.type)?(M=i(_,S.props),M.ref=Xf(x,_,S),M.return=x,M):(M=fp(S.type,S.key,S.props,null,x.mode,M),M.ref=Xf(x,_,S),M.return=x,M)}function c(x,_,S,M){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=B5(S,x.mode,M),_.return=x,_):(_=i(_,S.children||[]),_.return=x,_)}function u(x,_,S,M,b){return _===null||_.tag!==7?(_=Ll(S,x.mode,M,b),_.return=x,_):(_=i(_,S),_.return=x,_)}function d(x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=R5(""+_,x.mode,S),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case V3:return S=fp(_.type,_.key,_.props,null,x.mode,S),S.ref=Xf(x,null,_),S.return=x,S;case $c:return _=B5(_,x.mode,S),_.return=x,_;case ca:var M=_._init;return d(x,M(_._payload),S)}if(yd(_)||Hf(_))return _=Ll(_,x.mode,S,null),_.return=x,_;e0(x,_)}return null}function p(x,_,S,M){var b=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:a(x,_,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case V3:return S.key===b?l(x,_,S,M):null;case $c:return S.key===b?c(x,_,S,M):null;case ca:return b=S._init,p(x,_,b(S._payload),M)}if(yd(S)||Hf(S))return b!==null?null:u(x,_,S,M,null);e0(x,S)}return null}function m(x,_,S,M,b){if(typeof M=="string"&&M!==""||typeof M=="number")return x=x.get(S)||null,a(_,x,""+M,b);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case V3:return x=x.get(M.key===null?S:M.key)||null,l(_,x,M,b);case $c:return x=x.get(M.key===null?S:M.key)||null,c(_,x,M,b);case ca:var T=M._init;return m(x,_,S,T(M._payload),b)}if(yd(M)||Hf(M))return x=x.get(S)||null,u(_,x,M,b,null);e0(_,M)}return null}function g(x,_,S,M){for(var b=null,T=null,R=_,C=_=0,P=null;R!==null&&C<S.length;C++){R.index>C?(P=R,R=null):P=R.sibling;var L=p(x,R,S[C],M);if(L===null){R===null&&(R=P);break}n&&R&&L.alternate===null&&e(x,R),_=s(L,_,C),T===null?b=L:T.sibling=L,T=L,R=P}if(C===S.length)return t(x,R),vn&&hl(x,C),b;if(R===null){for(;C<S.length;C++)R=d(x,S[C],M),R!==null&&(_=s(R,_,C),T===null?b=R:T.sibling=R,T=R);return vn&&hl(x,C),b}for(R=r(x,R);C<S.length;C++)P=m(R,x,C,S[C],M),P!==null&&(n&&P.alternate!==null&&R.delete(P.key===null?C:P.key),_=s(P,_,C),T===null?b=P:T.sibling=P,T=P);return n&&R.forEach(function(z){return e(x,z)}),vn&&hl(x,C),b}function v(x,_,S,M){var b=Hf(S);if(typeof b!="function")throw Error(Ge(150));if(S=b.call(S),S==null)throw Error(Ge(151));for(var T=b=null,R=_,C=_=0,P=null,L=S.next();R!==null&&!L.done;C++,L=S.next()){R.index>C?(P=R,R=null):P=R.sibling;var z=p(x,R,L.value,M);if(z===null){R===null&&(R=P);break}n&&R&&z.alternate===null&&e(x,R),_=s(z,_,C),T===null?b=z:T.sibling=z,T=z,R=P}if(L.done)return t(x,R),vn&&hl(x,C),b;if(R===null){for(;!L.done;C++,L=S.next())L=d(x,L.value,M),L!==null&&(_=s(L,_,C),T===null?b=L:T.sibling=L,T=L);return vn&&hl(x,C),b}for(R=r(x,R);!L.done;C++,L=S.next())L=m(R,x,C,L.value,M),L!==null&&(n&&L.alternate!==null&&R.delete(L.key===null?C:L.key),_=s(L,_,C),T===null?b=L:T.sibling=L,T=L);return n&&R.forEach(function(G){return e(x,G)}),vn&&hl(x,C),b}function y(x,_,S,M){if(typeof S=="object"&&S!==null&&S.type===eu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case V3:e:{for(var b=S.key,T=_;T!==null;){if(T.key===b){if(b=S.type,b===eu){if(T.tag===7){t(x,T.sibling),_=i(T,S.props.children),_.return=x,x=_;break e}}else if(T.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ca&&fv(b)===T.type){t(x,T.sibling),_=i(T,S.props),_.ref=Xf(x,T,S),_.return=x,x=_;break e}t(x,T);break}else e(x,T);T=T.sibling}S.type===eu?(_=Ll(S.props.children,x.mode,M,S.key),_.return=x,x=_):(M=fp(S.type,S.key,S.props,null,x.mode,M),M.ref=Xf(x,_,S),M.return=x,x=M)}return o(x);case $c:e:{for(T=S.key;_!==null;){if(_.key===T)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){t(x,_.sibling),_=i(_,S.children||[]),_.return=x,x=_;break e}else{t(x,_);break}else e(x,_);_=_.sibling}_=B5(S,x.mode,M),_.return=x,x=_}return o(x);case ca:return T=S._init,y(x,_,T(S._payload),M)}if(yd(S))return g(x,_,S,M);if(Hf(S))return v(x,_,S,M);e0(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(t(x,_.sibling),_=i(_,S),_.return=x,x=_):(t(x,_),_=R5(S,x.mode,M),_.return=x,x=_),o(x)):t(x,_)}return y}var Lu=Zw(!0),Qw=Zw(!1),Mh={},Hs=Oa(Mh),qd=Oa(Mh),$d=Oa(Mh);function Sl(n){if(n===Mh)throw Error(Ge(174));return n}function M4(n,e){switch(sn($d,e),sn(qd,n),sn(Hs,Mh),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$m(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=$m(e,n)}dn(Hs),sn(Hs,e)}function Iu(){dn(Hs),dn(qd),dn($d)}function qw(n){Sl($d.current);var e=Sl(Hs.current),t=$m(e,n.type);e!==t&&(sn(qd,n),sn(Hs,t))}function C4(n){qd.current===n&&(dn(Hs),dn(qd))}var _n=Oa(0);function Xp(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var A5=[];function E4(){for(var n=0;n<A5.length;n++)A5[n]._workInProgressVersionPrimary=null;A5.length=0}var op=No.ReactCurrentDispatcher,M5=No.ReactCurrentBatchConfig,jl=0,An=null,Qn=null,ar=null,Kp=!1,Bd=!1,eh=0,bR=0;function br(){throw Error(Ge(321))}function b4(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!_s(n[t],e[t]))return!1;return!0}function T4(n,e,t,r,i,s){if(jl=s,An=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,op.current=n===null||n.memoizedState===null?PR:LR,n=t(r,i),Bd){s=0;do{if(Bd=!1,eh=0,25<=s)throw Error(Ge(301));s+=1,ar=Qn=null,e.updateQueue=null,op.current=IR,n=t(r,i)}while(Bd)}if(op.current=Yp,e=Qn!==null&&Qn.next!==null,jl=0,ar=Qn=An=null,Kp=!1,e)throw Error(Ge(300));return n}function R4(){var n=eh!==0;return eh=0,n}function Fs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?An.memoizedState=ar=n:ar=ar.next=n,ar}function ts(){if(Qn===null){var n=An.alternate;n=n!==null?n.memoizedState:null}else n=Qn.next;var e=ar===null?An.memoizedState:ar.next;if(e!==null)ar=e,Qn=n;else{if(n===null)throw Error(Ge(310));Qn=n,n={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},ar===null?An.memoizedState=ar=n:ar=ar.next=n}return ar}function th(n,e){return typeof e=="function"?e(n):e}function C5(n){var e=ts(),t=e.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=n;var r=Qn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((jl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,An.lanes|=u,Jl|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,_s(r,e.memoizedState)||(ai=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,An.lanes|=s,Jl|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function E5(n){var e=ts(),t=e.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);_s(s,e.memoizedState)||(ai=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function $w(){}function eS(n,e){var t=An,r=ts(),i=e(),s=!_s(r.memoizedState,i);if(s&&(r.memoizedState=i,ai=!0),r=r.queue,B4(rS.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||ar!==null&&ar.memoizedState.tag&1){if(t.flags|=2048,nh(9,nS.bind(null,t,r,i,e),void 0,null),cr===null)throw Error(Ge(349));jl&30||tS(t,e,i)}return i}function tS(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=An.updateQueue,e===null?(e={lastEffect:null,stores:null},An.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function nS(n,e,t,r){e.value=t,e.getSnapshot=r,iS(e)&&sS(n)}function rS(n,e,t){return t(function(){iS(e)&&sS(n)})}function iS(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!_s(n,t)}catch{return!0}}function sS(n){var e=Io(n,1);e!==null&&vs(e,n,1,-1)}function dv(n){var e=Fs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:n},e.queue=n,n=n.dispatch=BR.bind(null,An,n),[e.memoizedState,n]}function nh(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=An.updateQueue,e===null?(e={lastEffect:null,stores:null},An.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function oS(){return ts().memoizedState}function ap(n,e,t,r){var i=Fs();An.flags|=n,i.memoizedState=nh(1|e,t,void 0,r===void 0?null:r)}function S2(n,e,t,r){var i=ts();r=r===void 0?null:r;var s=void 0;if(Qn!==null){var o=Qn.memoizedState;if(s=o.destroy,r!==null&&b4(r,o.deps)){i.memoizedState=nh(e,t,s,r);return}}An.flags|=n,i.memoizedState=nh(1|e,t,s,r)}function hv(n,e){return ap(8390656,8,n,e)}function B4(n,e){return S2(2048,8,n,e)}function aS(n,e){return S2(4,2,n,e)}function lS(n,e){return S2(4,4,n,e)}function cS(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function uS(n,e,t){return t=t!=null?t.concat([n]):null,S2(4,4,cS.bind(null,e,n),t)}function P4(){}function fS(n,e){var t=ts();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&b4(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function dS(n,e){var t=ts();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&b4(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function hS(n,e,t){return jl&21?(_s(t,e)||(t=gw(),An.lanes|=t,Jl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ai=!0),n.memoizedState=t)}function TR(n,e){var t=Zt;Zt=t!==0&&4>t?t:4,n(!0);var r=M5.transition;M5.transition={};try{n(!1),e()}finally{Zt=t,M5.transition=r}}function pS(){return ts().memoizedState}function RR(n,e,t){var r=Ma(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},mS(n))gS(e,t);else if(t=Jw(n,e,t,r),t!==null){var i=Yr();vs(t,n,r,i),vS(t,e,r)}}function BR(n,e,t){var r=Ma(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(mS(n))gS(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,_s(a,o)){var l=e.interleaved;l===null?(i.next=i,S4(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=Jw(n,e,i,r),t!==null&&(i=Yr(),vs(t,n,r,i),vS(t,e,r))}}function mS(n){var e=n.alternate;return n===An||e!==null&&e===An}function gS(n,e){Bd=Kp=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function vS(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,l4(n,t)}}var Yp={readContext:es,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},PR={readContext:es,useCallback:function(n,e){return Fs().memoizedState=[n,e===void 0?null:e],n},useContext:es,useEffect:hv,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ap(4194308,4,cS.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ap(4194308,4,n,e)},useInsertionEffect:function(n,e){return ap(4,2,n,e)},useMemo:function(n,e){var t=Fs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Fs();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=RR.bind(null,An,n),[r.memoizedState,n]},useRef:function(n){var e=Fs();return n={current:n},e.memoizedState=n},useState:dv,useDebugValue:P4,useDeferredValue:function(n){return Fs().memoizedState=n},useTransition:function(){var n=dv(!1),e=n[0];return n=TR.bind(null,n[1]),Fs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=An,i=Fs();if(vn){if(t===void 0)throw Error(Ge(407));t=t()}else{if(t=e(),cr===null)throw Error(Ge(349));jl&30||tS(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,hv(rS.bind(null,r,s,n),[n]),r.flags|=2048,nh(9,nS.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Fs(),e=cr.identifierPrefix;if(vn){var t=Ao,r=So;t=(r&~(1<<32-gs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=eh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=bR++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},LR={readContext:es,useCallback:fS,useContext:es,useEffect:B4,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:lS,useMemo:dS,useReducer:C5,useRef:oS,useState:function(){return C5(th)},useDebugValue:P4,useDeferredValue:function(n){var e=ts();return hS(e,Qn.memoizedState,n)},useTransition:function(){var n=C5(th)[0],e=ts().memoizedState;return[n,e]},useMutableSource:$w,useSyncExternalStore:eS,useId:pS,unstable_isNewReconciler:!1},IR={readContext:es,useCallback:fS,useContext:es,useEffect:B4,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:lS,useMemo:dS,useReducer:E5,useRef:oS,useState:function(){return E5(th)},useDebugValue:P4,useDeferredValue:function(n){var e=ts();return Qn===null?e.memoizedState=n:hS(e,Qn.memoizedState,n)},useTransition:function(){var n=E5(th)[0],e=ts().memoizedState;return[n,e]},useMutableSource:$w,useSyncExternalStore:eS,useId:pS,unstable_isNewReconciler:!1};function Du(n,e){try{var t="",r=e;do t+=aT(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function b5(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function S6(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var DR=typeof WeakMap=="function"?WeakMap:Map;function yS(n,e,t){t=bo(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Qp||(Qp=!0,L6=r),S6(n,e)},t}function xS(n,e,t){t=bo(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){S6(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){S6(n,e),typeof r!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function pv(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new DR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=KR.bind(null,n,e,t),e.then(n,n))}function mv(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function gv(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=bo(-1,1),e.tag=2,Sa(t,e,1))),t.lanes|=1),n)}var FR=No.ReactCurrentOwner,ai=!1;function Xr(n,e,t,r){e.child=n===null?Qw(e,null,t,r):Lu(e,n.child,t,r)}function vv(n,e,t,r,i){t=t.render;var s=e.ref;return Mu(e,i),r=T4(n,e,t,r,s,i),t=R4(),n!==null&&!ai?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Do(n,e,i)):(vn&&t&&g4(e),e.flags|=1,Xr(n,e,r,i),e.child)}function yv(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!U4(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,_S(n,e,s,r,i)):(n=fp(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Kd,t(o,r)&&n.ref===e.ref)return Do(n,e,i)}return e.flags|=1,n=Ca(s,r),n.ref=e.ref,n.return=e,e.child=n}function _S(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Kd(s,r)&&n.ref===e.ref)if(ai=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(ai=!0);else return e.lanes=n.lanes,Do(n,e,i)}return A6(n,e,t,r,i)}function wS(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(uu,Ci),Ci|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,sn(uu,Ci),Ci|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,sn(uu,Ci),Ci|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,sn(uu,Ci),Ci|=r;return Xr(n,e,i,t),e.child}function SS(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function A6(n,e,t,r,i){var s=ui(t)?Vl:Fr.current;return s=Bu(e,s),Mu(e,i),t=T4(n,e,t,r,s,i),r=R4(),n!==null&&!ai?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Do(n,e,i)):(vn&&r&&g4(e),e.flags|=1,Xr(n,e,t,i),e.child)}function xv(n,e,t,r,i){if(ui(t)){var s=!0;Gp(e)}else s=!1;if(Mu(e,i),e.stateNode===null)lp(n,e),Yw(e,t,r),w6(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=es(c):(c=ui(t)?Vl:Fr.current,c=Bu(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&uv(e,o,r,c),ua=!1;var p=e.memoizedState;o.state=p,Jp(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ci.current||ua?(typeof u=="function"&&(_6(e,t,u,r),l=e.memoizedState),(a=ua||cv(e,t,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Xw(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:fs(e.type,a),o.props=c,d=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=es(l):(l=ui(t)?Vl:Fr.current,l=Bu(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&uv(e,o,r,l),ua=!1,p=e.memoizedState,o.state=p,Jp(e,r,o,i);var g=e.memoizedState;a!==d||p!==g||ci.current||ua?(typeof m=="function"&&(_6(e,t,m,r),g=e.memoizedState),(c=ua||cv(e,t,c,r,p,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return M6(n,e,t,r,s,i)}function M6(n,e,t,r,i,s){SS(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&iv(e,t,!1),Do(n,e,s);r=e.stateNode,FR.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Lu(e,n.child,null,s),e.child=Lu(e,null,a,s)):Xr(n,e,a,s),e.memoizedState=r.state,i&&iv(e,t,!0),e.child}function AS(n){var e=n.stateNode;e.pendingContext?rv(n,e.pendingContext,e.pendingContext!==e.context):e.context&&rv(n,e.context,!1),M4(n,e.containerInfo)}function _v(n,e,t,r,i){return Pu(),y4(i),e.flags|=256,Xr(n,e,t,r),e.child}var C6={dehydrated:null,treeContext:null,retryLane:0};function E6(n){return{baseLanes:n,cachePool:null,transitions:null}}function MS(n,e,t){var r=e.pendingProps,i=_n.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),sn(_n,i&1),n===null)return y6(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=C2(o,r,0,null),n=Ll(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=E6(t),e.memoizedState=C6,n):L4(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kR(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ca(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ca(a,s):(s=Ll(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?E6(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=C6,r}return s=n.child,n=s.sibling,r=Ca(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function L4(n,e){return e=C2({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function t0(n,e,t,r){return r!==null&&y4(r),Lu(e,n.child,null,t),n=L4(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function kR(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=b5(Error(Ge(422))),t0(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=C2({mode:"visible",children:r.children},i,0,null),s=Ll(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Lu(e,n.child,null,o),e.child.memoizedState=E6(o),e.memoizedState=C6,s);if(!(e.mode&1))return t0(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ge(419)),r=b5(s,r,void 0),t0(n,e,o,r)}if(a=(o&n.childLanes)!==0,ai||a){if(r=cr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Io(n,i),vs(r,n,i,-1))}return N4(),r=b5(Error(Ge(421))),t0(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=YR.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,bi=wa(i.nextSibling),Ti=e,vn=!0,ps=null,n!==null&&(Ki[Yi++]=So,Ki[Yi++]=Ao,Ki[Yi++]=Wl,So=n.id,Ao=n.overflow,Wl=e),e=L4(e,r.children),e.flags|=4096,e)}function wv(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),x6(n.return,e,t)}function T5(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function CS(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xr(n,e,r.children,t),r=_n.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&wv(n,t,e);else if(n.tag===19)wv(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(sn(_n,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Xp(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),T5(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Xp(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}T5(e,!0,t,null,s);break;case"together":T5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Do(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Jl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ge(153));if(e.child!==null){for(n=e.child,t=Ca(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ca(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function OR(n,e,t){switch(e.tag){case 3:AS(e),Pu();break;case 5:qw(e);break;case 1:ui(e.type)&&Gp(e);break;case 4:M4(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;sn(Wp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(sn(_n,_n.current&1),e.flags|=128,null):t&e.child.childLanes?MS(n,e,t):(sn(_n,_n.current&1),n=Do(n,e,t),n!==null?n.sibling:null);sn(_n,_n.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return CS(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sn(_n,_n.current),r)break;return null;case 22:case 23:return e.lanes=0,wS(n,e,t)}return Do(n,e,t)}var ES,b6,bS,TS;ES=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};b6=function(){};bS=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Sl(Hs.current);var s=null;switch(t){case"input":i=Ym(n,i),r=Ym(n,r),s=[];break;case"select":i=Mn({},i,{value:void 0}),r=Mn({},r,{value:void 0}),s=[];break;case"textarea":i=qm(n,i),r=qm(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Up)}e6(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ln("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};TS=function(n,e,t,r){t!==r&&(e.flags|=4)};function Kf(n,e){if(!vn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Tr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function NR(n,e,t){var r=e.pendingProps;switch(v4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(e),null;case 1:return ui(e.type)&&zp(),Tr(e),null;case 3:return r=e.stateNode,Iu(),dn(ci),dn(Fr),E4(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&($3(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ps!==null&&(F6(ps),ps=null))),b6(n,e),Tr(e),null;case 5:C4(e);var i=Sl($d.current);if(t=e.type,n!==null&&e.stateNode!=null)bS(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ge(166));return Tr(e),null}if(n=Sl(Hs.current),$3(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Os]=e,r[Qd]=s,n=(e.mode&1)!==0,t){case"dialog":ln("cancel",r),ln("close",r);break;case"iframe":case"object":case"embed":ln("load",r);break;case"video":case"audio":for(i=0;i<_d.length;i++)ln(_d[i],r);break;case"source":ln("error",r);break;case"img":case"image":case"link":ln("error",r),ln("load",r);break;case"details":ln("toggle",r);break;case"input":B7(r,s),ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ln("invalid",r);break;case"textarea":L7(r,s),ln("invalid",r)}e6(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&q3(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&q3(r.textContent,a,n),i=["children",""+a]):Gd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ln("scroll",r)}switch(t){case"input":W3(r),P7(r,s,!0);break;case"textarea":W3(r),I7(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Up)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=tw(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Os]=e,n[Qd]=r,ES(n,e,!1,!1),e.stateNode=n;e:{switch(o=t6(t,r),t){case"dialog":ln("cancel",n),ln("close",n),i=r;break;case"iframe":case"object":case"embed":ln("load",n),i=r;break;case"video":case"audio":for(i=0;i<_d.length;i++)ln(_d[i],n);i=r;break;case"source":ln("error",n),i=r;break;case"img":case"image":case"link":ln("error",n),ln("load",n),i=r;break;case"details":ln("toggle",n),i=r;break;case"input":B7(n,r),i=Ym(n,r),ln("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Mn({},r,{value:void 0}),ln("invalid",n);break;case"textarea":L7(n,r),i=qm(n,r),ln("invalid",n);break;default:i=r}e6(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iw(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nw(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Hd(n,l):typeof l=="number"&&Hd(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ln("scroll",n):l!=null&&n4(n,s,l,o))}switch(t){case"input":W3(n),P7(n,r,!1);break;case"textarea":W3(n),I7(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ta(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?_u(n,!!r.multiple,s,!1):r.defaultValue!=null&&_u(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Up)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tr(e),null;case 6:if(n&&e.stateNode!=null)TS(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ge(166));if(t=Sl($d.current),Sl(Hs.current),$3(e)){if(r=e.stateNode,t=e.memoizedProps,r[Os]=e,(s=r.nodeValue!==t)&&(n=Ti,n!==null))switch(n.tag){case 3:q3(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&q3(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Os]=e,e.stateNode=r}return Tr(e),null;case 13:if(dn(_n),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(vn&&bi!==null&&e.mode&1&&!(e.flags&128))jw(),Pu(),e.flags|=98560,s=!1;else if(s=$3(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ge(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ge(317));s[Os]=e}else Pu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tr(e),s=!1}else ps!==null&&(F6(ps),ps=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||_n.current&1?qn===0&&(qn=3):N4())),e.updateQueue!==null&&(e.flags|=4),Tr(e),null);case 4:return Iu(),b6(n,e),n===null&&Yd(e.stateNode.containerInfo),Tr(e),null;case 10:return w4(e.type._context),Tr(e),null;case 17:return ui(e.type)&&zp(),Tr(e),null;case 19:if(dn(_n),s=e.memoizedState,s===null)return Tr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Kf(s,!1);else{if(qn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Xp(n),o!==null){for(e.flags|=128,Kf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return sn(_n,_n.current&1|2),e.child}n=n.sibling}s.tail!==null&&kn()>Fu&&(e.flags|=128,r=!0,Kf(s,!1),e.lanes=4194304)}else{if(!r)if(n=Xp(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Kf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!vn)return Tr(e),null}else 2*kn()-s.renderingStartTime>Fu&&t!==1073741824&&(e.flags|=128,r=!0,Kf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=kn(),e.sibling=null,t=_n.current,sn(_n,r?t&1|2:t&1),e):(Tr(e),null);case 22:case 23:return O4(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ci&1073741824&&(Tr(e),e.subtreeFlags&6&&(e.flags|=8192)):Tr(e),null;case 24:return null;case 25:return null}throw Error(Ge(156,e.tag))}function UR(n,e){switch(v4(e),e.tag){case 1:return ui(e.type)&&zp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Iu(),dn(ci),dn(Fr),E4(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return C4(e),null;case 13:if(dn(_n),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ge(340));Pu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return dn(_n),null;case 4:return Iu(),null;case 10:return w4(e.type._context),null;case 22:case 23:return O4(),null;case 24:return null;default:return null}}var n0=!1,Pr=!1,zR=typeof WeakSet=="function"?WeakSet:Set,nt=null;function cu(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){bn(n,e,r)}else t.current=null}function T6(n,e,t){try{t()}catch(r){bn(n,e,r)}}var Sv=!1;function GR(n,e){if(f6=kp,n=Lw(),m4(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,p=null;t:for(;;){for(var m;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(d6={focusedElem:n,selectionRange:t},kp=!1,nt=e;nt!==null;)if(e=nt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,nt=n;else for(;nt!==null;){e=nt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:fs(e.type,v),y);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(M){bn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,nt=n;break}nt=e.return}return g=Sv,Sv=!1,g}function Pd(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&T6(e,t,s)}i=i.next}while(i!==r)}}function A2(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function R6(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function RS(n){var e=n.alternate;e!==null&&(n.alternate=null,RS(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Os],delete e[Qd],delete e[m6],delete e[AR],delete e[MR])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function BS(n){return n.tag===5||n.tag===3||n.tag===4}function Av(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||BS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function B6(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Up));else if(r!==4&&(n=n.child,n!==null))for(B6(n,e,t),n=n.sibling;n!==null;)B6(n,e,t),n=n.sibling}function P6(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(P6(n,e,t),n=n.sibling;n!==null;)P6(n,e,t),n=n.sibling}var gr=null,ds=!1;function ea(n,e,t){for(t=t.child;t!==null;)PS(n,e,t),t=t.sibling}function PS(n,e,t){if(Gs&&typeof Gs.onCommitFiberUnmount=="function")try{Gs.onCommitFiberUnmount(m2,t)}catch{}switch(t.tag){case 5:Pr||cu(t,e);case 6:var r=gr,i=ds;gr=null,ea(n,e,t),gr=r,ds=i,gr!==null&&(ds?(n=gr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):gr.removeChild(t.stateNode));break;case 18:gr!==null&&(ds?(n=gr,t=t.stateNode,n.nodeType===8?w5(n.parentNode,t):n.nodeType===1&&w5(n,t),Jd(n)):w5(gr,t.stateNode));break;case 4:r=gr,i=ds,gr=t.stateNode.containerInfo,ds=!0,ea(n,e,t),gr=r,ds=i;break;case 0:case 11:case 14:case 15:if(!Pr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&T6(t,e,o),i=i.next}while(i!==r)}ea(n,e,t);break;case 1:if(!Pr&&(cu(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){bn(t,e,a)}ea(n,e,t);break;case 21:ea(n,e,t);break;case 22:t.mode&1?(Pr=(r=Pr)||t.memoizedState!==null,ea(n,e,t),Pr=r):ea(n,e,t);break;default:ea(n,e,t)}}function Mv(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new zR),e.forEach(function(r){var i=ZR.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function as(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:gr=a.stateNode,ds=!1;break e;case 3:gr=a.stateNode.containerInfo,ds=!0;break e;case 4:gr=a.stateNode.containerInfo,ds=!0;break e}a=a.return}if(gr===null)throw Error(Ge(160));PS(s,o,i),gr=null,ds=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){bn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LS(e,n),e=e.sibling}function LS(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(as(e,n),Ds(n),r&4){try{Pd(3,n,n.return),A2(3,n)}catch(v){bn(n,n.return,v)}try{Pd(5,n,n.return)}catch(v){bn(n,n.return,v)}}break;case 1:as(e,n),Ds(n),r&512&&t!==null&&cu(t,t.return);break;case 5:if(as(e,n),Ds(n),r&512&&t!==null&&cu(t,t.return),n.flags&32){var i=n.stateNode;try{Hd(i,"")}catch(v){bn(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$_(i,s),t6(a,o);var c=t6(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?iw(i,d):u==="dangerouslySetInnerHTML"?nw(i,d):u==="children"?Hd(i,d):n4(i,u,d,c)}switch(a){case"input":Zm(i,s);break;case"textarea":ew(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?_u(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?_u(i,!!s.multiple,s.defaultValue,!0):_u(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qd]=s}catch(v){bn(n,n.return,v)}}break;case 6:if(as(e,n),Ds(n),r&4){if(n.stateNode===null)throw Error(Ge(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){bn(n,n.return,v)}}break;case 3:if(as(e,n),Ds(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Jd(e.containerInfo)}catch(v){bn(n,n.return,v)}break;case 4:as(e,n),Ds(n);break;case 13:as(e,n),Ds(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(F4=kn())),r&4&&Mv(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Pr=(c=Pr)||u,as(e,n),Pr=c):as(e,n),Ds(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(nt=n,u=n.child;u!==null;){for(d=nt=u;nt!==null;){switch(p=nt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Pd(4,p,p.return);break;case 1:cu(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){bn(r,t,v)}}break;case 5:cu(p,p.return);break;case 22:if(p.memoizedState!==null){Ev(d);continue}}m!==null?(m.return=p,nt=m):Ev(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rw("display",o))}catch(v){bn(n,n.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){bn(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:as(e,n),Ds(n),r&4&&Mv(n);break;case 21:break;default:as(e,n),Ds(n)}}function Ds(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(BS(t)){var r=t;break e}t=t.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hd(i,""),r.flags&=-33);var s=Av(n);P6(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Av(n);B6(n,a,o);break;default:throw Error(Ge(161))}}catch(l){bn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function HR(n,e,t){nt=n,IS(n)}function IS(n,e,t){for(var r=(n.mode&1)!==0;nt!==null;){var i=nt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||n0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pr;a=n0;var c=Pr;if(n0=o,(Pr=l)&&!c)for(nt=i;nt!==null;)o=nt,l=o.child,o.tag===22&&o.memoizedState!==null?bv(i):l!==null?(l.return=o,nt=l):bv(i);for(;s!==null;)nt=s,IS(s),s=s.sibling;nt=i,n0=a,Pr=c}Cv(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,nt=s):Cv(n)}}function Cv(n){for(;nt!==null;){var e=nt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pr||A2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:fs(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}lv(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Jd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}Pr||e.flags&512&&R6(e)}catch(p){bn(e,e.return,p)}}if(e===n){nt=null;break}if(t=e.sibling,t!==null){t.return=e.return,nt=t;break}nt=e.return}}function Ev(n){for(;nt!==null;){var e=nt;if(e===n){nt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,nt=t;break}nt=e.return}}function bv(n){for(;nt!==null;){var e=nt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{A2(4,e)}catch(l){bn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bn(e,i,l)}}var s=e.return;try{R6(e)}catch(l){bn(e,s,l)}break;case 5:var o=e.return;try{R6(e)}catch(l){bn(e,o,l)}}}catch(l){bn(e,e.return,l)}if(e===n){nt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,nt=a;break}nt=e.return}}var VR=Math.ceil,Zp=No.ReactCurrentDispatcher,I4=No.ReactCurrentOwner,qi=No.ReactCurrentBatchConfig,Wt=0,cr=null,jn=null,yr=0,Ci=0,uu=Oa(0),qn=0,rh=null,Jl=0,M2=0,D4=0,Ld=null,ii=null,F4=0,Fu=1/0,go=null,Qp=!1,L6=null,Aa=null,r0=!1,ma=null,qp=0,Id=0,I6=null,cp=-1,up=0;function Yr(){return Wt&6?kn():cp!==-1?cp:cp=kn()}function Ma(n){return n.mode&1?Wt&2&&yr!==0?yr&-yr:ER.transition!==null?(up===0&&(up=gw()),up):(n=Zt,n!==0||(n=window.event,n=n===void 0?16:Aw(n.type)),n):1}function vs(n,e,t,r){if(50<Id)throw Id=0,I6=null,Error(Ge(185));wh(n,t,r),(!(Wt&2)||n!==cr)&&(n===cr&&(!(Wt&2)&&(M2|=t),qn===4&&ha(n,yr)),fi(n,r),t===1&&Wt===0&&!(e.mode&1)&&(Fu=kn()+500,_2&&Na()))}function fi(n,e){var t=n.callbackNode;ET(n,e);var r=Fp(n,n===cr?yr:0);if(r===0)t!==null&&k7(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&k7(t),e===1)n.tag===0?CR(Tv.bind(null,n)):Hw(Tv.bind(null,n)),wR(function(){!(Wt&6)&&Na()}),t=null;else{switch(vw(r)){case 1:t=a4;break;case 4:t=pw;break;case 16:t=Dp;break;case 536870912:t=mw;break;default:t=Dp}t=GS(t,DS.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function DS(n,e){if(cp=-1,up=0,Wt&6)throw Error(Ge(327));var t=n.callbackNode;if(Cu()&&n.callbackNode!==t)return null;var r=Fp(n,n===cr?yr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=$p(n,r);else{e=r;var i=Wt;Wt|=2;var s=kS();(cr!==n||yr!==e)&&(go=null,Fu=kn()+500,Pl(n,e));do try{JR();break}catch(a){FS(n,a)}while(1);_4(),Zp.current=s,Wt=i,jn!==null?e=0:(cr=null,yr=0,e=qn)}if(e!==0){if(e===2&&(i=o6(n),i!==0&&(r=i,e=D6(n,i))),e===1)throw t=rh,Pl(n,0),ha(n,r),fi(n,kn()),t;if(e===6)ha(n,r);else{if(i=n.current.alternate,!(r&30)&&!WR(i)&&(e=$p(n,r),e===2&&(s=o6(n),s!==0&&(r=s,e=D6(n,s))),e===1))throw t=rh,Pl(n,0),ha(n,r),fi(n,kn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ge(345));case 2:pl(n,ii,go);break;case 3:if(ha(n,r),(r&130023424)===r&&(e=F4+500-kn(),10<e)){if(Fp(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Yr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=p6(pl.bind(null,n,ii,go),e);break}pl(n,ii,go);break;case 4:if(ha(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-gs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VR(r/1960))-r,10<r){n.timeoutHandle=p6(pl.bind(null,n,ii,go),r);break}pl(n,ii,go);break;case 5:pl(n,ii,go);break;default:throw Error(Ge(329))}}}return fi(n,kn()),n.callbackNode===t?DS.bind(null,n):null}function D6(n,e){var t=Ld;return n.current.memoizedState.isDehydrated&&(Pl(n,e).flags|=256),n=$p(n,e),n!==2&&(e=ii,ii=t,e!==null&&F6(e)),n}function F6(n){ii===null?ii=n:ii.push.apply(ii,n)}function WR(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!_s(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ha(n,e){for(e&=~D4,e&=~M2,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-gs(e),r=1<<t;n[t]=-1,e&=~r}}function Tv(n){if(Wt&6)throw Error(Ge(327));Cu();var e=Fp(n,0);if(!(e&1))return fi(n,kn()),null;var t=$p(n,e);if(n.tag!==0&&t===2){var r=o6(n);r!==0&&(e=r,t=D6(n,r))}if(t===1)throw t=rh,Pl(n,0),ha(n,e),fi(n,kn()),t;if(t===6)throw Error(Ge(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,pl(n,ii,go),fi(n,kn()),null}function k4(n,e){var t=Wt;Wt|=1;try{return n(e)}finally{Wt=t,Wt===0&&(Fu=kn()+500,_2&&Na())}}function Xl(n){ma!==null&&ma.tag===0&&!(Wt&6)&&Cu();var e=Wt;Wt|=1;var t=qi.transition,r=Zt;try{if(qi.transition=null,Zt=1,n)return n()}finally{Zt=r,qi.transition=t,Wt=e,!(Wt&6)&&Na()}}function O4(){Ci=uu.current,dn(uu)}function Pl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,_R(t)),jn!==null)for(t=jn.return;t!==null;){var r=t;switch(v4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zp();break;case 3:Iu(),dn(ci),dn(Fr),E4();break;case 5:C4(r);break;case 4:Iu();break;case 13:dn(_n);break;case 19:dn(_n);break;case 10:w4(r.type._context);break;case 22:case 23:O4()}t=t.return}if(cr=n,jn=n=Ca(n.current,null),yr=Ci=e,qn=0,rh=null,D4=M2=Jl=0,ii=Ld=null,wl!==null){for(e=0;e<wl.length;e++)if(t=wl[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}wl=null}return n}function FS(n,e){do{var t=jn;try{if(_4(),op.current=Yp,Kp){for(var r=An.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kp=!1}if(jl=0,ar=Qn=An=null,Bd=!1,eh=0,I4.current=null,t===null||t.return===null){qn=1,rh=e,jn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=yr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=mv(o);if(m!==null){m.flags&=-257,gv(m,o,a,s,e),m.mode&1&&pv(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){pv(s,c,e),N4();break e}l=Error(Ge(426))}}else if(vn&&a.mode&1){var y=mv(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),gv(y,o,a,s,e),y4(Du(l,a));break e}}s=l=Du(l,a),qn!==4&&(qn=2),Ld===null?Ld=[s]:Ld.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=yS(s,l,e);av(s,x);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Aa===null||!Aa.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=xS(s,a,e);av(s,M);break e}}s=s.return}while(s!==null)}NS(t)}catch(b){e=b,jn===t&&t!==null&&(jn=t=t.return);continue}break}while(1)}function kS(){var n=Zp.current;return Zp.current=Yp,n===null?Yp:n}function N4(){(qn===0||qn===3||qn===2)&&(qn=4),cr===null||!(Jl&268435455)&&!(M2&268435455)||ha(cr,yr)}function $p(n,e){var t=Wt;Wt|=2;var r=kS();(cr!==n||yr!==e)&&(go=null,Pl(n,e));do try{jR();break}catch(i){FS(n,i)}while(1);if(_4(),Wt=t,Zp.current=r,jn!==null)throw Error(Ge(261));return cr=null,yr=0,qn}function jR(){for(;jn!==null;)OS(jn)}function JR(){for(;jn!==null&&!vT();)OS(jn)}function OS(n){var e=zS(n.alternate,n,Ci);n.memoizedProps=n.pendingProps,e===null?NS(n):jn=e,I4.current=null}function NS(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=UR(t,e),t!==null){t.flags&=32767,jn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{qn=6,jn=null;return}}else if(t=NR(t,e,Ci),t!==null){jn=t;return}if(e=e.sibling,e!==null){jn=e;return}jn=e=n}while(e!==null);qn===0&&(qn=5)}function pl(n,e,t){var r=Zt,i=qi.transition;try{qi.transition=null,Zt=1,XR(n,e,t,r)}finally{qi.transition=i,Zt=r}return null}function XR(n,e,t,r){do Cu();while(ma!==null);if(Wt&6)throw Error(Ge(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ge(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(bT(n,s),n===cr&&(jn=cr=null,yr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||r0||(r0=!0,GS(Dp,function(){return Cu(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=qi.transition,qi.transition=null;var o=Zt;Zt=1;var a=Wt;Wt|=4,I4.current=null,GR(n,t),LS(t,n),hR(d6),kp=!!f6,d6=f6=null,n.current=t,HR(t),yT(),Wt=a,Zt=o,qi.transition=s}else n.current=t;if(r0&&(r0=!1,ma=n,qp=i),s=n.pendingLanes,s===0&&(Aa=null),wT(t.stateNode),fi(n,kn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qp)throw Qp=!1,n=L6,L6=null,n;return qp&1&&n.tag!==0&&Cu(),s=n.pendingLanes,s&1?n===I6?Id++:(Id=0,I6=n):Id=0,Na(),null}function Cu(){if(ma!==null){var n=vw(qp),e=qi.transition,t=Zt;try{if(qi.transition=null,Zt=16>n?16:n,ma===null)var r=!1;else{if(n=ma,ma=null,qp=0,Wt&6)throw Error(Ge(331));var i=Wt;for(Wt|=4,nt=n.current;nt!==null;){var s=nt,o=s.child;if(nt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(nt=c;nt!==null;){var u=nt;switch(u.tag){case 0:case 11:case 15:Pd(8,u,s)}var d=u.child;if(d!==null)d.return=u,nt=d;else for(;nt!==null;){u=nt;var p=u.sibling,m=u.return;if(RS(u),u===c){nt=null;break}if(p!==null){p.return=m,nt=p;break}nt=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}nt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,nt=o;else e:for(;nt!==null;){if(s=nt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pd(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,nt=x;break e}nt=s.return}}var _=n.current;for(nt=_;nt!==null;){o=nt;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,nt=S;else e:for(o=_;nt!==null;){if(a=nt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:A2(9,a)}}catch(b){bn(a,a.return,b)}if(a===o){nt=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,nt=M;break e}nt=a.return}}if(Wt=i,Na(),Gs&&typeof Gs.onPostCommitFiberRoot=="function")try{Gs.onPostCommitFiberRoot(m2,n)}catch{}r=!0}return r}finally{Zt=t,qi.transition=e}}return!1}function Rv(n,e,t){e=Du(t,e),e=yS(n,e,1),n=Sa(n,e,1),e=Yr(),n!==null&&(wh(n,1,e),fi(n,e))}function bn(n,e,t){if(n.tag===3)Rv(n,n,t);else for(;e!==null;){if(e.tag===3){Rv(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Aa===null||!Aa.has(r))){n=Du(t,n),n=xS(e,n,1),e=Sa(e,n,1),n=Yr(),e!==null&&(wh(e,1,n),fi(e,n));break}}e=e.return}}function KR(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Yr(),n.pingedLanes|=n.suspendedLanes&t,cr===n&&(yr&t)===t&&(qn===4||qn===3&&(yr&130023424)===yr&&500>kn()-F4?Pl(n,0):D4|=t),fi(n,e)}function US(n,e){e===0&&(n.mode&1?(e=X3,X3<<=1,!(X3&130023424)&&(X3=4194304)):e=1);var t=Yr();n=Io(n,e),n!==null&&(wh(n,e,t),fi(n,t))}function YR(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),US(n,t)}function ZR(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(e),US(n,t)}var zS;zS=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ci.current)ai=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ai=!1,OR(n,e,t);ai=!!(n.flags&131072)}else ai=!1,vn&&e.flags&1048576&&Vw(e,Vp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lp(n,e),n=e.pendingProps;var i=Bu(e,Fr.current);Mu(e,t),i=T4(null,e,r,n,i,t);var s=R4();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ui(r)?(s=!0,Gp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,A4(e),i.updater=w2,e.stateNode=i,i._reactInternals=e,w6(e,r,n,t),e=M6(null,e,r,!0,s,t)):(e.tag=0,vn&&s&&g4(e),Xr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(lp(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qR(r),n=fs(r,n),i){case 0:e=A6(null,e,r,n,t);break e;case 1:e=xv(null,e,r,n,t);break e;case 11:e=vv(null,e,r,n,t);break e;case 14:e=yv(null,e,r,fs(r.type,n),t);break e}throw Error(Ge(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fs(r,i),A6(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fs(r,i),xv(n,e,r,i,t);case 3:e:{if(AS(e),n===null)throw Error(Ge(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Xw(n,e),Jp(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Du(Error(Ge(423)),e),e=_v(n,e,r,t,i);break e}else if(r!==i){i=Du(Error(Ge(424)),e),e=_v(n,e,r,t,i);break e}else for(bi=wa(e.stateNode.containerInfo.firstChild),Ti=e,vn=!0,ps=null,t=Qw(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Pu(),r===i){e=Do(n,e,t);break e}Xr(n,e,r,t)}e=e.child}return e;case 5:return qw(e),n===null&&y6(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,h6(r,i)?o=null:s!==null&&h6(r,s)&&(e.flags|=32),SS(n,e),Xr(n,e,o,t),e.child;case 6:return n===null&&y6(e),null;case 13:return MS(n,e,t);case 4:return M4(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Lu(e,null,r,t):Xr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fs(r,i),vv(n,e,r,i,t);case 7:return Xr(n,e,e.pendingProps,t),e.child;case 8:return Xr(n,e,e.pendingProps.children,t),e.child;case 12:return Xr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,sn(Wp,r._currentValue),r._currentValue=o,s!==null)if(_s(s.value,o)){if(s.children===i.children&&!ci.current){e=Do(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bo(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),x6(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ge(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),x6(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Mu(e,t),i=es(i),r=r(i),e.flags|=1,Xr(n,e,r,t),e.child;case 14:return r=e.type,i=fs(r,e.pendingProps),i=fs(r.type,i),yv(n,e,r,i,t);case 15:return _S(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fs(r,i),lp(n,e),e.tag=1,ui(r)?(n=!0,Gp(e)):n=!1,Mu(e,t),Yw(e,r,i),w6(e,r,i,t),M6(null,e,r,!0,n,t);case 19:return CS(n,e,t);case 22:return wS(n,e,t)}throw Error(Ge(156,e.tag))};function GS(n,e){return hw(n,e)}function QR(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(n,e,t,r){return new QR(n,e,t,r)}function U4(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qR(n){if(typeof n=="function")return U4(n)?1:0;if(n!=null){if(n=n.$$typeof,n===i4)return 11;if(n===s4)return 14}return 2}function Ca(n,e){var t=n.alternate;return t===null?(t=Qi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function fp(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")U4(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case eu:return Ll(t.children,i,s,e);case r4:o=8,i|=8;break;case jm:return n=Qi(12,t,e,i|2),n.elementType=jm,n.lanes=s,n;case Jm:return n=Qi(13,t,e,i),n.elementType=Jm,n.lanes=s,n;case Xm:return n=Qi(19,t,e,i),n.elementType=Xm,n.lanes=s,n;case Z_:return C2(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case K_:o=10;break e;case Y_:o=9;break e;case i4:o=11;break e;case s4:o=14;break e;case ca:o=16,r=null;break e}throw Error(Ge(130,n==null?n:typeof n,""))}return e=Qi(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Ll(n,e,t,r){return n=Qi(7,n,r,e),n.lanes=t,n}function C2(n,e,t,r){return n=Qi(22,n,r,e),n.elementType=Z_,n.lanes=t,n.stateNode={isHidden:!1},n}function R5(n,e,t){return n=Qi(6,n,null,e),n.lanes=t,n}function B5(n,e,t){return e=Qi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function $R(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=u5(0),this.expirationTimes=u5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u5(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function z4(n,e,t,r,i,s,o,a,l){return n=new $R(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},A4(s),n}function eB(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$c,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function HS(n){if(!n)return Ra;n=n._reactInternals;e:{if(tc(n)!==n||n.tag!==1)throw Error(Ge(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ge(171))}if(n.tag===1){var t=n.type;if(ui(t))return Gw(n,t,e)}return e}function VS(n,e,t,r,i,s,o,a,l){return n=z4(t,r,!0,n,i,s,o,a,l),n.context=HS(null),t=n.current,r=Yr(),i=Ma(t),s=bo(r,i),s.callback=e??null,Sa(t,s,i),n.current.lanes=i,wh(n,i,r),fi(n,r),n}function E2(n,e,t,r){var i=e.current,s=Yr(),o=Ma(i);return t=HS(t),e.context===null?e.context=t:e.pendingContext=t,e=bo(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Sa(i,e,o),n!==null&&(vs(n,i,o,s),sp(n,i,o)),o}function e2(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Bv(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function G4(n,e){Bv(n,e),(n=n.alternate)&&Bv(n,e)}function tB(){return null}var WS=typeof reportError=="function"?reportError:function(n){console.error(n)};function H4(n){this._internalRoot=n}b2.prototype.render=H4.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ge(409));E2(n,e,null,null)};b2.prototype.unmount=H4.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Xl(function(){E2(null,n,null,null)}),e[Lo]=null}};function b2(n){this._internalRoot=n}b2.prototype.unstable_scheduleHydration=function(n){if(n){var e=_w();n={blockedOn:null,target:n,priority:e};for(var t=0;t<da.length&&e!==0&&e<da[t].priority;t++);da.splice(t,0,n),t===0&&Sw(n)}};function V4(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function T2(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Pv(){}function nB(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=e2(o);s.call(c)}}var o=VS(e,r,n,0,null,!1,!1,"",Pv);return n._reactRootContainer=o,n[Lo]=o.current,Yd(n.nodeType===8?n.parentNode:n),Xl(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=e2(l);a.call(c)}}var l=z4(n,0,!1,null,null,!1,!1,"",Pv);return n._reactRootContainer=l,n[Lo]=l.current,Yd(n.nodeType===8?n.parentNode:n),Xl(function(){E2(e,l,t,r)}),l}function R2(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=e2(o);a.call(l)}}E2(e,o,n,i)}else o=nB(t,e,n,i,r);return e2(o)}yw=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=xd(e.pendingLanes);t!==0&&(l4(e,t|1),fi(e,kn()),!(Wt&6)&&(Fu=kn()+500,Na()))}break;case 13:Xl(function(){var r=Io(n,1);if(r!==null){var i=Yr();vs(r,n,1,i)}}),G4(n,1)}};c4=function(n){if(n.tag===13){var e=Io(n,134217728);if(e!==null){var t=Yr();vs(e,n,134217728,t)}G4(n,134217728)}};xw=function(n){if(n.tag===13){var e=Ma(n),t=Io(n,e);if(t!==null){var r=Yr();vs(t,n,e,r)}G4(n,e)}};_w=function(){return Zt};ww=function(n,e){var t=Zt;try{return Zt=n,e()}finally{Zt=t}};r6=function(n,e,t){switch(e){case"input":if(Zm(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=x2(r);if(!i)throw Error(Ge(90));q_(r),Zm(r,i)}}}break;case"textarea":ew(n,t);break;case"select":e=t.value,e!=null&&_u(n,!!t.multiple,e,!1)}};aw=k4;lw=Xl;var rB={usingClientEntryPoint:!1,Events:[Ah,iu,x2,sw,ow,k4]},Yf={findFiberByHostInstance:_l,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iB={bundleType:Yf.bundleType,version:Yf.version,rendererPackageName:Yf.rendererPackageName,rendererConfig:Yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:No.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=fw(n),n===null?null:n.stateNode},findFiberByHostInstance:Yf.findFiberByHostInstance||tB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{m2=i0.inject(iB),Gs=i0}catch{}}Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rB;Pi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V4(e))throw Error(Ge(200));return eB(n,e,null,t)};Pi.createRoot=function(n,e){if(!V4(n))throw Error(Ge(299));var t=!1,r="",i=WS;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=z4(n,1,!1,null,null,t,!1,r,i),n[Lo]=e.current,Yd(n.nodeType===8?n.parentNode:n),new H4(e)};Pi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ge(188)):(n=Object.keys(n).join(","),Error(Ge(268,n)));return n=fw(e),n=n===null?null:n.stateNode,n};Pi.flushSync=function(n){return Xl(n)};Pi.hydrate=function(n,e,t){if(!T2(e))throw Error(Ge(200));return R2(null,n,e,!0,t)};Pi.hydrateRoot=function(n,e,t){if(!V4(n))throw Error(Ge(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=WS;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=VS(e,null,n,1,t??null,i,!1,s,o),n[Lo]=e.current,Yd(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new b2(e)};Pi.render=function(n,e,t){if(!T2(e))throw Error(Ge(200));return R2(null,n,e,!1,t)};Pi.unmountComponentAtNode=function(n){if(!T2(n))throw Error(Ge(40));return n._reactRootContainer?(Xl(function(){R2(null,null,n,!1,function(){n._reactRootContainer=null,n[Lo]=null})}),!0):!1};Pi.unstable_batchedUpdates=k4;Pi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!T2(t))throw Error(Ge(200));if(n==null||n._reactInternals===void 0)throw Error(Ge(38));return R2(n,e,t,!1,r)};Pi.version="18.2.0-next-9e3b772b8-20220608";function jS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jS)}catch(n){console.error(n)}}jS(),V_.exports=Pi;var sB=V_.exports,JS,Lv=sB;JS=Vm.createRoot=Lv.createRoot,Vm.hydrateRoot=Lv.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ih(){return ih=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ih.apply(this,arguments)}var ga;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ga||(ga={}));const Iv="popstate";function oB(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return k6("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:t2(i)}return lB(e,t,null,n)}function Bn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function XS(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aB(){return Math.random().toString(36).substr(2,8)}function Dv(n,e){return{usr:n.state,key:n.key,idx:e}}function k6(n,e,t,r){return t===void 0&&(t=null),ih({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?rf(e):e,{state:t,key:e&&e.key||r||aB()})}function t2(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function lB(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ga.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ih({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ga.Pop;let y=u(),x=y==null?null:y-c;c=y,l&&l({action:a,location:v.location,delta:x})}function p(y,x){a=ga.Push;let _=k6(v.location,y,x);t&&t(_,y),c=u()+1;let S=Dv(_,c),M=v.createHref(_);try{o.pushState(S,"",M)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(M)}s&&l&&l({action:a,location:v.location,delta:1})}function m(y,x){a=ga.Replace;let _=k6(v.location,y,x);t&&t(_,y),c=u();let S=Dv(_,c),M=v.createHref(_);o.replaceState(S,"",M),s&&l&&l({action:a,location:v.location,delta:0})}function g(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:t2(y);return _=_.replace(/ $/,"%20"),Bn(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let v={get action(){return a},get location(){return n(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Iv,d),l=y,()=>{i.removeEventListener(Iv,d),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let x=g(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(y){return o.go(y)}};return v}var Fv;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Fv||(Fv={}));function cB(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?rf(e):e,i=ku(r.pathname||"/",t);if(i==null)return null;let s=KS(n);uB(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=wB(i);o=xB(s[a],l)}return o}function KS(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Bn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ea([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(Bn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),KS(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:vB(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of YS(s.path))i(s,o,l)}),e}function YS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=YS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function uB(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yB(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const fB=/^:[\w-]+$/,dB=3,hB=2,pB=1,mB=10,gB=-2,kv=n=>n==="*";function vB(n,e){let t=n.split("/"),r=t.length;return t.some(kv)&&(r+=gB),e&&(r+=hB),t.filter(i=>!kv(i)).reduce((i,s)=>i+(fB.test(s)?dB:s===""?pB:mB),r)}function yB(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function xB(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=O6({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:Ea([i,u.pathname]),pathnameBase:CB(Ea([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=Ea([i,u.pathnameBase]))}return s}function O6(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=_B(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:p,isOptional:m}=u;if(p==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[d];return m&&!g?c[p]=void 0:c[p]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function _B(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),XS(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wB(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return XS(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ku(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function SB(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?rf(n):n;return{pathname:t?t.startsWith("/")?t:AB(t,e):e,search:EB(r),hash:bB(i)}}function AB(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function P5(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MB(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ZS(n,e){let t=MB(n);return e?t.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function QS(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=rf(n):(i=ih({},n),Bn(!i.pathname||!i.pathname.includes("?"),P5("?","pathname","search",i)),Bn(!i.pathname||!i.pathname.includes("#"),P5("#","pathname","hash",i)),Bn(!i.search||!i.search.includes("#"),P5("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let l=SB(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ea=n=>n.join("/").replace(/\/\/+/g,"/"),CB=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),EB=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,bB=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function TB(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const qS=["post","put","patch","delete"];new Set(qS);const RB=["get",...qS];new Set(RB);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sh(){return sh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sh.apply(this,arguments)}const B2=F.createContext(null),$S=F.createContext(null),Ua=F.createContext(null),P2=F.createContext(null),nc=F.createContext({outlet:null,matches:[],isDataRoute:!1}),eA=F.createContext(null);function BB(n,e){let{relative:t}=e===void 0?{}:e;Ch()||Bn(!1);let{basename:r,navigator:i}=F.useContext(Ua),{hash:s,pathname:o,search:a}=L2(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Ea([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ch(){return F.useContext(P2)!=null}function Eh(){return Ch()||Bn(!1),F.useContext(P2).location}function tA(n){F.useContext(Ua).static||F.useLayoutEffect(n)}function PB(){let{isDataRoute:n}=F.useContext(nc);return n?WB():LB()}function LB(){Ch()||Bn(!1);let n=F.useContext(B2),{basename:e,future:t,navigator:r}=F.useContext(Ua),{matches:i}=F.useContext(nc),{pathname:s}=Eh(),o=JSON.stringify(ZS(i,t.v7_relativeSplatPath)),a=F.useRef(!1);return tA(()=>{a.current=!0}),F.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=QS(c,JSON.parse(o),s,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ea([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,n])}function L2(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=F.useContext(Ua),{matches:i}=F.useContext(nc),{pathname:s}=Eh(),o=JSON.stringify(ZS(i,r.v7_relativeSplatPath));return F.useMemo(()=>QS(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function IB(n,e){return DB(n,e)}function DB(n,e,t,r){Ch()||Bn(!1);let{navigator:i}=F.useContext(Ua),{matches:s}=F.useContext(nc),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Eh(),u;if(e){var d;let y=typeof e=="string"?rf(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||Bn(!1),u=y}else u=c;let p=u.pathname||"/",m=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=cB(n,{pathname:m}),v=UB(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Ea([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ea([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,r);return e&&v?F.createElement(P2.Provider,{value:{location:sh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ga.Pop}},v):v}function FB(){let n=VB(),e=TB(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:i},t):null,s)}const kB=F.createElement(FB,null);class OB extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?F.createElement(nc.Provider,{value:this.props.routeContext},F.createElement(eA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NB(n){let{routeContext:e,match:t,children:r}=n,i=F.useContext(B2);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(nc.Provider,{value:e},r)}function UB(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||Bn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:p,errors:m}=t,g=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,p)=>{let m,g=!1,v=null,y=null;t&&(m=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||kB,l&&(c<0&&p===0?(jB("route-fallback",!1),g=!0,y=null):c===p&&(g=!0,y=d.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),_=()=>{let S;return m?S=v:g?S=y:d.route.Component?S=F.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=u,F.createElement(NB,{match:d,routeContext:{outlet:u,matches:x,isDataRoute:t!=null},children:S})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?F.createElement(OB,{location:t.location,revalidation:t.revalidation,component:v,error:m,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var nA=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(nA||{}),n2=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(n2||{});function zB(n){let e=F.useContext(B2);return e||Bn(!1),e}function GB(n){let e=F.useContext($S);return e||Bn(!1),e}function HB(n){let e=F.useContext(nc);return e||Bn(!1),e}function rA(n){let e=HB(),t=e.matches[e.matches.length-1];return t.route.id||Bn(!1),t.route.id}function VB(){var n;let e=F.useContext(eA),t=GB(n2.UseRouteError),r=rA(n2.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function WB(){let{router:n}=zB(nA.UseNavigateStable),e=rA(n2.UseNavigateStable),t=F.useRef(!1);return tA(()=>{t.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,sh({fromRouteId:e},s)))},[n,e])}const Ov={};function jB(n,e,t){!e&&!Ov[n]&&(Ov[n]=!0)}function ri(n){Bn(!1)}function JB(n){let{basename:e="/",children:t=null,location:r,navigationType:i=ga.Pop,navigator:s,static:o=!1,future:a}=n;Ch()&&Bn(!1);let l=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:s,static:o,future:sh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=rf(r));let{pathname:u="/",search:d="",hash:p="",state:m=null,key:g="default"}=r,v=F.useMemo(()=>{let y=ku(u,l);return y==null?null:{location:{pathname:y,search:d,hash:p,state:m,key:g},navigationType:i}},[l,u,d,p,m,g,i]);return v==null?null:F.createElement(Ua.Provider,{value:c},F.createElement(P2.Provider,{children:t,value:v}))}function iA(n){let{children:e,location:t}=n;return IB(N6(e),t)}new Promise(()=>{});function N6(n,e){e===void 0&&(e=[]);let t=[];return F.Children.forEach(n,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){t.push.apply(t,N6(r.props.children,s));return}r.type!==ri&&Bn(!1),!r.props.index||!r.props.children||Bn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=N6(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function r2(){return r2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},r2.apply(this,arguments)}function sA(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function XB(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function KB(n,e){return n.button===0&&(!e||e==="_self")&&!XB(n)}const YB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ZB=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],QB="6";try{window.__reactRouterVersion=QB}catch{}const qB=F.createContext({isTransitioning:!1}),$B="startTransition",Nv=Yb[$B];function eP(n){let{basename:e,children:t,future:r,window:i}=n,s=F.useRef();s.current==null&&(s.current=oB({window:i,v5Compat:!0}));let o=s.current,[a,l]=F.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=F.useCallback(d=>{c&&Nv?Nv(()=>l(d)):l(d)},[l,c]);return F.useLayoutEffect(()=>o.listen(u),[o,u]),F.createElement(JB,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}const tP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rP=F.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:d}=e,p=sA(e,YB),{basename:m}=F.useContext(Ua),g,v=!1;if(typeof c=="string"&&nP.test(c)&&(g=c,tP))try{let S=new URL(window.location.href),M=c.startsWith("//")?new URL(S.protocol+c):new URL(c),b=ku(M.pathname,m);M.origin===S.origin&&b!=null?c=b+M.search+M.hash:v=!0}catch{}let y=BB(c,{relative:i}),x=sP(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:d});function _(S){r&&r(S),S.defaultPrevented||x(S)}return F.createElement("a",r2({},p,{href:g||y,onClick:v||s?r:_,ref:t,target:l}))}),U6=F.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,d=sA(e,ZB),p=L2(l,{relative:d.relative}),m=Eh(),g=F.useContext($S),{navigator:v,basename:y}=F.useContext(Ua),x=g!=null&&oP(p)&&c===!0,_=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,S=m.pathname,M=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(S=S.toLowerCase(),M=M?M.toLowerCase():null,_=_.toLowerCase()),M&&y&&(M=ku(M,y)||M);const b=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let T=S===_||!o&&S.startsWith(_)&&S.charAt(b)==="/",R=M!=null&&(M===_||!o&&M.startsWith(_)&&M.charAt(_.length)==="/"),C={isActive:T,isPending:R,isTransitioning:x},P=T?r:void 0,L;typeof s=="function"?L=s(C):L=[s,T?"active":null,R?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(C):a;return F.createElement(rP,r2({},d,{"aria-current":P,className:L,ref:t,style:z,to:l,unstable_viewTransition:c}),typeof u=="function"?u(C):u)});var z6;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(z6||(z6={}));var Uv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Uv||(Uv={}));function iP(n){let e=F.useContext(B2);return e||Bn(!1),e}function sP(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=PB(),c=Eh(),u=L2(n,{relative:o});return F.useCallback(d=>{if(KB(d,t)){d.preventDefault();let p=r!==void 0?r:t2(c)===t2(u);l(n,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,u,r,i,t,n,s,o,a])}function oP(n,e){e===void 0&&(e={});let t=F.useContext(qB);t==null&&Bn(!1);let{basename:r}=iP(z6.useViewTransitionState),i=L2(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=ku(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=ku(t.nextLocation.pathname,r)||t.nextLocation.pathname;return O6(i.pathname,o)!=null||O6(i.pathname,s)!=null}var li=function(){return li=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},li.apply(this,arguments)};function i2(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var cn="-ms-",Dd="-moz-",Yt="-webkit-",oA="comm",I2="rule",W4="decl",aP="@import",aA="@keyframes",lP="@layer",lA=Math.abs,j4=String.fromCharCode,G6=Object.assign;function cP(n,e){return lr(n,0)^45?(((e<<2^lr(n,0))<<2^lr(n,1))<<2^lr(n,2))<<2^lr(n,3):0}function cA(n){return n.trim()}function vo(n,e){return(n=e.exec(n))?n[0]:n}function Bt(n,e,t){return n.replace(e,t)}function dp(n,e,t){return n.indexOf(e,t)}function lr(n,e){return n.charCodeAt(e)|0}function Ou(n,e,t){return n.slice(e,t)}function ks(n){return n.length}function uA(n){return n.length}function wd(n,e){return e.push(n),n}function uP(n,e){return n.map(e).join("")}function zv(n,e){return n.filter(function(t){return!vo(t,e)})}var D2=1,Nu=1,fA=0,ns=0,Wn=0,sf="";function F2(n,e,t,r,i,s,o,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:D2,column:Nu,length:o,return:"",siblings:a}}function la(n,e){return G6(F2("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function bc(n){for(;n.root;)n=la(n.root,{children:[n]});wd(n,n.siblings)}function fP(){return Wn}function dP(){return Wn=ns>0?lr(sf,--ns):0,Nu--,Wn===10&&(Nu=1,D2--),Wn}function ys(){return Wn=ns<fA?lr(sf,ns++):0,Nu++,Wn===10&&(Nu=1,D2++),Wn}function Il(){return lr(sf,ns)}function hp(){return ns}function k2(n,e){return Ou(sf,n,e)}function H6(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hP(n){return D2=Nu=1,fA=ks(sf=n),ns=0,[]}function pP(n){return sf="",n}function L5(n){return cA(k2(ns-1,V6(n===91?n+2:n===40?n+1:n)))}function mP(n){for(;(Wn=Il())&&Wn<33;)ys();return H6(n)>2||H6(Wn)>3?"":" "}function gP(n,e){for(;--e&&ys()&&!(Wn<48||Wn>102||Wn>57&&Wn<65||Wn>70&&Wn<97););return k2(n,hp()+(e<6&&Il()==32&&ys()==32))}function V6(n){for(;ys();)switch(Wn){case n:return ns;case 34:case 39:n!==34&&n!==39&&V6(Wn);break;case 40:n===41&&V6(n);break;case 92:ys();break}return ns}function vP(n,e){for(;ys()&&n+Wn!==47+10;)if(n+Wn===42+42&&Il()===47)break;return"/*"+k2(e,ns-1)+"*"+j4(n===47?n:ys())}function yP(n){for(;!H6(Il());)ys();return k2(n,ns)}function xP(n){return pP(pp("",null,null,null,[""],n=hP(n),0,[0],n))}function pp(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,d=o,p=0,m=0,g=0,v=1,y=1,x=1,_=0,S="",M=i,b=s,T=r,R=S;y;)switch(g=_,_=ys()){case 40:if(g!=108&&lr(R,d-1)==58){dp(R+=Bt(L5(_),"&","&\f"),"&\f",lA(c?a[c-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:R+=L5(_);break;case 9:case 10:case 13:case 32:R+=mP(g);break;case 92:R+=gP(hp()-1,7);continue;case 47:switch(Il()){case 42:case 47:wd(_P(vP(ys(),hp()),e,t,l),l);break;default:R+="/"}break;case 123*v:a[c++]=ks(R)*x;case 125*v:case 59:case 0:switch(_){case 0:case 125:y=0;case 59+u:x==-1&&(R=Bt(R,/\f/g,"")),m>0&&ks(R)-d&&wd(m>32?Hv(R+";",r,t,d-1,l):Hv(Bt(R," ","")+";",r,t,d-2,l),l);break;case 59:R+=";";default:if(wd(T=Gv(R,e,t,c,u,i,a,S,M=[],b=[],d,s),s),_===123)if(u===0)pp(R,e,T,T,M,s,d,a,b);else switch(p===99&&lr(R,3)===110?100:p){case 100:case 108:case 109:case 115:pp(n,T,T,r&&wd(Gv(n,T,T,0,0,i,a,S,i,M=[],d,b),b),i,b,d,a,r?M:b);break;default:pp(R,T,T,T,[""],b,0,a,b)}}c=u=m=0,v=x=1,S=R="",d=o;break;case 58:d=1+ks(R),m=g;default:if(v<1){if(_==123)--v;else if(_==125&&v++==0&&dP()==125)continue}switch(R+=j4(_),_*v){case 38:x=u>0?1:(R+="\f",-1);break;case 44:a[c++]=(ks(R)-1)*x,x=1;break;case 64:Il()===45&&(R+=L5(ys())),p=Il(),u=d=ks(S=R+=yP(hp())),_++;break;case 45:g===45&&ks(R)==2&&(v=0)}}return s}function Gv(n,e,t,r,i,s,o,a,l,c,u,d){for(var p=i-1,m=i===0?s:[""],g=uA(m),v=0,y=0,x=0;v<r;++v)for(var _=0,S=Ou(n,p+1,p=lA(y=o[v])),M=n;_<g;++_)(M=cA(y>0?m[_]+" "+S:Bt(S,/&\f/g,m[_])))&&(l[x++]=M);return F2(n,e,t,i===0?I2:a,l,c,u,d)}function _P(n,e,t,r){return F2(n,e,t,oA,j4(fP()),Ou(n,2,-2),0,r)}function Hv(n,e,t,r,i){return F2(n,e,t,W4,Ou(n,0,r),Ou(n,r+1,-1),r,i)}function dA(n,e,t){switch(cP(n,e)){case 5103:return Yt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Yt+n+n;case 4789:return Dd+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Yt+n+Dd+n+cn+n+n;case 5936:switch(lr(n,e+11)){case 114:return Yt+n+cn+Bt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Yt+n+cn+Bt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Yt+n+cn+Bt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Yt+n+cn+n+n;case 6165:return Yt+n+cn+"flex-"+n+n;case 5187:return Yt+n+Bt(n,/(\w+).+(:[^]+)/,Yt+"box-$1$2"+cn+"flex-$1$2")+n;case 5443:return Yt+n+cn+"flex-item-"+Bt(n,/flex-|-self/g,"")+(vo(n,/flex-|baseline/)?"":cn+"grid-row-"+Bt(n,/flex-|-self/g,""))+n;case 4675:return Yt+n+cn+"flex-line-pack"+Bt(n,/align-content|flex-|-self/g,"")+n;case 5548:return Yt+n+cn+Bt(n,"shrink","negative")+n;case 5292:return Yt+n+cn+Bt(n,"basis","preferred-size")+n;case 6060:return Yt+"box-"+Bt(n,"-grow","")+Yt+n+cn+Bt(n,"grow","positive")+n;case 4554:return Yt+Bt(n,/([^-])(transform)/g,"$1"+Yt+"$2")+n;case 6187:return Bt(Bt(Bt(n,/(zoom-|grab)/,Yt+"$1"),/(image-set)/,Yt+"$1"),n,"")+n;case 5495:case 3959:return Bt(n,/(image-set\([^]*)/,Yt+"$1$`$1");case 4968:return Bt(Bt(n,/(.+:)(flex-)?(.*)/,Yt+"box-pack:$3"+cn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Yt+n+n;case 4200:if(!vo(n,/flex-|baseline/))return cn+"grid-column-align"+Ou(n,e)+n;break;case 2592:case 3360:return cn+Bt(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(r,i){return e=i,vo(r.props,/grid-\w+-end/)})?~dp(n+(t=t[e].value),"span",0)?n:cn+Bt(n,"-start","")+n+cn+"grid-row-span:"+(~dp(t,"span",0)?vo(t,/\d+/):+vo(t,/\d+/)-+vo(n,/\d+/))+";":cn+Bt(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(r){return vo(r.props,/grid-\w+-start/)})?n:cn+Bt(Bt(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Bt(n,/(.+)-inline(.+)/,Yt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ks(n)-1-e>6)switch(lr(n,e+1)){case 109:if(lr(n,e+4)!==45)break;case 102:return Bt(n,/(.+:)(.+)-([^]+)/,"$1"+Yt+"$2-$3$1"+Dd+(lr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~dp(n,"stretch",0)?dA(Bt(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Bt(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return cn+i+":"+s+c+(o?cn+i+"-span:"+(a?l:+l-+s)+c:"")+n});case 4949:if(lr(n,e+6)===121)return Bt(n,":",":"+Yt)+n;break;case 6444:switch(lr(n,lr(n,14)===45?18:11)){case 120:return Bt(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Yt+(lr(n,14)===45?"inline-":"")+"box$3$1"+Yt+"$2$3$1"+cn+"$2box$3")+n;case 100:return Bt(n,":",":"+cn)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Bt(n,"scroll-","scroll-snap-")+n}return n}function s2(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function wP(n,e,t,r){switch(n.type){case lP:if(n.children.length)break;case aP:case W4:return n.return=n.return||n.value;case oA:return"";case aA:return n.return=n.value+"{"+s2(n.children,r)+"}";case I2:if(!ks(n.value=n.props.join(",")))return""}return ks(t=s2(n.children,r))?n.return=n.value+"{"+t+"}":""}function SP(n){var e=uA(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function AP(n){return function(e){e.root||(e=e.return)&&n(e)}}function MP(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case W4:n.return=dA(n.value,n.length,t);return;case aA:return s2([la(n,{value:Bt(n.value,"@","@"+Yt)})],r);case I2:if(n.length)return uP(t=n.props,function(i){switch(vo(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":bc(la(n,{props:[Bt(i,/:(read-\w+)/,":"+Dd+"$1")]})),bc(la(n,{props:[i]})),G6(n,{props:zv(t,r)});break;case"::placeholder":bc(la(n,{props:[Bt(i,/:(plac\w+)/,":"+Yt+"input-$1")]})),bc(la(n,{props:[Bt(i,/:(plac\w+)/,":"+Dd+"$1")]})),bc(la(n,{props:[Bt(i,/:(plac\w+)/,cn+"input-$1")]})),bc(la(n,{props:[i]})),G6(n,{props:zv(t,r)});break}return""})}}var CP={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Uu=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",hA="active",pA="data-styled-version",O2="6.1.6",J4=`/*!sc*/
`,X4=typeof window<"u"&&"HTMLElement"in window,EP=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),N2=Object.freeze([]),zu=Object.freeze({});function bP(n,e,t){return t===void 0&&(t=zu),n.theme!==t.theme&&n.theme||e||t.theme}var mA=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),TP=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,RP=/(^-|-$)/g;function Vv(n){return n.replace(TP,"-").replace(RP,"")}var BP=/(a)(d)/gi,s0=52,Wv=function(n){return String.fromCharCode(n+(n>25?39:97))};function W6(n){var e,t="";for(e=Math.abs(n);e>s0;e=e/s0|0)t=Wv(e%s0)+t;return(Wv(e%s0)+t).replace(BP,"$1-$2")}var I5,gA=5381,fu=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},vA=function(n){return fu(gA,n)};function PP(n){return W6(vA(n)>>>0)}function LP(n){return n.displayName||n.name||"Component"}function D5(n){return typeof n=="string"&&!0}var yA=typeof Symbol=="function"&&Symbol.for,xA=yA?Symbol.for("react.memo"):60115,IP=yA?Symbol.for("react.forward_ref"):60112,DP={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},FP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_A={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kP=((I5={})[IP]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},I5[xA]=_A,I5);function jv(n){return("type"in(e=n)&&e.type.$$typeof)===xA?_A:"$$typeof"in n?kP[n.$$typeof]:DP;var e}var OP=Object.defineProperty,NP=Object.getOwnPropertyNames,Jv=Object.getOwnPropertySymbols,UP=Object.getOwnPropertyDescriptor,zP=Object.getPrototypeOf,Xv=Object.prototype;function wA(n,e,t){if(typeof e!="string"){if(Xv){var r=zP(e);r&&r!==Xv&&wA(n,r,t)}var i=NP(e);Jv&&(i=i.concat(Jv(e)));for(var s=jv(n),o=jv(e),a=0;a<i.length;++a){var l=i[a];if(!(l in FP||t&&t[l]||o&&l in o||s&&l in s)){var c=UP(e,l);try{OP(n,l,c)}catch{}}}}return n}function Gu(n){return typeof n=="function"}function K4(n){return typeof n=="object"&&"styledComponentId"in n}function Al(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function Kv(n,e){if(n.length===0)return"";for(var t=n[0],r=1;r<n.length;r++)t+=e?e+n[r]:n[r];return t}function oh(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function j6(n,e,t){if(t===void 0&&(t=!1),!t&&!oh(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)n[r]=j6(n[r],e[r]);else if(oh(e))for(var r in e)n[r]=j6(n[r],e[r]);return n}function Y4(n,e){Object.defineProperty(n,"toString",{value:e})}function bh(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var GP=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw bh(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,t.length);o<l;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),i=r+t;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)t+="".concat(this.tag.getRule(o)).concat(J4);return t},n}(),mp=new Map,o2=new Map,gp=1,o0=function(n){if(mp.has(n))return mp.get(n);for(;o2.has(gp);)gp++;var e=gp++;return mp.set(n,e),o2.set(e,n),e},HP=function(n,e){gp=e+1,mp.set(n,e),o2.set(e,n)},VP="style[".concat(Uu,"][").concat(pA,'="').concat(O2,'"]'),WP=new RegExp("^".concat(Uu,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),jP=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},JP=function(n,e){for(var t,r=((t=e.textContent)!==null&&t!==void 0?t:"").split(J4),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(WP);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(HP(u,c),jP(n,u,l[3]),n.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function XP(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var SA=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Uu,"]")));return l[l.length-1]}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(Uu,hA),r.setAttribute(pA,O2);var o=XP();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},KP=function(){function n(e){this.element=SA(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===t)return o}throw bh(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),YP=function(){function n(e){this.element=SA(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),ZP=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),Yv=X4,QP={isServer:!X4,useCSSOMInjection:!EP},AA=function(){function n(e,t,r){e===void 0&&(e=zu),t===void 0&&(t={});var i=this;this.options=li(li({},QP),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&X4&&Yv&&(Yv=!1,function(s){for(var o=document.querySelectorAll(VP),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(Uu)!==hA&&(JP(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),Y4(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var p=function(x){return o2.get(x)}(d);if(p===void 0)return"continue";var m=s.names.get(p),g=o.getGroup(d);if(m===void 0||g.length===0)return"continue";var v="".concat(Uu,".g").concat(d,'[id="').concat(p,'"]'),y="";m!==void 0&&m.forEach(function(x){x.length>0&&(y+="".concat(x,","))}),l+="".concat(g).concat(v,'{content:"').concat(y,'"}').concat(J4)},u=0;u<a;u++)c(u);return l}(i)})}return n.registerId=function(e){return o0(e)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(li(li({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var r=t.useCSSOMInjection,i=t.target;return t.isServer?new ZP(i):r?new KP(i):new YP(i)}(this.options),new GP(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(o0(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},n.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(o0(e),r)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(o0(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),qP=/&/g,$P=/^\s*\/\/.*$/gm;function MA(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=MA(t.children,e)),t})}function eL(n){var e,t,r,i=n===void 0?zu:n,s=i.options,o=s===void 0?zu:s,a=i.plugins,l=a===void 0?N2:a,c=function(p,m,g){return g.startsWith(t)&&g.endsWith(t)&&g.replaceAll(t,"").length>0?".".concat(e):p},u=l.slice();u.push(function(p){p.type===I2&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(qP,t).replace(r,c))}),o.prefix&&u.push(MP),u.push(wP);var d=function(p,m,g,v){m===void 0&&(m=""),g===void 0&&(g=""),v===void 0&&(v="&"),e=v,t=m,r=new RegExp("\\".concat(t,"\\b"),"g");var y=p.replace($P,""),x=xP(g||m?"".concat(g," ").concat(m," { ").concat(y," }"):y);o.namespace&&(x=MA(x,o.namespace));var _=[];return s2(x,SP(u.concat(AP(function(S){return _.push(S)})))),_};return d.hash=l.length?l.reduce(function(p,m){return m.name||bh(15),fu(p,m.name)},gA).toString():"",d}var tL=new AA,J6=eL(),CA=Kr.createContext({shouldForwardProp:void 0,styleSheet:tL,stylis:J6});CA.Consumer;Kr.createContext(void 0);function Zv(){return F.useContext(CA)}var nL=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=J6);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Y4(this,function(){throw bh(12,String(r.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=J6),this.name+e.hash},n}(),rL=function(n){return n>="A"&&n<="Z"};function Qv(n){for(var e="",t=0;t<n.length;t++){var r=n[t];if(t===1&&r==="-"&&n[0]==="-")return n;rL(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var EA=function(n){return n==null||n===!1||n===""},bA=function(n){var e,t,r=[];for(var i in n){var s=n[i];n.hasOwnProperty(i)&&!EA(s)&&(Array.isArray(s)&&s.isCss||Gu(s)?r.push("".concat(Qv(i),":"),s,";"):oh(s)?r.push.apply(r,i2(i2(["".concat(i," {")],bA(s),!1),["}"],!1)):r.push("".concat(Qv(i),": ").concat((e=i,(t=s)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in CP||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return r};function Dl(n,e,t,r){if(EA(n))return[];if(K4(n))return[".".concat(n.styledComponentId)];if(Gu(n)){if(!Gu(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var i=n(e);return Dl(i,e,t,r)}var s;return n instanceof nL?t?(n.inject(t,r),[n.getName(r)]):[n]:oh(n)?bA(n):Array.isArray(n)?Array.prototype.concat.apply(N2,n.map(function(o){return Dl(o,e,t,r)})):[n.toString()]}function iL(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Gu(t)&&!K4(t))return!1}return!0}var sL=vA(O2),oL=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&iL(e),this.componentId=t,this.baseHash=fu(sL,t),this.baseStyle=r,AA.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))i=Al(i,this.staticRulesId);else{var s=Kv(Dl(this.rules,e,t,r)),o=W6(fu(this.baseHash,s)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}i=Al(i,o),this.staticRulesId=o}else{for(var l=fu(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var p=Kv(Dl(d,e,t,r));l=fu(l,p+u),c+=p}}if(c){var m=W6(l>>>0);t.hasNameForId(this.componentId,m)||t.insertRules(this.componentId,m,r(c,".".concat(m),void 0,this.componentId)),i=Al(i,m)}}return i},n}(),TA=Kr.createContext(void 0);TA.Consumer;var F5={};function aL(n,e,t){var r=K4(n),i=n,s=!D5(n),o=e.attrs,a=o===void 0?N2:o,l=e.componentId,c=l===void 0?function(M,b){var T=typeof M!="string"?"sc":Vv(M);F5[T]=(F5[T]||0)+1;var R="".concat(T,"-").concat(PP(O2+T+F5[T]));return b?"".concat(b,"-").concat(R):R}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(M){return D5(M)?"styled.".concat(M):"Styled(".concat(LP(M),")")}(n):u,p=e.displayName&&e.componentId?"".concat(Vv(e.displayName),"-").concat(e.componentId):e.componentId||c,m=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;g=function(M,b){return v(M,b)&&y(M,b)}}else g=v}var x=new oL(t,p,r?i.componentStyle:void 0);function _(M,b){return function(T,R,C){var P=T.attrs,L=T.componentStyle,z=T.defaultProps,G=T.foldedComponentIds,V=T.styledComponentId,H=T.target,Y=Kr.useContext(TA),ee=Zv(),ue=T.shouldForwardProp||ee.shouldForwardProp,k=bP(R,Y,z)||zu,W=function(te,Z,ne){for(var he,Me=li(li({},Z),{className:void 0,theme:ne}),xe=0;xe<te.length;xe+=1){var Ce=Gu(he=te[xe])?he(Me):he;for(var q in Ce)Me[q]=q==="className"?Al(Me[q],Ce[q]):q==="style"?li(li({},Me[q]),Ce[q]):Ce[q]}return Z.className&&(Me.className=Al(Me.className,Z.className)),Me}(P,R,k),J=W.as||H,D={};for(var O in W)W[O]===void 0||O[0]==="$"||O==="as"||O==="theme"&&W.theme===k||(O==="forwardedAs"?D.as=W.forwardedAs:ue&&!ue(O,J)||(D[O]=W[O]));var ie=function(te,Z){var ne=Zv(),he=te.generateAndInjectStyles(Z,ne.styleSheet,ne.stylis);return he}(L,W),$=Al(G,V);return ie&&($+=" "+ie),W.className&&($+=" "+W.className),D[D5(J)&&!mA.has(J)?"class":"className"]=$,D.ref=C,F.createElement(J,D)}(S,M,b)}_.displayName=d;var S=Kr.forwardRef(_);return S.attrs=m,S.componentStyle=x,S.displayName=d,S.shouldForwardProp=g,S.foldedComponentIds=r?Al(i.foldedComponentIds,i.styledComponentId):"",S.styledComponentId=p,S.target=r?i.target:n,Object.defineProperty(S,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(M){this._foldedDefaultProps=r?function(b){for(var T=[],R=1;R<arguments.length;R++)T[R-1]=arguments[R];for(var C=0,P=T;C<P.length;C++)j6(b,P[C],!0);return b}({},i.defaultProps,M):M}}),Y4(S,function(){return".".concat(S.styledComponentId)}),s&&wA(S,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),S}function qv(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t}var $v=function(n){return Object.assign(n,{isCss:!0})};function lL(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Gu(n)||oh(n))return $v(Dl(qv(N2,i2([n],e,!0))));var r=n;return e.length===0&&r.length===1&&typeof r[0]=="string"?Dl(r):$v(Dl(qv(r,e)))}function X6(n,e,t){if(t===void 0&&(t=zu),!e)throw bh(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n(e,t,lL.apply(void 0,i2([i],s,!1)))};return r.attrs=function(i){return X6(n,e,li(li({},t),{attrs:Array.prototype.concat(t.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return X6(n,e,li(li({},t),i))},r}var RA=function(n){return X6(aL,n)},BA=RA;mA.forEach(function(n){BA[n]=RA(n)});const cL=BA.header`
width: 100%;
 padding: 0.5rem 1rem;
     display: flex;
    height: 56px;
    position: relative;
    align-items: center;
    background-color: #fff;
        font-family: Barlow;
    font-size: medium;
`;function uL(){const[n,e]=F.useState(!1),t=()=>{e(!n)};return F.useRef(),F.useRef(),F.useRef(),F.useRef(),se(pn,{children:ze(cL,{children:[se("div",{children:se("img",{src:"/InMachines_Logo_positive_RGB.svg",className:"navLogo"})}),se("div",{children:se("h1",{className:"Title",children:"OLSK Small Laser / Fabulaser Mini V3"})}),se("div",{className:"navMenu",children:ze("ul",{children:[se("li",{children:se(U6,{to:"/",children:"Assembly Manual"})}),se("li",{children:se(U6,{to:"/HowTo",target:"_blank",children:"How To"})})]})}),se("button",{className:"hamburger",onClick:t,children:"≡"})]})})}const hi=F.createContext(),fL=({children:n})=>{const[e,t]=F.useState(null),[r,i]=F.useState(0),[s,o]=F.useState(null),[a,l]=F.useState(!0),[c,u]=F.useState(),[d,p]=F.useState(),[m,g]=F.useState(),[v,y]=F.useState(),[x,_]=F.useState(),[S,M]=F.useState(),[b,T]=F.useState(),[R,C]=F.useState(),[P,L]=F.useState(),[z,G]=F.useState(),V=ne=>{t(ne)},H=ne=>{i(ne)},Y=ne=>{o(ne)},ee=ne=>{l(ne)},ue=ne=>{u(ne)},k=ne=>{p(ne)},W=ne=>{g(ne)},J=ne=>{y(ne)},D=ne=>{_(ne)},O=ne=>{M(ne)},ie=ne=>{T(ne)},$=ne=>{C(ne)},te=ne=>{L(ne)},Z=ne=>{G(ne)};return se(hi.Provider,{value:{modelProperties:e,setProperties:V,stepCount:r,setStepPosition:H,stepList:s,setListOfStep:Y,partsInOut:a,setModelInOut:ee,visibleObj:c,setVisibleModel:ue,currentStepName:d,setCurrentName:k,currentStepModel:m,setCurrentStepObj:W,selectedParts:v,setClickedParts:J,currentModel:x,setCurrentObj:D,selectedPartsModel:S,setCurrentPartsModel:O,cameraPosition:b,setCamera:ie,howToData:R,setHowToWorkbook:$,path:P,setClickedPath:te,howToTitle:z,setHowToTitle:Z},children:n})};function PA(n,e){return function(){return n.apply(e,arguments)}}const{toString:dL}=Object.prototype,{getPrototypeOf:Z4}=Object,U2=(n=>e=>{const t=dL.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Xs=n=>(n=n.toLowerCase(),e=>U2(e)===n),z2=n=>e=>typeof e===n,{isArray:of}=Array,ah=z2("undefined");function hL(n){return n!==null&&!ah(n)&&n.constructor!==null&&!ah(n.constructor)&&$i(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const LA=Xs("ArrayBuffer");function pL(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&LA(n.buffer),e}const mL=z2("string"),$i=z2("function"),IA=z2("number"),G2=n=>n!==null&&typeof n=="object",gL=n=>n===!0||n===!1,vp=n=>{if(U2(n)!=="object")return!1;const e=Z4(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},vL=Xs("Date"),yL=Xs("File"),xL=Xs("Blob"),_L=Xs("FileList"),wL=n=>G2(n)&&$i(n.pipe),SL=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||$i(n.append)&&((e=U2(n))==="formdata"||e==="object"&&$i(n.toString)&&n.toString()==="[object FormData]"))},AL=Xs("URLSearchParams"),ML=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Th(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),of(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function DA(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const FA=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),kA=n=>!ah(n)&&n!==FA;function K6(){const{caseless:n}=kA(this)&&this||{},e={},t=(r,i)=>{const s=n&&DA(e,i)||i;vp(e[s])&&vp(r)?e[s]=K6(e[s],r):vp(r)?e[s]=K6({},r):of(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Th(arguments[r],t);return e}const CL=(n,e,t,{allOwnKeys:r}={})=>(Th(e,(i,s)=>{t&&$i(i)?n[s]=PA(i,t):n[s]=i},{allOwnKeys:r}),n),EL=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),bL=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},TL=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&Z4(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},RL=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},BL=n=>{if(!n)return null;if(of(n))return n;let e=n.length;if(!IA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},PL=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Z4(Uint8Array)),LL=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},IL=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},DL=Xs("HTMLFormElement"),FL=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),ey=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),kL=Xs("RegExp"),OA=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Th(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},OL=n=>{OA(n,(e,t)=>{if($i(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if($i(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},NL=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return of(n)?r(n):r(String(n).split(e)),t},UL=()=>{},zL=(n,e)=>(n=+n,Number.isFinite(n)?n:e),k5="abcdefghijklmnopqrstuvwxyz",ty="0123456789",NA={DIGIT:ty,ALPHA:k5,ALPHA_DIGIT:k5+k5.toUpperCase()+ty},GL=(n=16,e=NA.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function HL(n){return!!(n&&$i(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const VL=n=>{const e=new Array(10),t=(r,i)=>{if(G2(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=of(r)?[]:{};return Th(r,(o,a)=>{const l=t(o,i+1);!ah(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return t(n,0)},WL=Xs("AsyncFunction"),jL=n=>n&&(G2(n)||$i(n))&&$i(n.then)&&$i(n.catch),Ie={isArray:of,isArrayBuffer:LA,isBuffer:hL,isFormData:SL,isArrayBufferView:pL,isString:mL,isNumber:IA,isBoolean:gL,isObject:G2,isPlainObject:vp,isUndefined:ah,isDate:vL,isFile:yL,isBlob:xL,isRegExp:kL,isFunction:$i,isStream:wL,isURLSearchParams:AL,isTypedArray:PL,isFileList:_L,forEach:Th,merge:K6,extend:CL,trim:ML,stripBOM:EL,inherits:bL,toFlatObject:TL,kindOf:U2,kindOfTest:Xs,endsWith:RL,toArray:BL,forEachEntry:LL,matchAll:IL,isHTMLForm:DL,hasOwnProperty:ey,hasOwnProp:ey,reduceDescriptors:OA,freezeMethods:OL,toObjectSet:NL,toCamelCase:FL,noop:UL,toFiniteNumber:zL,findKey:DA,global:FA,isContextDefined:kA,ALPHABET:NA,generateString:GL,isSpecCompliantForm:HL,toJSONObject:VL,isAsyncFn:WL,isThenable:jL};function Ht(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}Ie.inherits(Ht,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ie.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const UA=Ht.prototype,zA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{zA[n]={value:n}});Object.defineProperties(Ht,zA);Object.defineProperty(UA,"isAxiosError",{value:!0});Ht.from=(n,e,t,r,i,s)=>{const o=Object.create(UA);return Ie.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ht.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const JL=null;function Y6(n){return Ie.isPlainObject(n)||Ie.isArray(n)}function GA(n){return Ie.endsWith(n,"[]")?n.slice(0,-2):n}function ny(n,e,t){return n?n.concat(e).map(function(i,s){return i=GA(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function XL(n){return Ie.isArray(n)&&!n.some(Y6)}const KL=Ie.toFlatObject(Ie,{},null,function(e){return/^is[A-Z]/.test(e)});function H2(n,e,t){if(!Ie.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Ie.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!Ie.isUndefined(y[v])});const r=t.metaTokens,i=t.visitor||u,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&Ie.isSpecCompliantForm(e);if(!Ie.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(Ie.isDate(g))return g.toISOString();if(!l&&Ie.isBlob(g))throw new Ht("Blob is not supported. Use a Buffer instead.");return Ie.isArrayBuffer(g)||Ie.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,y){let x=g;if(g&&!y&&typeof g=="object"){if(Ie.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(Ie.isArray(g)&&XL(g)||(Ie.isFileList(g)||Ie.endsWith(v,"[]"))&&(x=Ie.toArray(g)))return v=GA(v),x.forEach(function(S,M){!(Ie.isUndefined(S)||S===null)&&e.append(o===!0?ny([v],M,s):o===null?v:v+"[]",c(S))}),!1}return Y6(g)?!0:(e.append(ny(y,v,s),c(g)),!1)}const d=[],p=Object.assign(KL,{defaultVisitor:u,convertValue:c,isVisitable:Y6});function m(g,v){if(!Ie.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(g),Ie.forEach(g,function(x,_){(!(Ie.isUndefined(x)||x===null)&&i.call(e,x,Ie.isString(_)?_.trim():_,v,p))===!0&&m(x,v?v.concat(_):[_])}),d.pop()}}if(!Ie.isObject(n))throw new TypeError("data must be an object");return m(n),e}function ry(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Q4(n,e){this._pairs=[],n&&H2(n,this,e)}const HA=Q4.prototype;HA.append=function(e,t){this._pairs.push([e,t])};HA.toString=function(e){const t=e?function(r){return e.call(this,r,ry)}:ry;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function YL(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VA(n,e,t){if(!e)return n;const r=t&&t.encode||YL,i=t&&t.serialize;let s;if(i?s=i(e,t):s=Ie.isURLSearchParams(e)?e.toString():new Q4(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class ZL{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ie.forEach(this.handlers,function(r){r!==null&&e(r)})}}const iy=ZL,WA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QL=typeof URLSearchParams<"u"?URLSearchParams:Q4,qL=typeof FormData<"u"?FormData:null,$L=typeof Blob<"u"?Blob:null,eI={isBrowser:!0,classes:{URLSearchParams:QL,FormData:qL,Blob:$L},protocols:["http","https","file","blob","url","data"]},jA=typeof window<"u"&&typeof document<"u",tI=(n=>jA&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),nI=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),rI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jA,hasStandardBrowserEnv:tI,hasStandardBrowserWebWorkerEnv:nI},Symbol.toStringTag,{value:"Module"})),Ns={...rI,...eI};function iI(n,e){return H2(n,new Ns.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Ns.isNode&&Ie.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function sI(n){return Ie.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oI(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function JA(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&Ie.isArray(i)?i.length:o,l?(Ie.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Ie.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&Ie.isArray(i[o])&&(i[o]=oI(i[o])),!a)}if(Ie.isFormData(n)&&Ie.isFunction(n.entries)){const t={};return Ie.forEachEntry(n,(r,i)=>{e(sI(r),i,t,0)}),t}return null}function aI(n,e,t){if(Ie.isString(n))try{return(e||JSON.parse)(n),Ie.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const q4={transitional:WA,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ie.isObject(e);if(s&&Ie.isHTMLForm(e)&&(e=new FormData(e)),Ie.isFormData(e))return i?JSON.stringify(JA(e)):e;if(Ie.isArrayBuffer(e)||Ie.isBuffer(e)||Ie.isStream(e)||Ie.isFile(e)||Ie.isBlob(e))return e;if(Ie.isArrayBufferView(e))return e.buffer;if(Ie.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return iI(e,this.formSerializer).toString();if((a=Ie.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return H2(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),aI(e)):e}],transformResponse:[function(e){const t=this.transitional||q4.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(e&&Ie.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ht.from(a,Ht.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ns.classes.FormData,Blob:Ns.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ie.forEach(["delete","get","head","post","put","patch"],n=>{q4.headers[n]={}});const $4=q4,lI=Ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cI=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&lI[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},sy=Symbol("internals");function Zf(n){return n&&String(n).trim().toLowerCase()}function yp(n){return n===!1||n==null?n:Ie.isArray(n)?n.map(yp):String(n)}function uI(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const fI=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function O5(n,e,t,r,i){if(Ie.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Ie.isString(e)){if(Ie.isString(r))return e.indexOf(r)!==-1;if(Ie.isRegExp(r))return r.test(e)}}function dI(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function hI(n,e){const t=Ie.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class V2{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,l,c){const u=Zf(l);if(!u)throw new Error("header name must be a non-empty string");const d=Ie.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=yp(a))}const o=(a,l)=>Ie.forEach(a,(c,u)=>s(c,u,l));return Ie.isPlainObject(e)||e instanceof this.constructor?o(e,t):Ie.isString(e)&&(e=e.trim())&&!fI(e)?o(cI(e),t):e!=null&&s(t,e,r),this}get(e,t){if(e=Zf(e),e){const r=Ie.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return uI(i);if(Ie.isFunction(t))return t.call(this,i,r);if(Ie.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Zf(e),e){const r=Ie.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||O5(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Zf(o),o){const a=Ie.findKey(r,o);a&&(!t||O5(r,r[a],a,t))&&(delete r[a],i=!0)}}return Ie.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||O5(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return Ie.forEach(this,(i,s)=>{const o=Ie.findKey(r,s);if(o){t[o]=yp(i),delete t[s];return}const a=e?dI(s):String(s).trim();a!==s&&delete t[s],t[a]=yp(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ie.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Ie.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[sy]=this[sy]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Zf(o);r[a]||(hI(i,o),r[a]=!0)}return Ie.isArray(e)?e.forEach(s):s(e),this}}V2.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ie.reduceDescriptors(V2.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Ie.freezeMethods(V2);const To=V2;function N5(n,e){const t=this||$4,r=e||t,i=To.from(r.headers);let s=r.data;return Ie.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function XA(n){return!!(n&&n.__CANCEL__)}function Rh(n,e,t){Ht.call(this,n??"canceled",Ht.ERR_CANCELED,e,t),this.name="CanceledError"}Ie.inherits(Rh,Ht,{__CANCEL__:!0});function pI(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ht("Request failed with status code "+t.status,[Ht.ERR_BAD_REQUEST,Ht.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const mI=Ns.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];Ie.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),Ie.isString(r)&&o.push("path="+r),Ie.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gI(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function vI(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function KA(n,e){return n&&!gI(e)?vI(n,e):e}const yI=Ns.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(o){const a=Ie.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function xI(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function _I(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),t[i]=l,r[i]=c;let d=s,p=0;for(;d!==i;)p+=t[d++],d=d%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),c-o<e)return;const m=u&&c-u;return m?Math.round(p*1e3/m):void 0}}function oy(n,e){let t=0;const r=_I(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-t,l=r(a),c=s<=o;t=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:i};u[e?"download":"upload"]=!0,n(u)}}const wI=typeof XMLHttpRequest<"u",SI=wI&&function(n){return new Promise(function(t,r){let i=n.data;const s=To.from(n.headers).normalize();let{responseType:o,withXSRFToken:a}=n,l;function c(){n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let u;if(Ie.isFormData(i)){if(Ns.hasStandardBrowserEnv||Ns.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((u=s.getContentType())!==!1){const[v,...y]=u?u.split(";").map(x=>x.trim()).filter(Boolean):[];s.setContentType([v||"multipart/form-data",...y].join("; "))}}let d=new XMLHttpRequest;if(n.auth){const v=n.auth.username||"",y=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+y))}const p=KA(n.baseURL,n.url);d.open(n.method.toUpperCase(),VA(p,n.params,n.paramsSerializer),!0),d.timeout=n.timeout;function m(){if(!d)return;const v=To.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:v,config:n,request:d};pI(function(S){t(S),c()},function(S){r(S),c()},x),d=null}if("onloadend"in d?d.onloadend=m:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(m)},d.onabort=function(){d&&(r(new Ht("Request aborted",Ht.ECONNABORTED,n,d)),d=null)},d.onerror=function(){r(new Ht("Network Error",Ht.ERR_NETWORK,n,d)),d=null},d.ontimeout=function(){let y=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const x=n.transitional||WA;n.timeoutErrorMessage&&(y=n.timeoutErrorMessage),r(new Ht(y,x.clarifyTimeoutError?Ht.ETIMEDOUT:Ht.ECONNABORTED,n,d)),d=null},Ns.hasStandardBrowserEnv&&(a&&Ie.isFunction(a)&&(a=a(n)),a||a!==!1&&yI(p))){const v=n.xsrfHeaderName&&n.xsrfCookieName&&mI.read(n.xsrfCookieName);v&&s.set(n.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&Ie.forEach(s.toJSON(),function(y,x){d.setRequestHeader(x,y)}),Ie.isUndefined(n.withCredentials)||(d.withCredentials=!!n.withCredentials),o&&o!=="json"&&(d.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&d.addEventListener("progress",oy(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",oy(n.onUploadProgress)),(n.cancelToken||n.signal)&&(l=v=>{d&&(r(!v||v.type?new Rh(null,n,d):v),d.abort(),d=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const g=xI(p);if(g&&Ns.protocols.indexOf(g)===-1){r(new Ht("Unsupported protocol "+g+":",Ht.ERR_BAD_REQUEST,n));return}d.send(i||null)})},Z6={http:JL,xhr:SI};Ie.forEach(Z6,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const ay=n=>`- ${n}`,AI=n=>Ie.isFunction(n)||n===null||n===!1,YA={getAdapter:n=>{n=Ie.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!AI(t)&&(r=Z6[(o=String(t)).toLowerCase()],r===void 0))throw new Ht(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(ay).join(`
`):" "+ay(s[0]):"as no adapter specified";throw new Ht("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Z6};function U5(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Rh(null,n)}function ly(n){return U5(n),n.headers=To.from(n.headers),n.data=N5.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),YA.getAdapter(n.adapter||$4.adapter)(n).then(function(r){return U5(n),r.data=N5.call(n,n.transformResponse,r),r.headers=To.from(r.headers),r},function(r){return XA(r)||(U5(n),r&&r.response&&(r.response.data=N5.call(n,n.transformResponse,r.response),r.response.headers=To.from(r.response.headers))),Promise.reject(r)})}const cy=n=>n instanceof To?{...n}:n;function Hu(n,e){e=e||{};const t={};function r(c,u,d){return Ie.isPlainObject(c)&&Ie.isPlainObject(u)?Ie.merge.call({caseless:d},c,u):Ie.isPlainObject(u)?Ie.merge({},u):Ie.isArray(u)?u.slice():u}function i(c,u,d){if(Ie.isUndefined(u)){if(!Ie.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function s(c,u){if(!Ie.isUndefined(u))return r(void 0,u)}function o(c,u){if(Ie.isUndefined(u)){if(!Ie.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in n)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>i(cy(c),cy(u),!0)};return Ie.forEach(Object.keys(Object.assign({},n,e)),function(u){const d=l[u]||i,p=d(n[u],e[u],u);Ie.isUndefined(p)&&d!==a||(t[u]=p)}),t}const ZA="1.6.8",eg={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{eg[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const uy={};eg.transitional=function(e,t,r){function i(s,o){return"[Axios v"+ZA+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Ht(i(o," has been removed"+(t?" in "+t:"")),Ht.ERR_DEPRECATED);return t&&!uy[o]&&(uy[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function MI(n,e,t){if(typeof n!="object")throw new Ht("options must be an object",Ht.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new Ht("option "+s+" must be "+l,Ht.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ht("Unknown option "+s,Ht.ERR_BAD_OPTION)}}const Q6={assertOptions:MI,validators:eg},ta=Q6.validators;class a2{constructor(e){this.defaults=e,this.interceptors={request:new iy,response:new iy}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Hu(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&Q6.assertOptions(r,{silentJSONParsing:ta.transitional(ta.boolean),forcedJSONParsing:ta.transitional(ta.boolean),clarifyTimeoutError:ta.transitional(ta.boolean)},!1),i!=null&&(Ie.isFunction(i)?t.paramsSerializer={serialize:i}:Q6.assertOptions(i,{encode:ta.function,serialize:ta.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&Ie.merge(s.common,s[t.method]);s&&Ie.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),t.headers=To.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,p;if(!l){const g=[ly.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),p=g.length,u=Promise.resolve(t);d<p;)u=u.then(g[d++],g[d++]);return u}p=a.length;let m=t;for(d=0;d<p;){const g=a[d++],v=a[d++];try{m=g(m)}catch(y){v.call(this,y);break}}try{u=ly.call(this,m)}catch(g){return Promise.reject(g)}for(d=0,p=c.length;d<p;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Hu(this.defaults,e);const t=KA(e.baseURL,e.url);return VA(t,e.params,e.paramsSerializer)}}Ie.forEach(["delete","get","head","options"],function(e){a2.prototype[e]=function(t,r){return this.request(Hu(r||{},{method:e,url:t,data:(r||{}).data}))}});Ie.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(Hu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}a2.prototype[e]=t(),a2.prototype[e+"Form"]=t(!0)});const xp=a2;class tg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Rh(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new tg(function(i){e=i}),cancel:e}}}const CI=tg;function EI(n){return function(t){return n.apply(null,t)}}function bI(n){return Ie.isObject(n)&&n.isAxiosError===!0}const q6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(q6).forEach(([n,e])=>{q6[e]=n});const TI=q6;function QA(n){const e=new xp(n),t=PA(xp.prototype.request,e);return Ie.extend(t,xp.prototype,e,{allOwnKeys:!0}),Ie.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return QA(Hu(n,i))},t}const Xn=QA($4);Xn.Axios=xp;Xn.CanceledError=Rh;Xn.CancelToken=CI;Xn.isCancel=XA;Xn.VERSION=ZA;Xn.toFormData=H2;Xn.AxiosError=Ht;Xn.Cancel=Xn.CanceledError;Xn.all=function(e){return Promise.all(e)};Xn.spread=EI;Xn.isAxiosError=bI;Xn.mergeConfig=Hu;Xn.AxiosHeaders=To;Xn.formToJSON=n=>JA(Ie.isHTMLForm(n)?new FormData(n):n);Xn.getAdapter=YA.getAdapter;Xn.HttpStatusCode=TI;Xn.default=Xn;const qA=Xn;let fy=0,dy=new Array,z5=new Array;function RI(){const[n,e]=F.useState([]);let{howToTitle:t}=F.useContext(hi);return F.useEffect(()=>{qA.get("https://sheets.googleapis.com/v4/spreadsheets/1grTucZ2sqLgZ4AtJq8EkyO__kLg-pazRVl3sbLNMaIY/values/Blad1?key=AIzaSyCqcO7MQv4dsj76ps3nNJnMwTT8Cvqv-eM").then(r=>{let i=r.data.values,s=new Array,o=[];for(const a of i)fy>0&&a[0]!=""?(s=new Array,s.push(a),dy.push(s)):s.push(a),++fy;for(const a of dy)a[0]!=""&&(z5=new Array,z5.push(a[0][0],a[0][1]),o.push(z5));e(o)}).catch(r=>{console.error("Error fetching data:",r)}),console.log(t)},[]),se(pn,{children:se("aside",{className:"stepNavi",style:{width:"350px"},children:se("ul",{children:n?n.map((r,i)=>se("li",{children:se(U6,{to:`/HowTo/${r[0]}`,children:t&&t==r[1]?ze("button",{type:"button",className:"stepNaviBtn",style:{backgroundColor:"#000000",color:"#ffffff"},children:[r[0],". ",r[1]]}):ze("button",{type:"button",className:"stepNaviBtn",children:[r[0],". ",r[1]]})})},i)):null})})})}function Kl(){return Kl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kl.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Bh="148",ml={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},gl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},$A=0,$6=1,eM=2,BI=3,tM=0,W2=1,Fd=2,Ml=3,js=0,Zr=1,rc=2,Sd=3,Ro=0,Bo=1,e8=2,t8=3,n8=4,nM=5,yl=100,rM=101,iM=102,r8=103,i8=104,sM=200,oM=201,aM=202,lM=203,ng=204,rg=205,cM=206,uM=207,fM=208,dM=209,hM=210,pM=0,mM=1,gM=2,l2=3,vM=4,yM=5,xM=6,_M=7,Ph=0,wM=1,SM=2,xs=0,AM=1,MM=2,CM=3,ig=4,EM=5,j2=300,Ba=301,Pa=302,lh=303,ch=304,af=306,La=1e3,vr=1001,Vu=1002,Tn=1003,uh=1004,PI=1004,Eu=1005,LI=1005,fn=1006,J2=1007,II=1007,Js=1008,DI=1008,Fo=1009,bM=1010,TM=1011,sg=1012,RM=1013,va=1014,Mo=1015,Wu=1016,BM=1017,PM=1018,Fl=1020,LM=1021,IM=1022,oi=1023,DM=1024,FM=1025,ba=1026,Yl=1027,kM=1028,OM=1029,NM=1030,UM=1031,zM=1033,_p=33776,wp=33777,Sp=33778,Ap=33779,s8=35840,o8=35841,a8=35842,l8=35843,GM=36196,c8=37492,u8=37496,f8=37808,d8=37809,h8=37810,p8=37811,m8=37812,g8=37813,v8=37814,y8=37815,x8=37816,_8=37817,w8=37818,S8=37819,A8=37820,M8=37821,C8=36492,HM=2200,VM=2201,WM=2202,ju=2300,Zl=2301,Mp=2302,Cl=2400,El=2401,fh=2402,X2=2500,og=2501,jM=0,ag=1,c2=2,Ia=3e3,rn=3001,JM=3200,lg=3201,za=0,XM=1,FI="",hs="srgb",Ju="srgb-linear",kI=0,Cp=7680,OI=7681,NI=7682,UI=7683,zI=34055,GI=34056,HI=5386,VI=512,WI=513,jI=514,JI=515,XI=516,KI=517,YI=518,KM=519,dh=35044,Ep=35048,ZI=35040,QI=35045,qI=35049,$I=35041,eD=35046,tD=35050,nD=35042,rD="100",E8="300 es",u2=1035;class Ks{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Rr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let hy=1234567;const kl=Math.PI/180,hh=180/Math.PI;function Ri(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Rr[n&255]+Rr[n>>8&255]+Rr[n>>16&255]+Rr[n>>24&255]+"-"+Rr[e&255]+Rr[e>>8&255]+"-"+Rr[e>>16&15|64]+Rr[e>>24&255]+"-"+Rr[t&63|128]+Rr[t>>8&255]+"-"+Rr[t>>16&255]+Rr[t>>24&255]+Rr[r&255]+Rr[r>>8&255]+Rr[r>>16&255]+Rr[r>>24&255]).toLowerCase()}function On(n,e,t){return Math.max(e,Math.min(t,n))}function cg(n,e){return(n%e+e)%e}function iD(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function sD(n,e,t){return n!==e?(t-n)/(e-n):0}function kd(n,e,t){return(1-t)*n+t*e}function oD(n,e,t,r){return kd(n,e,1-Math.exp(-t*r))}function aD(n,e=1){return e-Math.abs(cg(n,e*2)-e)}function lD(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function cD(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function uD(n,e){return n+Math.floor(Math.random()*(e-n+1))}function fD(n,e){return n+Math.random()*(e-n)}function dD(n){return n*(.5-Math.random())}function hD(n){n!==void 0&&(hy=n);let e=hy+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function pD(n){return n*kl}function mD(n){return n*hh}function b8(n){return(n&n-1)===0&&n!==0}function YM(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function f2(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function gD(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),d=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Co(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function tn(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var bl=Object.freeze({__proto__:null,DEG2RAD:kl,RAD2DEG:hh,generateUUID:Ri,clamp:On,euclideanModulo:cg,mapLinear:iD,inverseLerp:sD,lerp:kd,damp:oD,pingpong:aD,smoothstep:lD,smootherstep:cD,randInt:uD,randFloat:fD,randFloatSpread:dD,seededRandom:hD,degToRad:pD,radToDeg:mD,isPowerOfTwo:b8,ceilPowerOfTwo:YM,floorPowerOfTwo:f2,setQuaternionFromProperEuler:gD,normalize:tn,denormalize:Co});class Re{constructor(e=0,t=0){Re.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Dr{constructor(){Dr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],p=r[2],m=r[5],g=r[8],v=i[0],y=i[3],x=i[6],_=i[1],S=i[4],M=i[7],b=i[2],T=i[5],R=i[8];return s[0]=o*v+a*_+l*b,s[3]=o*y+a*S+l*T,s[6]=o*x+a*M+l*R,s[1]=c*v+u*_+d*b,s[4]=c*y+u*S+d*T,s[7]=c*x+u*M+d*R,s[2]=p*v+m*_+g*b,s[5]=p*y+m*S+g*T,s[8]=p*x+m*M+g*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,p=a*l-u*s,m=c*s-o*l,g=t*d+r*p+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=d*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*o)*v,e[3]=p*v,e[4]=(u*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=m*v,e[7]=(r*l-c*t)*v,e[8]=(o*t-r*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(G5.makeScale(e,t)),this}rotate(e){return this.premultiply(G5.makeRotation(-e)),this}translate(e,t){return this.premultiply(G5.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const G5=new Dr;function ZM(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const vD={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function du(n,e){return new vD[n](e)}function ph(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Ol(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function bp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const H5={[hs]:{[Ju]:Ol},[Ju]:{[hs]:bp}},Br={legacyMode:!0,get workingColorSpace(){return Ju},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(H5[e]&&H5[e][t]!==void 0){const r=H5[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},QM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zn={r:0,g:0,b:0},ls={h:0,s:0,l:0},a0={h:0,s:0,l:0};function V5(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function l0(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class qe{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=hs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Br.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Br.workingColorSpace){return this.r=e,this.g=t,this.b=r,Br.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Br.workingColorSpace){if(e=cg(e,1),t=On(t,0,1),r=On(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=V5(o,s,e+1/3),this.g=V5(o,s,e),this.b=V5(o,s,e-1/3)}return Br.toWorkingColorSpace(this,i),this}setStyle(e,t=hs){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Br.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Br.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Br.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Br.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=hs){const r=QM[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ol(e.r),this.g=Ol(e.g),this.b=Ol(e.b),this}copyLinearToSRGB(e){return this.r=bp(e.r),this.g=bp(e.g),this.b=bp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=hs){return Br.fromWorkingColorSpace(l0(this,Zn),e),On(Zn.r*255,0,255)<<16^On(Zn.g*255,0,255)<<8^On(Zn.b*255,0,255)<<0}getHexString(e=hs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Br.workingColorSpace){Br.fromWorkingColorSpace(l0(this,Zn),t);const r=Zn.r,i=Zn.g,s=Zn.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Br.workingColorSpace){return Br.fromWorkingColorSpace(l0(this,Zn),t),e.r=Zn.r,e.g=Zn.g,e.b=Zn.b,e}getStyle(e=hs){return Br.fromWorkingColorSpace(l0(this,Zn),e),e!==hs?`color(${e} ${Zn.r} ${Zn.g} ${Zn.b})`:`rgb(${Zn.r*255|0},${Zn.g*255|0},${Zn.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(ls),ls.h+=e,ls.s+=t,ls.l+=r,this.setHSL(ls.h,ls.s,ls.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ls),e.getHSL(a0);const r=kd(ls.h,a0.h,t),i=kd(ls.s,a0.s,t),s=kd(ls.l,a0.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}qe.NAMES=QM;let Tc;class ug{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Tc===void 0&&(Tc=ph("canvas")),Tc.width=e.width,Tc.height=e.height;const r=Tc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Tc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ph("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Ol(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Ol(t[r]/255)*255):t[r]=Ol(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Tl{constructor(e=null){this.isSource=!0,this.uuid=Ri(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(W5(i[o].image)):s.push(W5(i[o]))}else s=W5(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function W5(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?ug.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let yD=0;class on extends Ks{constructor(e=on.DEFAULT_IMAGE,t=on.DEFAULT_MAPPING,r=vr,i=vr,s=fn,o=Js,a=oi,l=Fo,c=on.DEFAULT_ANISOTROPY,u=Ia){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:yD++}),this.uuid=Ri(),this.name="",this.source=new Tl(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Re(0,0),this.repeat=new Re(1,1),this.center=new Re(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==j2)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case La:e.x=e.x-Math.floor(e.x);break;case vr:e.x=e.x<0?0:1;break;case Vu:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case La:e.y=e.y-Math.floor(e.y);break;case vr:e.y=e.y<0?0:1;break;case Vu:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}on.DEFAULT_IMAGE=null;on.DEFAULT_MAPPING=j2;on.DEFAULT_ANISOTROPY=1;class Kt{constructor(e=0,t=0,r=0,i=1){Kt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],p=l[1],m=l[5],g=l[9],v=l[2],y=l[6],x=l[10];if(Math.abs(u-p)<.01&&Math.abs(d-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(u+p)<.1&&Math.abs(d+v)<.1&&Math.abs(g+y)<.1&&Math.abs(c+m+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,M=(m+1)/2,b=(x+1)/2,T=(u+p)/4,R=(d+v)/4,C=(g+y)/4;return S>M&&S>b?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=T/r,s=R/r):M>b?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=T/i,s=C/i):b<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(b),r=R/s,i=C/s),this.set(r,i,s,t),this}let _=Math.sqrt((y-g)*(y-g)+(d-v)*(d-v)+(p-u)*(p-u));return Math.abs(_)<.001&&(_=1),this.x=(y-g)/_,this.y=(d-v)/_,this.z=(p-u)/_,this.w=Math.acos((c+m+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class rs extends Ks{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Kt(0,0,e,t),this.scissorTest=!1,this.viewport=new Kt(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new on(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:fn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Tl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Lh extends on{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Tn,this.minFilter=Tn,this.wrapR=vr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xD extends rs{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Lh(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class K2 extends on{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Tn,this.minFilter=Tn,this.wrapR=vr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _D extends rs{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new K2(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class wD extends rs{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class ur{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const p=s[o+0],m=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=g,e[t+3]=v;return}if(d!==v||l!==p||c!==m||u!==g){let y=1-a;const x=l*p+c*m+u*g+d*v,_=x>=0?1:-1,S=1-x*x;if(S>Number.EPSILON){const b=Math.sqrt(S),T=Math.atan2(b,x*_);y=Math.sin(y*T)/b,a=Math.sin(a*T)/b}const M=a*_;if(l=l*y+p*M,c=c*y+m*M,u=u*y+g*M,d=d*y+v*M,y===1-a){const b=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=b,c*=b,u*=b,d*=b}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=s[o],p=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+u*d+l*m-c*p,e[t+1]=l*g+u*p+c*d-a*m,e[t+2]=c*g+u*m+a*p-l*d,e[t+3]=u*g-a*d-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(s/2),p=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=p*u*d+c*m*g,this._y=c*m*d-p*u*g,this._z=c*u*g+p*m*d,this._w=c*u*d-p*m*g;break;case"YXZ":this._x=p*u*d+c*m*g,this._y=c*m*d-p*u*g,this._z=c*u*g-p*m*d,this._w=c*u*d+p*m*g;break;case"ZXY":this._x=p*u*d-c*m*g,this._y=c*m*d+p*u*g,this._z=c*u*g+p*m*d,this._w=c*u*d-p*m*g;break;case"ZYX":this._x=p*u*d-c*m*g,this._y=c*m*d+p*u*g,this._z=c*u*g-p*m*d,this._w=c*u*d+p*m*g;break;case"YZX":this._x=p*u*d+c*m*g,this._y=c*m*d+p*u*g,this._z=c*u*g-p*m*d,this._w=c*u*d-p*m*g;break;case"XZY":this._x=p*u*d-c*m*g,this._y=c*m*d-p*u*g,this._z=c*u*g+p*m*d,this._w=c*u*d+p*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],p=r+a+d;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(On(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,t=0,r=0){N.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(py.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(py.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,d=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=c*l+p*-s+u*-a-d*-o,this.y=u*l+p*-o+d*-s-c*-a,this.z=d*l+p*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return j5.copy(this).projectOnVector(e),this.sub(j5)}reflect(e){return this.sub(j5.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(On(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const j5=new N,py=new ur;class Ys{constructor(e=new N(1/0,1/0,1/0),t=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],p=e[l+2];u<t&&(t=u),d<r&&(r=d),p<i&&(i=p),u>s&&(s=u),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),p=e.getZ(l);u<t&&(t=u),d<r&&(r=d),p<i&&(i=p),u>s&&(s=u),d>o&&(o=d),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=rl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)rl.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(rl)}else r.boundingBox===null&&r.computeBoundingBox(),J5.copy(r.boundingBox),J5.applyMatrix4(e.matrixWorld),this.union(J5);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,rl),rl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Qf),c0.subVectors(this.max,Qf),Rc.subVectors(e.a,Qf),Bc.subVectors(e.b,Qf),Pc.subVectors(e.c,Qf),na.subVectors(Bc,Rc),ra.subVectors(Pc,Bc),il.subVectors(Rc,Pc);let t=[0,-na.z,na.y,0,-ra.z,ra.y,0,-il.z,il.y,na.z,0,-na.x,ra.z,0,-ra.x,il.z,0,-il.x,-na.y,na.x,0,-ra.y,ra.x,0,-il.y,il.x,0];return!X5(t,Rc,Bc,Pc,c0)||(t=[1,0,0,0,1,0,0,0,1],!X5(t,Rc,Bc,Pc,c0))?!1:(u0.crossVectors(na,ra),t=[u0.x,u0.y,u0.z],X5(t,Rc,Bc,Pc,c0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return rl.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(rl).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(co[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),co[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),co[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),co[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),co[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),co[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),co[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),co[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(co),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const co=[new N,new N,new N,new N,new N,new N,new N,new N],rl=new N,J5=new Ys,Rc=new N,Bc=new N,Pc=new N,na=new N,ra=new N,il=new N,Qf=new N,c0=new N,u0=new N,sl=new N;function X5(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){sl.fromArray(n,s);const a=i.x*Math.abs(sl.x)+i.y*Math.abs(sl.y)+i.z*Math.abs(sl.z),l=e.dot(sl),c=t.dot(sl),u=r.dot(sl);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const SD=new Ys,qf=new N,K5=new N;class Uo{constructor(e=new N,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):SD.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;qf.subVectors(e,this.center);const t=qf.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(qf,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(K5.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(qf.copy(e.center).add(K5)),this.expandByPoint(qf.copy(e.center).sub(K5))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const uo=new N,Y5=new N,f0=new N,ia=new N,Z5=new N,d0=new N,Q5=new N;class lf{constructor(e=new N,t=new N(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,uo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=uo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(uo.copy(this.direction).multiplyScalar(t).add(this.origin),uo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Y5.copy(e).add(t).multiplyScalar(.5),f0.copy(t).sub(e).normalize(),ia.copy(this.origin).sub(Y5);const s=e.distanceTo(t)*.5,o=-this.direction.dot(f0),a=ia.dot(this.direction),l=-ia.dot(f0),c=ia.lengthSq(),u=Math.abs(1-o*o);let d,p,m,g;if(u>0)if(d=o*l-a,p=o*a-l,g=s*u,d>=0)if(p>=-g)if(p<=g){const v=1/u;d*=v,p*=v,m=d*(d+o*p+2*a)+p*(o*d+p+2*l)+c}else p=s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;else p<=-g?(d=Math.max(0,-(-o*s+a)),p=d>0?-s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c):p<=g?(d=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(d=Math.max(0,-(o*s+a)),p=d>0?s:Math.min(Math.max(-s,-l),s),m=-d*d+p*(p+2*l)+c);else p=o>0?-s:s,d=Math.max(0,-(o*p+a)),m=-d*d+p*(p+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(f0).multiplyScalar(p).add(Y5),m}intersectSphere(e,t){uo.subVectors(e.center,this.origin);const r=uo.dot(this.direction),i=uo.dot(uo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,uo)!==null}intersectTriangle(e,t,r,i,s){Z5.subVectors(t,e),d0.subVectors(r,e),Q5.crossVectors(Z5,d0);let o=this.direction.dot(Q5),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ia.subVectors(this.origin,e);const l=a*this.direction.dot(d0.crossVectors(ia,d0));if(l<0)return null;const c=a*this.direction.dot(Z5.cross(ia));if(c<0||l+c>o)return null;const u=-a*ia.dot(Q5);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dt{constructor(){dt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,d,p,m,g,v,y){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=u,x[10]=d,x[14]=p,x[3]=m,x[7]=g,x[11]=v,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Lc.setFromMatrixColumn(e,0).length(),s=1/Lc.setFromMatrixColumn(e,1).length(),o=1/Lc.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*d,g=a*u,v=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=m+g*c,t[5]=p-v*c,t[9]=-a*l,t[2]=v-p*c,t[6]=g+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*d,g=c*u,v=c*d;t[0]=p+v*a,t[4]=g*a-m,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=m*a-g,t[6]=v+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*d,g=c*u,v=c*d;t[0]=p-v*a,t[4]=-o*d,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*u,t[9]=v-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*d,g=a*u,v=a*d;t[0]=l*u,t[4]=g*c-m,t[8]=p*c+v,t[1]=l*d,t[5]=v*c+p,t[9]=m*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=v-p*d,t[8]=g*d+m,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*d+g,t[10]=p-v*d}else if(e.order==="XZY"){const p=o*l,m=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=p*d+v,t[5]=o*u,t[9]=m*d-g,t[2]=g*d-m,t[6]=a*u,t[10]=v*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(AD,e,MD)}lookAt(e,t,r){const i=this.elements;return Ai.subVectors(e,t),Ai.lengthSq()===0&&(Ai.z=1),Ai.normalize(),sa.crossVectors(r,Ai),sa.lengthSq()===0&&(Math.abs(r.z)===1?Ai.x+=1e-4:Ai.z+=1e-4,Ai.normalize(),sa.crossVectors(r,Ai)),sa.normalize(),h0.crossVectors(Ai,sa),i[0]=sa.x,i[4]=h0.x,i[8]=Ai.x,i[1]=sa.y,i[5]=h0.y,i[9]=Ai.y,i[2]=sa.z,i[6]=h0.z,i[10]=Ai.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],p=r[9],m=r[13],g=r[2],v=r[6],y=r[10],x=r[14],_=r[3],S=r[7],M=r[11],b=r[15],T=i[0],R=i[4],C=i[8],P=i[12],L=i[1],z=i[5],G=i[9],V=i[13],H=i[2],Y=i[6],ee=i[10],ue=i[14],k=i[3],W=i[7],J=i[11],D=i[15];return s[0]=o*T+a*L+l*H+c*k,s[4]=o*R+a*z+l*Y+c*W,s[8]=o*C+a*G+l*ee+c*J,s[12]=o*P+a*V+l*ue+c*D,s[1]=u*T+d*L+p*H+m*k,s[5]=u*R+d*z+p*Y+m*W,s[9]=u*C+d*G+p*ee+m*J,s[13]=u*P+d*V+p*ue+m*D,s[2]=g*T+v*L+y*H+x*k,s[6]=g*R+v*z+y*Y+x*W,s[10]=g*C+v*G+y*ee+x*J,s[14]=g*P+v*V+y*ue+x*D,s[3]=_*T+S*L+M*H+b*k,s[7]=_*R+S*z+M*Y+b*W,s[11]=_*C+S*G+M*ee+b*J,s[15]=_*P+S*V+M*ue+b*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],p=e[10],m=e[14],g=e[3],v=e[7],y=e[11],x=e[15];return g*(+s*l*d-i*c*d-s*a*p+r*c*p+i*a*m-r*l*m)+v*(+t*l*m-t*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+y*(+t*c*d-t*a*m-s*o*d+r*o*m+s*a*u-r*c*u)+x*(-i*a*u-t*l*d+t*a*p+i*o*d-r*o*p+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],p=e[10],m=e[11],g=e[12],v=e[13],y=e[14],x=e[15],_=d*y*c-v*p*c+v*l*m-a*y*m-d*l*x+a*p*x,S=g*p*c-u*y*c-g*l*m+o*y*m+u*l*x-o*p*x,M=u*v*c-g*d*c+g*a*m-o*v*m-u*a*x+o*d*x,b=g*d*l-u*v*l-g*a*p+o*v*p+u*a*y-o*d*y,T=t*_+r*S+i*M+s*b;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/T;return e[0]=_*R,e[1]=(v*p*s-d*y*s-v*i*m+r*y*m+d*i*x-r*p*x)*R,e[2]=(a*y*s-v*l*s+v*i*c-r*y*c-a*i*x+r*l*x)*R,e[3]=(d*l*s-a*p*s-d*i*c+r*p*c+a*i*m-r*l*m)*R,e[4]=S*R,e[5]=(u*y*s-g*p*s+g*i*m-t*y*m-u*i*x+t*p*x)*R,e[6]=(g*l*s-o*y*s-g*i*c+t*y*c+o*i*x-t*l*x)*R,e[7]=(o*p*s-u*l*s+u*i*c-t*p*c-o*i*m+t*l*m)*R,e[8]=M*R,e[9]=(g*d*s-u*v*s-g*r*m+t*v*m+u*r*x-t*d*x)*R,e[10]=(o*v*s-g*a*s+g*r*c-t*v*c-o*r*x+t*a*x)*R,e[11]=(u*a*s-o*d*s-u*r*c+t*d*c+o*r*m-t*a*m)*R,e[12]=b*R,e[13]=(u*v*i-g*d*i+g*r*p-t*v*p-u*r*y+t*d*y)*R,e[14]=(g*a*i-o*v*i-g*r*l+t*v*l+o*r*y-t*a*y)*R,e[15]=(o*d*i-u*a*i+u*r*l-t*d*l-o*r*p+t*a*p)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,p=s*c,m=s*u,g=s*d,v=o*u,y=o*d,x=a*d,_=l*c,S=l*u,M=l*d,b=r.x,T=r.y,R=r.z;return i[0]=(1-(v+x))*b,i[1]=(m+M)*b,i[2]=(g-S)*b,i[3]=0,i[4]=(m-M)*T,i[5]=(1-(p+x))*T,i[6]=(y+_)*T,i[7]=0,i[8]=(g+S)*R,i[9]=(y-_)*R,i[10]=(1-(p+v))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Lc.set(i[0],i[1],i[2]).length();const o=Lc.set(i[4],i[5],i[6]).length(),a=Lc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],cs.copy(this);const c=1/s,u=1/o,d=1/a;return cs.elements[0]*=c,cs.elements[1]*=c,cs.elements[2]*=c,cs.elements[4]*=u,cs.elements[5]*=u,cs.elements[6]*=u,cs.elements[8]*=d,cs.elements[9]*=d,cs.elements[10]*=d,t.setFromRotationMatrix(cs),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),d=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),d=(t+e)*l,p=(r+i)*c,m=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Lc=new N,cs=new dt,AD=new N(0,0,0),MD=new N(1,1,1),sa=new N,h0=new N,Ai=new N,my=new dt,gy=new ur;class cf{constructor(e=0,t=0,r=0,i=cf.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(On(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-On(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(On(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-On(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(On(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-On(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return my.makeRotationFromQuaternion(e),this.setFromRotationMatrix(my,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return gy.setFromEuler(this),this.setFromQuaternion(gy,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}cf.DefaultOrder="XYZ";cf.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Nl{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let CD=0;const vy=new N,Ic=new ur,fo=new dt,p0=new N,$f=new N,ED=new N,bD=new ur,yy=new N(1,0,0),xy=new N(0,1,0),_y=new N(0,0,1),TD={type:"added"},wy={type:"removed"};class xt extends Ks{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:CD++}),this.uuid=Ri(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xt.DefaultUp.clone();const e=new N,t=new cf,r=new ur,i=new N(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new dt},normalMatrix:{value:new Dr}}),this.matrix=new dt,this.matrixWorld=new dt,this.matrixAutoUpdate=xt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=xt.DefaultMatrixWorldAutoUpdate,this.layers=new Nl,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ic.setFromAxisAngle(e,t),this.quaternion.multiply(Ic),this}rotateOnWorldAxis(e,t){return Ic.setFromAxisAngle(e,t),this.quaternion.premultiply(Ic),this}rotateX(e){return this.rotateOnAxis(yy,e)}rotateY(e){return this.rotateOnAxis(xy,e)}rotateZ(e){return this.rotateOnAxis(_y,e)}translateOnAxis(e,t){return vy.copy(e).applyQuaternion(this.quaternion),this.position.add(vy.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(yy,e)}translateY(e){return this.translateOnAxis(xy,e)}translateZ(e){return this.translateOnAxis(_y,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(fo.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?p0.copy(e):p0.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),$f.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fo.lookAt($f,p0,this.up):fo.lookAt(p0,$f,this.up),this.quaternion.setFromRotationMatrix(fo),i&&(fo.extractRotation(i.matrixWorld),Ic.setFromRotationMatrix(fo),this.quaternion.premultiply(Ic.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(TD)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(wy)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(wy)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),fo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),fo.multiply(e.parent.matrixWorld)),e.applyMatrix4(fo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($f,e,ED),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($f,bD,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),p=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}xt.DefaultUp=new N(0,1,0);xt.DefaultMatrixAutoUpdate=!0;xt.DefaultMatrixWorldAutoUpdate=!0;const us=new N,ho=new N,q5=new N,po=new N,Dc=new N,Fc=new N,Sy=new N,$5=new N,em=new N,tm=new N;class Zi{constructor(e=new N,t=new N,r=new N){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),us.subVectors(e,t),i.cross(us);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){us.subVectors(i,t),ho.subVectors(r,t),q5.subVectors(e,t);const o=us.dot(us),a=us.dot(ho),l=us.dot(q5),c=ho.dot(ho),u=ho.dot(q5),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const p=1/d,m=(c*l-a*u)*p,g=(o*u-a*l)*p;return s.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,po),po.x>=0&&po.y>=0&&po.x+po.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,po),l.set(0,0),l.addScaledVector(s,po.x),l.addScaledVector(o,po.y),l.addScaledVector(a,po.z),l}static isFrontFacing(e,t,r,i){return us.subVectors(r,t),ho.subVectors(e,t),us.cross(ho).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return us.subVectors(this.c,this.b),ho.subVectors(this.a,this.b),us.cross(ho).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Zi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Zi.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Zi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Dc.subVectors(i,r),Fc.subVectors(s,r),$5.subVectors(e,r);const l=Dc.dot($5),c=Fc.dot($5);if(l<=0&&c<=0)return t.copy(r);em.subVectors(e,i);const u=Dc.dot(em),d=Fc.dot(em);if(u>=0&&d<=u)return t.copy(i);const p=l*d-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(Dc,o);tm.subVectors(e,s);const m=Dc.dot(tm),g=Fc.dot(tm);if(g>=0&&m<=g)return t.copy(s);const v=m*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(Fc,a);const y=u*g-m*d;if(y<=0&&d-u>=0&&m-g>=0)return Sy.subVectors(s,i),a=(d-u)/(d-u+(m-g)),t.copy(i).addScaledVector(Sy,a);const x=1/(y+v+p);return o=v*x,a=p*x,t.copy(r).addScaledVector(Dc,o).addScaledVector(Fc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let RD=0;class Jn extends Ks{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:RD++}),this.uuid=Ri(),this.name="",this.type="Material",this.blending=Bo,this.side=js,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=ng,this.blendDst=rg,this.blendEquation=yl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=l2,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=KM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Cp,this.stencilZFail=Cp,this.stencilZPass=Cp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Bo&&(r.blending=this.blending),this.side!==js&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class hn extends Jn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ph,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Vn=new N,m0=new Re;class Vt{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=dh,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)m0.fromBufferAttribute(this,t),m0.applyMatrix3(e),this.setXY(t,m0.x,m0.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Vn.fromBufferAttribute(this,t),Vn.applyMatrix3(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Vn.fromBufferAttribute(this,t),Vn.applyMatrix4(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Vn.fromBufferAttribute(this,t),Vn.applyNormalMatrix(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Vn.fromBufferAttribute(this,t),Vn.transformDirection(e),this.setXYZ(t,Vn.x,Vn.y,Vn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Co(t,this.array)),t}setX(e,t){return this.normalized&&(t=tn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Co(t,this.array)),t}setY(e,t){return this.normalized&&(t=tn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Co(t,this.array)),t}setZ(e,t){return this.normalized&&(t=tn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Co(t,this.array)),t}setW(e,t){return this.normalized&&(t=tn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=tn(t,this.array),r=tn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=tn(t,this.array),r=tn(r,this.array),i=tn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=tn(t,this.array),r=tn(r,this.array),i=tn(i,this.array),s=tn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==dh&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class BD extends Vt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class PD extends Vt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class LD extends Vt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class ID extends Vt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class fg extends Vt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class DD extends Vt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class dg extends Vt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class FD extends Vt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class ot extends Vt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class kD extends Vt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let OD=0;const Vi=new dt,nm=new xt,kc=new N,Mi=new Ys,ed=new Ys,or=new N;class _t extends Ks{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:OD++}),this.uuid=Ri(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ZM(e)?dg:fg)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Dr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Vi.makeRotationFromQuaternion(e),this.applyMatrix4(Vi),this}rotateX(e){return Vi.makeRotationX(e),this.applyMatrix4(Vi),this}rotateY(e){return Vi.makeRotationY(e),this.applyMatrix4(Vi),this}rotateZ(e){return Vi.makeRotationZ(e),this.applyMatrix4(Vi),this}translate(e,t,r){return Vi.makeTranslation(e,t,r),this.applyMatrix4(Vi),this}scale(e,t,r){return Vi.makeScale(e,t,r),this.applyMatrix4(Vi),this}lookAt(e){return nm.lookAt(e),nm.updateMatrix(),this.applyMatrix4(nm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(kc).negate(),this.translate(kc.x,kc.y,kc.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ot(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ys);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Mi.setFromBufferAttribute(s),this.morphTargetsRelative?(or.addVectors(this.boundingBox.min,Mi.min),this.boundingBox.expandByPoint(or),or.addVectors(this.boundingBox.max,Mi.max),this.boundingBox.expandByPoint(or)):(this.boundingBox.expandByPoint(Mi.min),this.boundingBox.expandByPoint(Mi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Uo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new N,1/0);return}if(e){const r=this.boundingSphere.center;if(Mi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];ed.setFromBufferAttribute(a),this.morphTargetsRelative?(or.addVectors(Mi.min,ed.min),Mi.expandByPoint(or),or.addVectors(Mi.max,ed.max),Mi.expandByPoint(or)):(Mi.expandByPoint(ed.min),Mi.expandByPoint(ed.max))}Mi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)or.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(or));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)or.fromBufferAttribute(a,c),l&&(kc.fromBufferAttribute(e,c),or.add(kc)),i=Math.max(i,r.distanceToSquared(or))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Vt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let L=0;L<a;L++)c[L]=new N,u[L]=new N;const d=new N,p=new N,m=new N,g=new Re,v=new Re,y=new Re,x=new N,_=new N;function S(L,z,G){d.fromArray(i,L*3),p.fromArray(i,z*3),m.fromArray(i,G*3),g.fromArray(o,L*2),v.fromArray(o,z*2),y.fromArray(o,G*2),p.sub(d),m.sub(d),v.sub(g),y.sub(g);const V=1/(v.x*y.y-y.x*v.y);isFinite(V)&&(x.copy(p).multiplyScalar(y.y).addScaledVector(m,-v.y).multiplyScalar(V),_.copy(m).multiplyScalar(v.x).addScaledVector(p,-y.x).multiplyScalar(V),c[L].add(x),c[z].add(x),c[G].add(x),u[L].add(_),u[z].add(_),u[G].add(_))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let L=0,z=M.length;L<z;++L){const G=M[L],V=G.start,H=G.count;for(let Y=V,ee=V+H;Y<ee;Y+=3)S(r[Y+0],r[Y+1],r[Y+2])}const b=new N,T=new N,R=new N,C=new N;function P(L){R.fromArray(s,L*3),C.copy(R);const z=c[L];b.copy(z),b.sub(R.multiplyScalar(R.dot(z))).normalize(),T.crossVectors(C,z);const V=T.dot(u[L])<0?-1:1;l[L*4]=b.x,l[L*4+1]=b.y,l[L*4+2]=b.z,l[L*4+3]=V}for(let L=0,z=M.length;L<z;++L){const G=M[L],V=G.start,H=G.count;for(let Y=V,ee=V+H;Y<ee;Y+=3)P(r[Y+0]),P(r[Y+1]),P(r[Y+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Vt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new N,s=new N,o=new N,a=new N,l=new N,c=new N,u=new N,d=new N;if(e)for(let p=0,m=e.count;p<m;p+=3){const g=e.getX(p+0),v=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,y),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)or.fromBufferAttribute(e,t),or.normalize(),e.setXYZ(t,or.x,or.y,or.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,p=new c.constructor(l.length*u);let m=0,g=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*u;for(let x=0;x<u;x++)p[g++]=c[m++]}return new Vt(p,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new _t,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const p=c[u],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let p=0,m=d.length;p<m;p++)u.push(d[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ay=new dt,Oc=new lf,rm=new Uo,td=new N,nd=new N,rd=new N,im=new N,g0=new N,v0=new Re,y0=new Re,x0=new Re,sm=new N,_0=new N;class Rn extends xt{constructor(e=new _t,t=new hn){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){g0.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(im.fromBufferAttribute(d,e),o?g0.addScaledVector(im,u):g0.addScaledVector(im.sub(t),u))}t.add(g0)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),rm.copy(r.boundingSphere),rm.applyMatrix4(s),e.ray.intersectsSphere(rm)===!1)||(Ay.copy(s).invert(),Oc.copy(e.ray).applyMatrix4(Ay),r.boundingBox!==null&&Oc.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.attributes.uv,u=r.attributes.uv2,d=r.groups,p=r.drawRange;if(a!==null)if(Array.isArray(i))for(let m=0,g=d.length;m<g;m++){const v=d[m],y=i[v.materialIndex],x=Math.max(v.start,p.start),_=Math.min(a.count,Math.min(v.start+v.count,p.start+p.count));for(let S=x,M=_;S<M;S+=3){const b=a.getX(S),T=a.getX(S+1),R=a.getX(S+2);o=w0(this,y,e,Oc,c,u,b,T,R),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),g=Math.min(a.count,p.start+p.count);for(let v=m,y=g;v<y;v+=3){const x=a.getX(v),_=a.getX(v+1),S=a.getX(v+2);o=w0(this,i,e,Oc,c,u,x,_,S),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,g=d.length;m<g;m++){const v=d[m],y=i[v.materialIndex],x=Math.max(v.start,p.start),_=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let S=x,M=_;S<M;S+=3){const b=S,T=S+1,R=S+2;o=w0(this,y,e,Oc,c,u,b,T,R),o&&(o.faceIndex=Math.floor(S/3),o.face.materialIndex=v.materialIndex,t.push(o))}}else{const m=Math.max(0,p.start),g=Math.min(l.count,p.start+p.count);for(let v=m,y=g;v<y;v+=3){const x=v,_=v+1,S=v+2;o=w0(this,i,e,Oc,c,u,x,_,S),o&&(o.faceIndex=Math.floor(v/3),t.push(o))}}}}function ND(n,e,t,r,i,s,o,a){let l;if(e.side===Zr?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===js,a),l===null)return null;_0.copy(a),_0.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(_0);return c<t.near||c>t.far?null:{distance:c,point:_0.clone(),object:n}}function w0(n,e,t,r,i,s,o,a,l){n.getVertexPosition(o,td),n.getVertexPosition(a,nd),n.getVertexPosition(l,rd);const c=ND(n,e,t,r,td,nd,rd,sm);if(c){i&&(v0.fromBufferAttribute(i,o),y0.fromBufferAttribute(i,a),x0.fromBufferAttribute(i,l),c.uv=Zi.getUV(sm,td,nd,rd,v0,y0,x0,new Re)),s&&(v0.fromBufferAttribute(s,o),y0.fromBufferAttribute(s,a),x0.fromBufferAttribute(s,l),c.uv2=Zi.getUV(sm,td,nd,rd,v0,y0,x0,new Re));const u={a:o,b:a,c:l,normal:new N,materialIndex:0};Zi.getNormal(td,nd,rd,u.normal),c.face=u}return c}class Ga extends _t{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let p=0,m=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new ot(c,3)),this.setAttribute("normal",new ot(u,3)),this.setAttribute("uv",new ot(d,2));function g(v,y,x,_,S,M,b,T,R,C,P){const L=M/R,z=b/C,G=M/2,V=b/2,H=T/2,Y=R+1,ee=C+1;let ue=0,k=0;const W=new N;for(let J=0;J<ee;J++){const D=J*z-V;for(let O=0;O<Y;O++){const ie=O*L-G;W[v]=ie*_,W[y]=D*S,W[x]=H,c.push(W.x,W.y,W.z),W[v]=0,W[y]=0,W[x]=T>0?1:-1,u.push(W.x,W.y,W.z),d.push(O/R),d.push(1-J/C),ue+=1}}for(let J=0;J<C;J++)for(let D=0;D<R;D++){const O=p+D+Y*J,ie=p+D+Y*(J+1),$=p+(D+1)+Y*(J+1),te=p+(D+1)+Y*J;l.push(O,ie,te),l.push(ie,$,te),k+=6}a.addGroup(m,k,P),m+=k,p+=ue}}static fromJSON(e){return new Ga(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Xu(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Jr(n){const e={};for(let t=0;t<n.length;t++){const r=Xu(n[t]);for(const i in r)e[i]=r[i]}return e}function UD(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function qM(n){return n.getRenderTarget()===null&&n.outputEncoding===rn?hs:Ju}const Y2={clone:Xu,merge:Jr};var zD=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,GD=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ws extends Jn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=zD,this.fragmentShader=GD,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Xu(e.uniforms),this.uniformsGroups=UD(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Ih extends xt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dt,this.projectionMatrix=new dt,this.projectionMatrixInverse=new dt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class wn extends Ih{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=hh*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(kl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return hh*2*Math.atan(Math.tan(kl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(kl*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Nc=-90,Uc=1;class $M extends xt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new wn(Nc,Uc,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(1,0,0),this.add(i);const s=new wn(Nc,Uc,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);const o=new wn(Nc,Uc,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new wn(Nc,Uc,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new wn(Nc,Uc,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const c=new wn(Nc,Uc,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,p=e.xr.enabled;e.toneMapping=xs,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class Dh extends on{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Ba,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class eC extends rs{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Dh(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:fn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ga(5,5,5),s=new ws({name:"CubemapFromEquirect",uniforms:Xu(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Zr,blending:Ro});s.uniforms.tEquirect.value=t;const o=new Rn(i,s),a=t.minFilter;return t.minFilter===Js&&(t.minFilter=fn),new $M(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const om=new N,HD=new N,VD=new Dr;class xo{constructor(e=new N(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=om.subVectors(r,t).cross(HD.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(om),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||VD.getNormalMatrix(e),i=this.coplanarPoint(om).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const zc=new Uo,S0=new N;class Z2{constructor(e=new xo,t=new xo,r=new xo,i=new xo,s=new xo,o=new xo){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],d=r[7],p=r[8],m=r[9],g=r[10],v=r[11],y=r[12],x=r[13],_=r[14],S=r[15];return t[0].setComponents(a-i,d-l,v-p,S-y).normalize(),t[1].setComponents(a+i,d+l,v+p,S+y).normalize(),t[2].setComponents(a+s,d+c,v+m,S+x).normalize(),t[3].setComponents(a-s,d-c,v-m,S-x).normalize(),t[4].setComponents(a-o,d-u,v-g,S-_).normalize(),t[5].setComponents(a+o,d+u,v+g,S+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),zc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(zc)}intersectsSprite(e){return zc.center.set(0,0,0),zc.radius=.7071067811865476,zc.applyMatrix4(e.matrixWorld),this.intersectsSphere(zc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(S0.x=i.normal.x>0?e.max.x:e.min.x,S0.y=i.normal.y>0?e.max.y:e.min.y,S0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(S0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function tC(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function WD(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,d,p),c.onUploadCallback();let g;if(d instanceof Float32Array)g=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(d instanceof Int16Array)g=5122;else if(d instanceof Uint32Array)g=5125;else if(d instanceof Int32Array)g=5124;else if(d instanceof Int8Array)g=5120;else if(d instanceof Uint8Array)g=5121;else if(d instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:m,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const p=u.array,m=u.updateRange;n.bindBuffer(d,c),m.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(d,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class zo extends _t{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,p=t/l,m=[],g=[],v=[],y=[];for(let x=0;x<u;x++){const _=x*p-o;for(let S=0;S<c;S++){const M=S*d-s;g.push(M,-_,0),v.push(0,0,1),y.push(S/a),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let _=0;_<a;_++){const S=_+c*x,M=_+c*(x+1),b=_+1+c*(x+1),T=_+1+c*x;m.push(S,M,T),m.push(M,b,T)}this.setIndex(m),this.setAttribute("position",new ot(g,3)),this.setAttribute("normal",new ot(v,3)),this.setAttribute("uv",new ot(y,2))}static fromJSON(e){return new zo(e.width,e.height,e.widthSegments,e.heightSegments)}}var jD=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,JD=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,XD=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,KD=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,YD=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ZD=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,QD="vec3 transformed = vec3( position );",qD=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,$D=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,eF=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,tF=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,nF=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,rF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,iF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,sF=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,oF=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,aF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,lF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,cF=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,uF=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,fF=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,dF=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,hF=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,pF=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,mF=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,gF=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,vF="gl_FragColor = linearToOutputTexel( gl_FragColor );",yF=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,xF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,_F=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,wF=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,SF=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,AF=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,MF=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,CF=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,EF=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,bF=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,TF=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,RF=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,BF=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,PF=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,LF=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,IF=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,DF=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,FF=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,kF=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,OF=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,NF=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,UF=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,zF=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,GF=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,HF=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,VF=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,WF=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,jF=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,JF=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,XF=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,KF=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,YF=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ZF=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,QF=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qF=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$F=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ek=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,tk=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,nk=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,rk=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,ik=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,sk=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,ok=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ak=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lk=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,ck=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,uk=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,fk=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,dk=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,hk=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,pk=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,mk=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,gk=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vk=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yk=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,xk=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,_k=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,wk=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Sk=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Ak=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Mk=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Ck=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Ek=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,bk=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Tk=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Rk=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Bk=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Pk=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Lk=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Ik=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Dk=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Fk=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,kk=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Ok=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Nk=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Uk=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,zk=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Gk=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Hk=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Vk=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Wk=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,jk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Jk=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Xk=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Kk=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Yk=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Zk=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Qk=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,qk=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,$k=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,eO=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,tO=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nO=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rO=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,iO=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sO=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oO=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aO=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,lO=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cO=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,uO=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,fO=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dO=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hO=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,pO=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mO=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gO=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vO=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,yO=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xO=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_O=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,wO=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,SO=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ct={alphamap_fragment:jD,alphamap_pars_fragment:JD,alphatest_fragment:XD,alphatest_pars_fragment:KD,aomap_fragment:YD,aomap_pars_fragment:ZD,begin_vertex:QD,beginnormal_vertex:qD,bsdfs:$D,iridescence_fragment:eF,bumpmap_pars_fragment:tF,clipping_planes_fragment:nF,clipping_planes_pars_fragment:rF,clipping_planes_pars_vertex:iF,clipping_planes_vertex:sF,color_fragment:oF,color_pars_fragment:aF,color_pars_vertex:lF,color_vertex:cF,common:uF,cube_uv_reflection_fragment:fF,defaultnormal_vertex:dF,displacementmap_pars_vertex:hF,displacementmap_vertex:pF,emissivemap_fragment:mF,emissivemap_pars_fragment:gF,encodings_fragment:vF,encodings_pars_fragment:yF,envmap_fragment:xF,envmap_common_pars_fragment:_F,envmap_pars_fragment:wF,envmap_pars_vertex:SF,envmap_physical_pars_fragment:DF,envmap_vertex:AF,fog_vertex:MF,fog_pars_vertex:CF,fog_fragment:EF,fog_pars_fragment:bF,gradientmap_pars_fragment:TF,lightmap_fragment:RF,lightmap_pars_fragment:BF,lights_lambert_fragment:PF,lights_lambert_pars_fragment:LF,lights_pars_begin:IF,lights_toon_fragment:FF,lights_toon_pars_fragment:kF,lights_phong_fragment:OF,lights_phong_pars_fragment:NF,lights_physical_fragment:UF,lights_physical_pars_fragment:zF,lights_fragment_begin:GF,lights_fragment_maps:HF,lights_fragment_end:VF,logdepthbuf_fragment:WF,logdepthbuf_pars_fragment:jF,logdepthbuf_pars_vertex:JF,logdepthbuf_vertex:XF,map_fragment:KF,map_pars_fragment:YF,map_particle_fragment:ZF,map_particle_pars_fragment:QF,metalnessmap_fragment:qF,metalnessmap_pars_fragment:$F,morphcolor_vertex:ek,morphnormal_vertex:tk,morphtarget_pars_vertex:nk,morphtarget_vertex:rk,normal_fragment_begin:ik,normal_fragment_maps:sk,normal_pars_fragment:ok,normal_pars_vertex:ak,normal_vertex:lk,normalmap_pars_fragment:ck,clearcoat_normal_fragment_begin:uk,clearcoat_normal_fragment_maps:fk,clearcoat_pars_fragment:dk,iridescence_pars_fragment:hk,output_fragment:pk,packing:mk,premultiplied_alpha_fragment:gk,project_vertex:vk,dithering_fragment:yk,dithering_pars_fragment:xk,roughnessmap_fragment:_k,roughnessmap_pars_fragment:wk,shadowmap_pars_fragment:Sk,shadowmap_pars_vertex:Ak,shadowmap_vertex:Mk,shadowmask_pars_fragment:Ck,skinbase_vertex:Ek,skinning_pars_vertex:bk,skinning_vertex:Tk,skinnormal_vertex:Rk,specularmap_fragment:Bk,specularmap_pars_fragment:Pk,tonemapping_fragment:Lk,tonemapping_pars_fragment:Ik,transmission_fragment:Dk,transmission_pars_fragment:Fk,uv_pars_fragment:kk,uv_pars_vertex:Ok,uv_vertex:Nk,uv2_pars_fragment:Uk,uv2_pars_vertex:zk,uv2_vertex:Gk,worldpos_vertex:Hk,background_vert:Vk,background_frag:Wk,backgroundCube_vert:jk,backgroundCube_frag:Jk,cube_vert:Xk,cube_frag:Kk,depth_vert:Yk,depth_frag:Zk,distanceRGBA_vert:Qk,distanceRGBA_frag:qk,equirect_vert:$k,equirect_frag:eO,linedashed_vert:tO,linedashed_frag:nO,meshbasic_vert:rO,meshbasic_frag:iO,meshlambert_vert:sO,meshlambert_frag:oO,meshmatcap_vert:aO,meshmatcap_frag:lO,meshnormal_vert:cO,meshnormal_frag:uO,meshphong_vert:fO,meshphong_frag:dO,meshphysical_vert:hO,meshphysical_frag:pO,meshtoon_vert:mO,meshtoon_frag:gO,points_vert:vO,points_frag:yO,shadow_vert:xO,shadow_frag:_O,sprite_vert:wO,sprite_frag:SO},Qe={common:{diffuse:{value:new qe(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Dr},uv2Transform:{value:new Dr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Re(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new qe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Dr}},sprite:{diffuse:{value:new qe(16777215)},opacity:{value:1},center:{value:new Re(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Dr}}},ms={basic:{uniforms:Jr([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.fog]),vertexShader:Ct.meshbasic_vert,fragmentShader:Ct.meshbasic_frag},lambert:{uniforms:Jr([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,Qe.lights,{emissive:{value:new qe(0)}}]),vertexShader:Ct.meshlambert_vert,fragmentShader:Ct.meshlambert_frag},phong:{uniforms:Jr([Qe.common,Qe.specularmap,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,Qe.lights,{emissive:{value:new qe(0)},specular:{value:new qe(1118481)},shininess:{value:30}}]),vertexShader:Ct.meshphong_vert,fragmentShader:Ct.meshphong_frag},standard:{uniforms:Jr([Qe.common,Qe.envmap,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.roughnessmap,Qe.metalnessmap,Qe.fog,Qe.lights,{emissive:{value:new qe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ct.meshphysical_vert,fragmentShader:Ct.meshphysical_frag},toon:{uniforms:Jr([Qe.common,Qe.aomap,Qe.lightmap,Qe.emissivemap,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.gradientmap,Qe.fog,Qe.lights,{emissive:{value:new qe(0)}}]),vertexShader:Ct.meshtoon_vert,fragmentShader:Ct.meshtoon_frag},matcap:{uniforms:Jr([Qe.common,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,Qe.fog,{matcap:{value:null}}]),vertexShader:Ct.meshmatcap_vert,fragmentShader:Ct.meshmatcap_frag},points:{uniforms:Jr([Qe.points,Qe.fog]),vertexShader:Ct.points_vert,fragmentShader:Ct.points_frag},dashed:{uniforms:Jr([Qe.common,Qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ct.linedashed_vert,fragmentShader:Ct.linedashed_frag},depth:{uniforms:Jr([Qe.common,Qe.displacementmap]),vertexShader:Ct.depth_vert,fragmentShader:Ct.depth_frag},normal:{uniforms:Jr([Qe.common,Qe.bumpmap,Qe.normalmap,Qe.displacementmap,{opacity:{value:1}}]),vertexShader:Ct.meshnormal_vert,fragmentShader:Ct.meshnormal_frag},sprite:{uniforms:Jr([Qe.sprite,Qe.fog]),vertexShader:Ct.sprite_vert,fragmentShader:Ct.sprite_frag},background:{uniforms:{uvTransform:{value:new Dr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ct.background_vert,fragmentShader:Ct.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ct.backgroundCube_vert,fragmentShader:Ct.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ct.cube_vert,fragmentShader:Ct.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ct.equirect_vert,fragmentShader:Ct.equirect_frag},distanceRGBA:{uniforms:Jr([Qe.common,Qe.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ct.distanceRGBA_vert,fragmentShader:Ct.distanceRGBA_frag},shadow:{uniforms:Jr([Qe.lights,Qe.fog,{color:{value:new qe(0)},opacity:{value:1}}]),vertexShader:Ct.shadow_vert,fragmentShader:Ct.shadow_frag}};ms.physical={uniforms:Jr([ms.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Re(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new qe(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Re},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new qe(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new qe(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ct.meshphysical_vert,fragmentShader:Ct.meshphysical_frag};const A0={r:0,b:0,g:0};function AO(n,e,t,r,i,s,o){const a=new qe(0);let l=s===!0?0:1,c,u,d=null,p=0,m=null;function g(y,x){let _=!1,S=x.isScene===!0?x.background:null;S&&S.isTexture&&(S=(x.backgroundBlurriness>0?t:e).get(S));const M=n.xr,b=M.getSession&&M.getSession();b&&b.environmentBlendMode==="additive"&&(S=null),S===null?v(a,l):S&&S.isColor&&(v(S,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===af)?(u===void 0&&(u=new Rn(new Ga(1,1,1),new ws({name:"BackgroundCubeMaterial",uniforms:Xu(ms.backgroundCube.uniforms),vertexShader:ms.backgroundCube.vertexShader,fragmentShader:ms.backgroundCube.fragmentShader,side:Zr,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(T,R,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,u.material.toneMapped=S.encoding!==rn,(d!==S||p!==S.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,d=S,p=S.version,m=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new Rn(new zo(2,2),new ws({name:"BackgroundMaterial",uniforms:Xu(ms.background.uniforms),vertexShader:ms.background.vertexShader,fragmentShader:ms.background.fragmentShader,side:js,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,c.material.toneMapped=S.encoding!==rn,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||p!==S.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,d=S,p=S.version,m=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function v(y,x){y.getRGB(A0,qM(n)),r.buffers.color.setClear(A0.r,A0.g,A0.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(y,x=1){a.set(y),l=x,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:g}}function MO(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function d(H,Y,ee,ue,k){let W=!1;if(o){const J=v(ue,ee,Y);c!==J&&(c=J,m(c.object)),W=x(H,ue,ee,k),W&&_(H,ue,ee,k)}else{const J=Y.wireframe===!0;(c.geometry!==ue.id||c.program!==ee.id||c.wireframe!==J)&&(c.geometry=ue.id,c.program=ee.id,c.wireframe=J,W=!0)}k!==null&&t.update(k,34963),(W||u)&&(u=!1,C(H,Y,ee,ue),k!==null&&n.bindBuffer(34963,t.get(k).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(H){return r.isWebGL2?n.bindVertexArray(H):s.bindVertexArrayOES(H)}function g(H){return r.isWebGL2?n.deleteVertexArray(H):s.deleteVertexArrayOES(H)}function v(H,Y,ee){const ue=ee.wireframe===!0;let k=a[H.id];k===void 0&&(k={},a[H.id]=k);let W=k[Y.id];W===void 0&&(W={},k[Y.id]=W);let J=W[ue];return J===void 0&&(J=y(p()),W[ue]=J),J}function y(H){const Y=[],ee=[],ue=[];for(let k=0;k<i;k++)Y[k]=0,ee[k]=0,ue[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Y,enabledAttributes:ee,attributeDivisors:ue,object:H,attributes:{},index:null}}function x(H,Y,ee,ue){const k=c.attributes,W=Y.attributes;let J=0;const D=ee.getAttributes();for(const O in D)if(D[O].location>=0){const $=k[O];let te=W[O];if(te===void 0&&(O==="instanceMatrix"&&H.instanceMatrix&&(te=H.instanceMatrix),O==="instanceColor"&&H.instanceColor&&(te=H.instanceColor)),$===void 0||$.attribute!==te||te&&$.data!==te.data)return!0;J++}return c.attributesNum!==J||c.index!==ue}function _(H,Y,ee,ue){const k={},W=Y.attributes;let J=0;const D=ee.getAttributes();for(const O in D)if(D[O].location>=0){let $=W[O];$===void 0&&(O==="instanceMatrix"&&H.instanceMatrix&&($=H.instanceMatrix),O==="instanceColor"&&H.instanceColor&&($=H.instanceColor));const te={};te.attribute=$,$&&$.data&&(te.data=$.data),k[O]=te,J++}c.attributes=k,c.attributesNum=J,c.index=ue}function S(){const H=c.newAttributes;for(let Y=0,ee=H.length;Y<ee;Y++)H[Y]=0}function M(H){b(H,0)}function b(H,Y){const ee=c.newAttributes,ue=c.enabledAttributes,k=c.attributeDivisors;ee[H]=1,ue[H]===0&&(n.enableVertexAttribArray(H),ue[H]=1),k[H]!==Y&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,Y),k[H]=Y)}function T(){const H=c.newAttributes,Y=c.enabledAttributes;for(let ee=0,ue=Y.length;ee<ue;ee++)Y[ee]!==H[ee]&&(n.disableVertexAttribArray(ee),Y[ee]=0)}function R(H,Y,ee,ue,k,W){r.isWebGL2===!0&&(ee===5124||ee===5125)?n.vertexAttribIPointer(H,Y,ee,k,W):n.vertexAttribPointer(H,Y,ee,ue,k,W)}function C(H,Y,ee,ue){if(r.isWebGL2===!1&&(H.isInstancedMesh||ue.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const k=ue.attributes,W=ee.getAttributes(),J=Y.defaultAttributeValues;for(const D in W){const O=W[D];if(O.location>=0){let ie=k[D];if(ie===void 0&&(D==="instanceMatrix"&&H.instanceMatrix&&(ie=H.instanceMatrix),D==="instanceColor"&&H.instanceColor&&(ie=H.instanceColor)),ie!==void 0){const $=ie.normalized,te=ie.itemSize,Z=t.get(ie);if(Z===void 0)continue;const ne=Z.buffer,he=Z.type,Me=Z.bytesPerElement;if(ie.isInterleavedBufferAttribute){const xe=ie.data,Ce=xe.stride,q=ie.offset;if(xe.isInstancedInterleavedBuffer){for(let de=0;de<O.locationSize;de++)b(O.location+de,xe.meshPerAttribute);H.isInstancedMesh!==!0&&ue._maxInstanceCount===void 0&&(ue._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let de=0;de<O.locationSize;de++)M(O.location+de);n.bindBuffer(34962,ne);for(let de=0;de<O.locationSize;de++)R(O.location+de,te/O.locationSize,he,$,Ce*Me,(q+te/O.locationSize*de)*Me)}else{if(ie.isInstancedBufferAttribute){for(let xe=0;xe<O.locationSize;xe++)b(O.location+xe,ie.meshPerAttribute);H.isInstancedMesh!==!0&&ue._maxInstanceCount===void 0&&(ue._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let xe=0;xe<O.locationSize;xe++)M(O.location+xe);n.bindBuffer(34962,ne);for(let xe=0;xe<O.locationSize;xe++)R(O.location+xe,te/O.locationSize,he,$,te*Me,te/O.locationSize*xe*Me)}}else if(J!==void 0){const $=J[D];if($!==void 0)switch($.length){case 2:n.vertexAttrib2fv(O.location,$);break;case 3:n.vertexAttrib3fv(O.location,$);break;case 4:n.vertexAttrib4fv(O.location,$);break;default:n.vertexAttrib1fv(O.location,$)}}}}T()}function P(){G();for(const H in a){const Y=a[H];for(const ee in Y){const ue=Y[ee];for(const k in ue)g(ue[k].object),delete ue[k];delete Y[ee]}delete a[H]}}function L(H){if(a[H.id]===void 0)return;const Y=a[H.id];for(const ee in Y){const ue=Y[ee];for(const k in ue)g(ue[k].object),delete ue[k];delete Y[ee]}delete a[H.id]}function z(H){for(const Y in a){const ee=a[Y];if(ee[H.id]===void 0)continue;const ue=ee[H.id];for(const k in ue)g(ue[k].object),delete ue[k];delete ee[H.id]}}function G(){V(),u=!0,c!==l&&(c=l,m(c.object))}function V(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:G,resetDefaultState:V,dispose:P,releaseStatesOfGeometry:L,releaseStatesOfProgram:z,initAttributes:S,enableAttribute:M,disableUnusedAttributes:T}}function CO(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,d){if(d===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,u,d),t.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function EO(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),y=n.getParameter(36347),x=n.getParameter(36348),_=n.getParameter(36349),S=p>0,M=o||e.has("OES_texture_float"),b=S&&M,T=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:_,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:b,maxSamples:T}}function bO(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new xo,a=new Dr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p,m){const g=d.length!==0||p||r!==0||i;return i=p,t=u(d,m,0),r=d.length,g},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(d,p,m){const g=d.clippingPlanes,v=d.clipIntersection,y=d.clipShadows,x=n.get(d);if(!i||g===null||g.length===0||s&&!y)s?u(null):c();else{const _=s?0:r,S=_*4;let M=x.clippingState||null;l.value=M,M=u(g,p,S,m);for(let b=0;b!==S;++b)M[b]=t[b];x.clippingState=M,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,p,m,g){const v=d!==null?d.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const x=m+v*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(y===null||y.length<x)&&(y=new Float32Array(x));for(let S=0,M=m;S!==v;++S,M+=4)o.copy(d[S]).applyMatrix4(_,a),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function TO(n){let e=new WeakMap;function t(o,a){return a===lh?o.mapping=Ba:a===ch&&(o.mapping=Pa),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===lh||a===ch)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new eC(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Us extends Ih{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const hu=4,My=[.125,.215,.35,.446,.526,.582],xl=20,am=new Us,Cy=new qe;let lm=null;const vl=(1+Math.sqrt(5))/2,Gc=1/vl,Ey=[new N(1,1,1),new N(-1,1,1),new N(1,1,-1),new N(-1,1,-1),new N(0,vl,Gc),new N(0,vl,-Gc),new N(Gc,0,vl),new N(-Gc,0,vl),new N(vl,Gc,0),new N(-vl,Gc,0)];class T8{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){lm=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Ry(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Ty(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(lm),e.scissorTest=!1,M0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ba||e.mapping===Pa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),lm=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:fn,minFilter:fn,generateMipmaps:!1,type:Wu,format:oi,encoding:Ia,depthBuffer:!1},i=by(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=by(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=RO(s)),this._blurMaterial=BO(s,e,t)}return i}_compileMaterial(e){const t=new Rn(this._lodPlanes[0],e);this._renderer.compile(t,am)}_sceneToCubeUV(e,t,r,i){const a=new wn(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,p=u.toneMapping;u.getClearColor(Cy),u.toneMapping=xs,u.autoClear=!1;const m=new hn({name:"PMREM.Background",side:Zr,depthWrite:!1,depthTest:!1}),g=new Rn(new Ga,m);let v=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,v=!0):(m.color.copy(Cy),v=!0);for(let x=0;x<6;x++){const _=x%3;_===0?(a.up.set(0,l[x],0),a.lookAt(c[x],0,0)):_===1?(a.up.set(0,0,l[x]),a.lookAt(0,c[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,c[x]));const S=this._cubeSize;M0(i,_*S,x>2?S:0,S,S),u.setRenderTarget(i),v&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=p,u.autoClear=d,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Ba||e.mapping===Pa;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Ry()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Ty());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Rn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;M0(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,am)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=Ey[(i-1)%Ey.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Rn(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*xl-1),v=s/g,y=isFinite(s)?1+Math.floor(u*v):xl;y>xl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${xl}`);const x=[];let _=0;for(let R=0;R<xl;++R){const C=R/v,P=Math.exp(-C*C/2);x.push(P),R===0?_+=P:R<y&&(_+=2*P)}for(let R=0;R<x.length;R++)x[R]=x[R]/_;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=x,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=g,p.mipInt.value=S-r;const M=this._sizeLods[i],b=3*M*(i>S-hu?i-S+hu:0),T=4*(this._cubeSize-M);M0(t,b,T,3*M,2*M),l.setRenderTarget(t),l.render(d,am)}}function RO(n){const e=[],t=[],r=[];let i=n;const s=n-hu+1+My.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-hu?l=My[o-n+hu-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,p=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,g=6,v=3,y=2,x=1,_=new Float32Array(v*g*m),S=new Float32Array(y*g*m),M=new Float32Array(x*g*m);for(let T=0;T<m;T++){const R=T%3*2/3-1,C=T>2?0:-1,P=[R,C,0,R+2/3,C,0,R+2/3,C+1,0,R,C,0,R+2/3,C+1,0,R,C+1,0];_.set(P,v*g*T),S.set(p,y*g*T);const L=[T,T,T,T,T,T];M.set(L,x*g*T)}const b=new _t;b.setAttribute("position",new Vt(_,v)),b.setAttribute("uv",new Vt(S,y)),b.setAttribute("faceIndex",new Vt(M,x)),e.push(b),i>hu&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function by(n,e,t){const r=new rs(n,e,t);return r.texture.mapping=af,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function M0(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function BO(n,e,t){const r=new Float32Array(xl),i=new N(0,1,0);return new ws({name:"SphericalGaussianBlur",defines:{n:xl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:hg(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ro,depthTest:!1,depthWrite:!1})}function Ty(){return new ws({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hg(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ro,depthTest:!1,depthWrite:!1})}function Ry(){return new ws({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hg(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ro,depthTest:!1,depthWrite:!1})}function hg(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function PO(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===lh||l===ch,u=l===Ba||l===Pa;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new T8(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){t===null&&(t=new T8(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function LO(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function IO(n,e,t,r){const i={},s=new WeakMap;function o(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const g in p.attributes)e.remove(p.attributes[g]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const g in p)e.update(p[g],34962);const m=d.morphAttributes;for(const g in m){const v=m[g];for(let y=0,x=v.length;y<x;y++)e.update(v[y],34962)}}function c(d){const p=[],m=d.index,g=d.attributes.position;let v=0;if(m!==null){const _=m.array;v=m.version;for(let S=0,M=_.length;S<M;S+=3){const b=_[S+0],T=_[S+1],R=_[S+2];p.push(b,T,T,R,R,b)}}else{const _=g.array;v=g.version;for(let S=0,M=_.length/3-1;S<M;S+=3){const b=S+0,T=S+1,R=S+2;p.push(b,T,T,R,R,b)}}const y=new(ZM(p)?dg:fg)(p,1);y.version=v;const x=s.get(d);x&&e.remove(x),s.set(d,y)}function u(d){const p=s.get(d);if(p){const m=d.index;m!==null&&p.version<m.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function DO(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function d(p,m,g){if(g===0)return;let v,y;if(i)v=n,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,m,a,p*l,g),t.update(m,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function FO(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function kO(n,e){return n[0]-e[0]}function OO(n,e){return Math.abs(e[1])-Math.abs(n[1])}function NO(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Kt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d,p){const m=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=g!==void 0?g.length:0;let y=s.get(u);if(y===void 0||y.count!==v){let Y=function(){V.dispose(),s.delete(u),u.removeEventListener("dispose",Y)};y!==void 0&&y.texture.dispose();const S=u.morphAttributes.position!==void 0,M=u.morphAttributes.normal!==void 0,b=u.morphAttributes.color!==void 0,T=u.morphAttributes.position||[],R=u.morphAttributes.normal||[],C=u.morphAttributes.color||[];let P=0;S===!0&&(P=1),M===!0&&(P=2),b===!0&&(P=3);let L=u.attributes.position.count*P,z=1;L>e.maxTextureSize&&(z=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const G=new Float32Array(L*z*4*v),V=new Lh(G,L,z,v);V.type=Mo,V.needsUpdate=!0;const H=P*4;for(let ee=0;ee<v;ee++){const ue=T[ee],k=R[ee],W=C[ee],J=L*z*4*ee;for(let D=0;D<ue.count;D++){const O=D*H;S===!0&&(o.fromBufferAttribute(ue,D),G[J+O+0]=o.x,G[J+O+1]=o.y,G[J+O+2]=o.z,G[J+O+3]=0),M===!0&&(o.fromBufferAttribute(k,D),G[J+O+4]=o.x,G[J+O+5]=o.y,G[J+O+6]=o.z,G[J+O+7]=0),b===!0&&(o.fromBufferAttribute(W,D),G[J+O+8]=o.x,G[J+O+9]=o.y,G[J+O+10]=o.z,G[J+O+11]=W.itemSize===4?o.w:1)}}y={count:v,texture:V,size:new Re(L,z)},s.set(u,y),u.addEventListener("dispose",Y)}let x=0;for(let S=0;S<m.length;S++)x+=m[S];const _=u.morphTargetsRelative?1:1-x;p.getUniforms().setValue(n,"morphTargetBaseInfluence",_),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const g=m===void 0?0:m.length;let v=r[u.id];if(v===void 0||v.length!==g){v=[];for(let M=0;M<g;M++)v[M]=[M,0];r[u.id]=v}for(let M=0;M<g;M++){const b=v[M];b[0]=M,b[1]=m[M]}v.sort(OO);for(let M=0;M<8;M++)M<g&&v[M][1]?(a[M][0]=v[M][0],a[M][1]=v[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(kO);const y=u.morphAttributes.position,x=u.morphAttributes.normal;let _=0;for(let M=0;M<8;M++){const b=a[M],T=b[0],R=b[1];T!==Number.MAX_SAFE_INTEGER&&R?(y&&u.getAttribute("morphTarget"+M)!==y[T]&&u.setAttribute("morphTarget"+M,y[T]),x&&u.getAttribute("morphNormal"+M)!==x[T]&&u.setAttribute("morphNormal"+M,x[T]),i[M]=R,_+=R):(y&&u.hasAttribute("morphTarget"+M)===!0&&u.deleteAttribute("morphTarget"+M),x&&u.hasAttribute("morphNormal"+M)===!0&&u.deleteAttribute("morphNormal"+M),i[M]=0)}const S=u.morphTargetsRelative?1:1-_;p.getUniforms().setValue(n,"morphTargetBaseInfluence",S),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function UO(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const nC=new on,rC=new Lh,iC=new K2,sC=new Dh,By=[],Py=[],Ly=new Float32Array(16),Iy=new Float32Array(9),Dy=new Float32Array(4);function uf(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=By[i];if(s===void 0&&(s=new Float32Array(i),By[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function $n(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function er(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Q2(n,e){let t=Py[e];t===void 0&&(t=new Int32Array(e),Py[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function zO(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function GO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if($n(t,e))return;n.uniform2fv(this.addr,e),er(t,e)}}function HO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if($n(t,e))return;n.uniform3fv(this.addr,e),er(t,e)}}function VO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if($n(t,e))return;n.uniform4fv(this.addr,e),er(t,e)}}function WO(n,e){const t=this.cache,r=e.elements;if(r===void 0){if($n(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),er(t,e)}else{if($n(t,r))return;Dy.set(r),n.uniformMatrix2fv(this.addr,!1,Dy),er(t,r)}}function jO(n,e){const t=this.cache,r=e.elements;if(r===void 0){if($n(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),er(t,e)}else{if($n(t,r))return;Iy.set(r),n.uniformMatrix3fv(this.addr,!1,Iy),er(t,r)}}function JO(n,e){const t=this.cache,r=e.elements;if(r===void 0){if($n(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),er(t,e)}else{if($n(t,r))return;Ly.set(r),n.uniformMatrix4fv(this.addr,!1,Ly),er(t,r)}}function XO(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function KO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if($n(t,e))return;n.uniform2iv(this.addr,e),er(t,e)}}function YO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if($n(t,e))return;n.uniform3iv(this.addr,e),er(t,e)}}function ZO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if($n(t,e))return;n.uniform4iv(this.addr,e),er(t,e)}}function QO(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function qO(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if($n(t,e))return;n.uniform2uiv(this.addr,e),er(t,e)}}function $O(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if($n(t,e))return;n.uniform3uiv(this.addr,e),er(t,e)}}function eN(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if($n(t,e))return;n.uniform4uiv(this.addr,e),er(t,e)}}function tN(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||nC,i)}function nN(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||iC,i)}function rN(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||sC,i)}function iN(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||rC,i)}function sN(n){switch(n){case 5126:return zO;case 35664:return GO;case 35665:return HO;case 35666:return VO;case 35674:return WO;case 35675:return jO;case 35676:return JO;case 5124:case 35670:return XO;case 35667:case 35671:return KO;case 35668:case 35672:return YO;case 35669:case 35673:return ZO;case 5125:return QO;case 36294:return qO;case 36295:return $O;case 36296:return eN;case 35678:case 36198:case 36298:case 36306:case 35682:return tN;case 35679:case 36299:case 36307:return nN;case 35680:case 36300:case 36308:case 36293:return rN;case 36289:case 36303:case 36311:case 36292:return iN}}function oN(n,e){n.uniform1fv(this.addr,e)}function aN(n,e){const t=uf(e,this.size,2);n.uniform2fv(this.addr,t)}function lN(n,e){const t=uf(e,this.size,3);n.uniform3fv(this.addr,t)}function cN(n,e){const t=uf(e,this.size,4);n.uniform4fv(this.addr,t)}function uN(n,e){const t=uf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function fN(n,e){const t=uf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function dN(n,e){const t=uf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function hN(n,e){n.uniform1iv(this.addr,e)}function pN(n,e){n.uniform2iv(this.addr,e)}function mN(n,e){n.uniform3iv(this.addr,e)}function gN(n,e){n.uniform4iv(this.addr,e)}function vN(n,e){n.uniform1uiv(this.addr,e)}function yN(n,e){n.uniform2uiv(this.addr,e)}function xN(n,e){n.uniform3uiv(this.addr,e)}function _N(n,e){n.uniform4uiv(this.addr,e)}function wN(n,e,t){const r=this.cache,i=e.length,s=Q2(t,i);$n(r,s)||(n.uniform1iv(this.addr,s),er(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||nC,s[o])}function SN(n,e,t){const r=this.cache,i=e.length,s=Q2(t,i);$n(r,s)||(n.uniform1iv(this.addr,s),er(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||iC,s[o])}function AN(n,e,t){const r=this.cache,i=e.length,s=Q2(t,i);$n(r,s)||(n.uniform1iv(this.addr,s),er(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||sC,s[o])}function MN(n,e,t){const r=this.cache,i=e.length,s=Q2(t,i);$n(r,s)||(n.uniform1iv(this.addr,s),er(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||rC,s[o])}function CN(n){switch(n){case 5126:return oN;case 35664:return aN;case 35665:return lN;case 35666:return cN;case 35674:return uN;case 35675:return fN;case 35676:return dN;case 5124:case 35670:return hN;case 35667:case 35671:return pN;case 35668:case 35672:return mN;case 35669:case 35673:return gN;case 5125:return vN;case 36294:return yN;case 36295:return xN;case 36296:return _N;case 35678:case 36198:case 36298:case 36306:case 35682:return wN;case 35679:case 36299:case 36307:return SN;case 35680:case 36300:case 36308:case 36293:return AN;case 36289:case 36303:case 36311:case 36292:return MN}}class EN{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=sN(t.type)}}class bN{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=CN(t.type)}}class TN{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const cm=/(\w+)(\])?(\[|\.)?/g;function Fy(n,e){n.seq.push(e),n.map[e.id]=e}function RN(n,e,t){const r=n.name,i=r.length;for(cm.lastIndex=0;;){const s=cm.exec(r),o=cm.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){Fy(t,c===void 0?new EN(a,n,e):new bN(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new TN(a),Fy(t,d)),t=d}}}class Tp{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);RN(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function ky(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let BN=0;function PN(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function LN(n){switch(n){case Ia:return["Linear","( value )"];case rn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function Oy(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+PN(n.getShaderSource(e),o)}else return i}function IN(n,e){const t=LN(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function DN(n,e){let t;switch(e){case AM:t="Linear";break;case MM:t="Reinhard";break;case CM:t="OptimizedCineon";break;case ig:t="ACESFilmic";break;case EM:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function FN(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ad).join(`
`)}function kN(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function ON(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Ad(n){return n!==""}function Ny(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Uy(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const NN=/^[ \t]*#include +<([\w\d./]+)>/gm;function R8(n){return n.replace(NN,UN)}function UN(n,e){const t=Ct[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return R8(t)}const zN=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zy(n){return n.replace(zN,GN)}function GN(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Gy(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function HN(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===W2?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Fd?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ml&&(e="SHADOWMAP_TYPE_VSM"),e}function VN(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ba:case Pa:e="ENVMAP_TYPE_CUBE";break;case af:e="ENVMAP_TYPE_CUBE_UV";break}return e}function WN(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Pa:e="ENVMAP_MODE_REFRACTION";break}return e}function jN(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Ph:e="ENVMAP_BLENDING_MULTIPLY";break;case wM:e="ENVMAP_BLENDING_MIX";break;case SM:e="ENVMAP_BLENDING_ADD";break}return e}function JN(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function XN(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=HN(t),c=VN(t),u=WN(t),d=jN(t),p=JN(t),m=t.isWebGL2?"":FN(t),g=kN(s),v=i.createProgram();let y,x,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[g].filter(Ad).join(`
`),y.length>0&&(y+=`
`),x=[m,g].filter(Ad).join(`
`),x.length>0&&(x+=`
`)):(y=[Gy(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ad).join(`
`),x=[m,Gy(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==xs?"#define TONE_MAPPING":"",t.toneMapping!==xs?Ct.tonemapping_pars_fragment:"",t.toneMapping!==xs?DN("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Ct.encodings_pars_fragment,IN("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Ad).join(`
`)),o=R8(o),o=Ny(o,t),o=Uy(o,t),a=R8(a),a=Ny(a,t),a=Uy(a,t),o=zy(o),a=zy(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",t.glslVersion===E8?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===E8?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const S=_+y+o,M=_+x+a,b=ky(i,35633,S),T=ky(i,35632,M);if(i.attachShader(v,b),i.attachShader(v,T),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const P=i.getProgramInfoLog(v).trim(),L=i.getShaderInfoLog(b).trim(),z=i.getShaderInfoLog(T).trim();let G=!0,V=!0;if(i.getProgramParameter(v,35714)===!1){G=!1;const H=Oy(i,b,"vertex"),Y=Oy(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+P+`
`+H+`
`+Y)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(L===""||z==="")&&(V=!1);V&&(this.diagnostics={runnable:G,programLog:P,vertexShader:{log:L,prefix:y},fragmentShader:{log:z,prefix:x}})}i.deleteShader(b),i.deleteShader(T);let R;this.getUniforms=function(){return R===void 0&&(R=new Tp(i,v)),R};let C;return this.getAttributes=function(){return C===void 0&&(C=ON(i,v)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=BN++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=b,this.fragmentShader=T,this}let KN=0;class YN{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new ZN(e),t.set(e,r)),r}}class ZN{constructor(e){this.id=KN++,this.code=e,this.usedTimes=0}}function QN(n,e,t,r,i,s,o){const a=new Nl,l=new YN,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(C,P,L,z,G){const V=z.fog,H=G.geometry,Y=C.isMeshStandardMaterial?z.environment:null,ee=(C.isMeshStandardMaterial?t:e).get(C.envMap||Y),ue=ee&&ee.mapping===af?ee.image.height:null,k=g[C.type];C.precision!==null&&(m=i.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const W=H.morphAttributes.position||H.morphAttributes.normal||H.morphAttributes.color,J=W!==void 0?W.length:0;let D=0;H.morphAttributes.position!==void 0&&(D=1),H.morphAttributes.normal!==void 0&&(D=2),H.morphAttributes.color!==void 0&&(D=3);let O,ie,$,te;if(k){const Ce=ms[k];O=Ce.vertexShader,ie=Ce.fragmentShader}else O=C.vertexShader,ie=C.fragmentShader,l.update(C),$=l.getVertexShaderID(C),te=l.getFragmentShaderID(C);const Z=n.getRenderTarget(),ne=C.alphaTest>0,he=C.clearcoat>0,Me=C.iridescence>0;return{isWebGL2:u,shaderID:k,shaderName:C.type,vertexShader:O,fragmentShader:ie,defines:C.defines,customVertexShaderID:$,customFragmentShaderID:te,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:G.isInstancedMesh===!0,instancingColor:G.isInstancedMesh===!0&&G.instanceColor!==null,supportsVertexTextures:p,outputEncoding:Z===null?n.outputEncoding:Z.isXRRenderTarget===!0?Z.texture.encoding:Ia,map:!!C.map,matcap:!!C.matcap,envMap:!!ee,envMapMode:ee&&ee.mapping,envMapCubeUVHeight:ue,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===XM,tangentSpaceNormalMap:C.normalMapType===za,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===rn,clearcoat:he,clearcoatMap:he&&!!C.clearcoatMap,clearcoatRoughnessMap:he&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:he&&!!C.clearcoatNormalMap,iridescence:Me,iridescenceMap:Me&&!!C.iridescenceMap,iridescenceThicknessMap:Me&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===Bo,alphaMap:!!C.alphaMap,alphaTest:ne,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!H.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!H.attributes.color&&H.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!V,useFog:C.fog===!0,fogExp2:V&&V.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:d,skinning:G.isSkinnedMesh===!0,morphTargets:H.morphAttributes.position!==void 0,morphNormals:H.morphAttributes.normal!==void 0,morphColors:H.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:D,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:xs,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===rc,flipSided:C.side===Zr,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function y(C){const P=[];if(C.shaderID?P.push(C.shaderID):(P.push(C.customVertexShaderID),P.push(C.customFragmentShaderID)),C.defines!==void 0)for(const L in C.defines)P.push(L),P.push(C.defines[L]);return C.isRawShaderMaterial===!1&&(x(P,C),_(P,C),P.push(n.outputEncoding)),P.push(C.customProgramCacheKey),P.join()}function x(C,P){C.push(P.precision),C.push(P.outputEncoding),C.push(P.envMapMode),C.push(P.envMapCubeUVHeight),C.push(P.combine),C.push(P.vertexUvs),C.push(P.fogExp2),C.push(P.sizeAttenuation),C.push(P.morphTargetsCount),C.push(P.morphAttributeCount),C.push(P.numDirLights),C.push(P.numPointLights),C.push(P.numSpotLights),C.push(P.numSpotLightMaps),C.push(P.numHemiLights),C.push(P.numRectAreaLights),C.push(P.numDirLightShadows),C.push(P.numPointLightShadows),C.push(P.numSpotLightShadows),C.push(P.numSpotLightShadowsWithMaps),C.push(P.shadowMapType),C.push(P.toneMapping),C.push(P.numClippingPlanes),C.push(P.numClipIntersection),C.push(P.depthPacking)}function _(C,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.map&&a.enable(4),P.matcap&&a.enable(5),P.envMap&&a.enable(6),P.lightMap&&a.enable(7),P.aoMap&&a.enable(8),P.emissiveMap&&a.enable(9),P.bumpMap&&a.enable(10),P.normalMap&&a.enable(11),P.objectSpaceNormalMap&&a.enable(12),P.tangentSpaceNormalMap&&a.enable(13),P.clearcoat&&a.enable(14),P.clearcoatMap&&a.enable(15),P.clearcoatRoughnessMap&&a.enable(16),P.clearcoatNormalMap&&a.enable(17),P.iridescence&&a.enable(18),P.iridescenceMap&&a.enable(19),P.iridescenceThicknessMap&&a.enable(20),P.displacementMap&&a.enable(21),P.specularMap&&a.enable(22),P.roughnessMap&&a.enable(23),P.metalnessMap&&a.enable(24),P.gradientMap&&a.enable(25),P.alphaMap&&a.enable(26),P.alphaTest&&a.enable(27),P.vertexColors&&a.enable(28),P.vertexAlphas&&a.enable(29),P.vertexUvs&&a.enable(30),P.vertexTangents&&a.enable(31),P.uvsVertexOnly&&a.enable(32),C.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.physicallyCorrectLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.specularIntensityMap&&a.enable(15),P.specularColorMap&&a.enable(16),P.transmission&&a.enable(17),P.transmissionMap&&a.enable(18),P.thicknessMap&&a.enable(19),P.sheen&&a.enable(20),P.sheenColorMap&&a.enable(21),P.sheenRoughnessMap&&a.enable(22),P.decodeVideoTexture&&a.enable(23),P.opaque&&a.enable(24),C.push(a.mask)}function S(C){const P=g[C.type];let L;if(P){const z=ms[P];L=Y2.clone(z.uniforms)}else L=C.uniforms;return L}function M(C,P){let L;for(let z=0,G=c.length;z<G;z++){const V=c[z];if(V.cacheKey===P){L=V,++L.usedTimes;break}}return L===void 0&&(L=new XN(n,P,C,s),c.push(L)),L}function b(C){if(--C.usedTimes===0){const P=c.indexOf(C);c[P]=c[c.length-1],c.pop(),C.destroy()}}function T(C){l.remove(C)}function R(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:S,acquireProgram:M,releaseProgram:b,releaseShaderCache:T,programs:c,dispose:R}}function qN(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function $N(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Hy(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Vy(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(d,p,m,g,v,y){let x=n[e];return x===void 0?(x={id:d.id,object:d,geometry:p,material:m,groupOrder:g,renderOrder:d.renderOrder,z:v,group:y},n[e]=x):(x.id=d.id,x.object=d,x.geometry=p,x.material=m,x.groupOrder=g,x.renderOrder=d.renderOrder,x.z=v,x.group=y),e++,x}function a(d,p,m,g,v,y){const x=o(d,p,m,g,v,y);m.transmission>0?r.push(x):m.transparent===!0?i.push(x):t.push(x)}function l(d,p,m,g,v,y){const x=o(d,p,m,g,v,y);m.transmission>0?r.unshift(x):m.transparent===!0?i.unshift(x):t.unshift(x)}function c(d,p){t.length>1&&t.sort(d||$N),r.length>1&&r.sort(p||Hy),i.length>1&&i.sort(p||Hy)}function u(){for(let d=e,p=n.length;d<p;d++){const m=n[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function eU(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new Vy,n.set(r,[o])):i>=s.length?(o=new Vy,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function tU(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new N,color:new qe};break;case"SpotLight":t={position:new N,direction:new N,color:new qe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new N,color:new qe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new N,skyColor:new qe,groundColor:new qe};break;case"RectAreaLight":t={color:new qe,position:new N,halfWidth:new N,halfHeight:new N};break}return n[e.id]=t,t}}}function nU(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Re,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let rU=0;function iU(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function sU(n,e){const t=new tU,r=nU(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new N);const s=new N,o=new dt,a=new dt;function l(u,d){let p=0,m=0,g=0;for(let z=0;z<9;z++)i.probe[z].set(0,0,0);let v=0,y=0,x=0,_=0,S=0,M=0,b=0,T=0,R=0,C=0;u.sort(iU);const P=d!==!0?Math.PI:1;for(let z=0,G=u.length;z<G;z++){const V=u[z],H=V.color,Y=V.intensity,ee=V.distance,ue=V.shadow&&V.shadow.map?V.shadow.map.texture:null;if(V.isAmbientLight)p+=H.r*Y*P,m+=H.g*Y*P,g+=H.b*Y*P;else if(V.isLightProbe)for(let k=0;k<9;k++)i.probe[k].addScaledVector(V.sh.coefficients[k],Y);else if(V.isDirectionalLight){const k=t.get(V);if(k.color.copy(V.color).multiplyScalar(V.intensity*P),V.castShadow){const W=V.shadow,J=r.get(V);J.shadowBias=W.bias,J.shadowNormalBias=W.normalBias,J.shadowRadius=W.radius,J.shadowMapSize=W.mapSize,i.directionalShadow[v]=J,i.directionalShadowMap[v]=ue,i.directionalShadowMatrix[v]=V.shadow.matrix,M++}i.directional[v]=k,v++}else if(V.isSpotLight){const k=t.get(V);k.position.setFromMatrixPosition(V.matrixWorld),k.color.copy(H).multiplyScalar(Y*P),k.distance=ee,k.coneCos=Math.cos(V.angle),k.penumbraCos=Math.cos(V.angle*(1-V.penumbra)),k.decay=V.decay,i.spot[x]=k;const W=V.shadow;if(V.map&&(i.spotLightMap[R]=V.map,R++,W.updateMatrices(V),V.castShadow&&C++),i.spotLightMatrix[x]=W.matrix,V.castShadow){const J=r.get(V);J.shadowBias=W.bias,J.shadowNormalBias=W.normalBias,J.shadowRadius=W.radius,J.shadowMapSize=W.mapSize,i.spotShadow[x]=J,i.spotShadowMap[x]=ue,T++}x++}else if(V.isRectAreaLight){const k=t.get(V);k.color.copy(H).multiplyScalar(Y),k.halfWidth.set(V.width*.5,0,0),k.halfHeight.set(0,V.height*.5,0),i.rectArea[_]=k,_++}else if(V.isPointLight){const k=t.get(V);if(k.color.copy(V.color).multiplyScalar(V.intensity*P),k.distance=V.distance,k.decay=V.decay,V.castShadow){const W=V.shadow,J=r.get(V);J.shadowBias=W.bias,J.shadowNormalBias=W.normalBias,J.shadowRadius=W.radius,J.shadowMapSize=W.mapSize,J.shadowCameraNear=W.camera.near,J.shadowCameraFar=W.camera.far,i.pointShadow[y]=J,i.pointShadowMap[y]=ue,i.pointShadowMatrix[y]=V.shadow.matrix,b++}i.point[y]=k,y++}else if(V.isHemisphereLight){const k=t.get(V);k.skyColor.copy(V.color).multiplyScalar(Y*P),k.groundColor.copy(V.groundColor).multiplyScalar(Y*P),i.hemi[S]=k,S++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Qe.LTC_FLOAT_1,i.rectAreaLTC2=Qe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Qe.LTC_HALF_1,i.rectAreaLTC2=Qe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=g;const L=i.hash;(L.directionalLength!==v||L.pointLength!==y||L.spotLength!==x||L.rectAreaLength!==_||L.hemiLength!==S||L.numDirectionalShadows!==M||L.numPointShadows!==b||L.numSpotShadows!==T||L.numSpotMaps!==R)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=_,i.point.length=y,i.hemi.length=S,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=b,i.spotLightMatrix.length=T+R-C,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=C,L.directionalLength=v,L.pointLength=y,L.spotLength=x,L.rectAreaLength=_,L.hemiLength=S,L.numDirectionalShadows=M,L.numPointShadows=b,L.numSpotShadows=T,L.numSpotMaps=R,i.version=rU++)}function c(u,d){let p=0,m=0,g=0,v=0,y=0;const x=d.matrixWorldInverse;for(let _=0,S=u.length;_<S;_++){const M=u[_];if(M.isDirectionalLight){const b=i.directional[p];b.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(x),p++}else if(M.isSpotLight){const b=i.spot[g];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(x),b.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(x),g++}else if(M.isRectAreaLight){const b=i.rectArea[v];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(x),a.identity(),o.copy(M.matrixWorld),o.premultiply(x),a.extractRotation(o),b.halfWidth.set(M.width*.5,0,0),b.halfHeight.set(0,M.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),v++}else if(M.isPointLight){const b=i.point[m];b.position.setFromMatrixPosition(M.matrixWorld),b.position.applyMatrix4(x),m++}else if(M.isHemisphereLight){const b=i.hemi[y];b.direction.setFromMatrixPosition(M.matrixWorld),b.direction.transformDirection(x),y++}}}return{setup:l,setupView:c,state:i}}function Wy(n,e){const t=new sU(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function oU(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new Wy(n,e),t.set(s,[l])):o>=a.length?(l=new Wy(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class q2 extends Jn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=JM,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class $2 extends Jn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new N,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const aU=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,lU=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function cU(n,e,t){let r=new Z2;const i=new Re,s=new Re,o=new Kt,a=new q2({depthPacking:lg}),l=new $2,c={},u=t.maxTextureSize,d={0:Zr,1:js,2:rc},p=new ws({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Re},radius:{value:4}},vertexShader:aU,fragmentShader:lU}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new _t;g.setAttribute("position",new Vt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Rn(g,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=W2,this.render=function(M,b,T){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||M.length===0)return;const R=n.getRenderTarget(),C=n.getActiveCubeFace(),P=n.getActiveMipmapLevel(),L=n.state;L.setBlending(Ro),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let z=0,G=M.length;z<G;z++){const V=M[z],H=V.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;i.copy(H.mapSize);const Y=H.getFrameExtents();if(i.multiply(Y),s.copy(H.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/Y.x),i.x=s.x*Y.x,H.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/Y.y),i.y=s.y*Y.y,H.mapSize.y=s.y)),H.map===null){const ue=this.type!==Ml?{minFilter:Tn,magFilter:Tn}:{};H.map=new rs(i.x,i.y,ue),H.map.texture.name=V.name+".shadowMap",H.camera.updateProjectionMatrix()}n.setRenderTarget(H.map),n.clear();const ee=H.getViewportCount();for(let ue=0;ue<ee;ue++){const k=H.getViewport(ue);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),L.viewport(o),H.updateMatrices(V,ue),r=H.getFrustum(),S(b,T,H.camera,V,this.type)}H.isPointLightShadow!==!0&&this.type===Ml&&x(H,T),H.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(R,C,P)};function x(M,b){const T=e.update(v);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new rs(i.x,i.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(b,null,T,p,v,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(b,null,T,m,v,null)}function _(M,b,T,R,C,P){let L=null;const z=T.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(z!==void 0)L=z;else if(L=T.isPointLight===!0?l:a,n.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const G=L.uuid,V=b.uuid;let H=c[G];H===void 0&&(H={},c[G]=H);let Y=H[V];Y===void 0&&(Y=L.clone(),H[V]=Y),L=Y}return L.visible=b.visible,L.wireframe=b.wireframe,P===Ml?L.side=b.shadowSide!==null?b.shadowSide:b.side:L.side=b.shadowSide!==null?b.shadowSide:d[b.side],L.alphaMap=b.alphaMap,L.alphaTest=b.alphaTest,L.map=b.map,L.clipShadows=b.clipShadows,L.clippingPlanes=b.clippingPlanes,L.clipIntersection=b.clipIntersection,L.displacementMap=b.displacementMap,L.displacementScale=b.displacementScale,L.displacementBias=b.displacementBias,L.wireframeLinewidth=b.wireframeLinewidth,L.linewidth=b.linewidth,T.isPointLight===!0&&L.isMeshDistanceMaterial===!0&&(L.referencePosition.setFromMatrixPosition(T.matrixWorld),L.nearDistance=R,L.farDistance=C),L}function S(M,b,T,R,C){if(M.visible===!1)return;if(M.layers.test(b.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&C===Ml)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,M.matrixWorld);const z=e.update(M),G=M.material;if(Array.isArray(G)){const V=z.groups;for(let H=0,Y=V.length;H<Y;H++){const ee=V[H],ue=G[ee.materialIndex];if(ue&&ue.visible){const k=_(M,ue,R,T.near,T.far,C);n.renderBufferDirect(T,null,z,k,M,ee)}}}else if(G.visible){const V=_(M,G,R,T.near,T.far,C);n.renderBufferDirect(T,null,z,V,M,null)}}const L=M.children;for(let z=0,G=L.length;z<G;z++)S(L[z],b,T,R,C)}}function uU(n,e,t){const r=t.isWebGL2;function i(){let K=!1;const fe=new Kt;let Pe=null;const Ke=new Kt(0,0,0,0);return{setMask:function(tt){Pe!==tt&&!K&&(n.colorMask(tt,tt,tt,tt),Pe=tt)},setLocked:function(tt){K=tt},setClear:function(tt,pt,mt,wt,Dt){Dt===!0&&(tt*=wt,pt*=wt,mt*=wt),fe.set(tt,pt,mt,wt),Ke.equals(fe)===!1&&(n.clearColor(tt,pt,mt,wt),Ke.copy(fe))},reset:function(){K=!1,Pe=null,Ke.set(-1,0,0,0)}}}function s(){let K=!1,fe=null,Pe=null,Ke=null;return{setTest:function(tt){tt?ne(2929):he(2929)},setMask:function(tt){fe!==tt&&!K&&(n.depthMask(tt),fe=tt)},setFunc:function(tt){if(Pe!==tt){switch(tt){case pM:n.depthFunc(512);break;case mM:n.depthFunc(519);break;case gM:n.depthFunc(513);break;case l2:n.depthFunc(515);break;case vM:n.depthFunc(514);break;case yM:n.depthFunc(518);break;case xM:n.depthFunc(516);break;case _M:n.depthFunc(517);break;default:n.depthFunc(515)}Pe=tt}},setLocked:function(tt){K=tt},setClear:function(tt){Ke!==tt&&(n.clearDepth(tt),Ke=tt)},reset:function(){K=!1,fe=null,Pe=null,Ke=null}}}function o(){let K=!1,fe=null,Pe=null,Ke=null,tt=null,pt=null,mt=null,wt=null,Dt=null;return{setTest:function(Pt){K||(Pt?ne(2960):he(2960))},setMask:function(Pt){fe!==Pt&&!K&&(n.stencilMask(Pt),fe=Pt)},setFunc:function(Pt,Et,St){(Pe!==Pt||Ke!==Et||tt!==St)&&(n.stencilFunc(Pt,Et,St),Pe=Pt,Ke=Et,tt=St)},setOp:function(Pt,Et,St){(pt!==Pt||mt!==Et||wt!==St)&&(n.stencilOp(Pt,Et,St),pt=Pt,mt=Et,wt=St)},setLocked:function(Pt){K=Pt},setClear:function(Pt){Dt!==Pt&&(n.clearStencil(Pt),Dt=Pt)},reset:function(){K=!1,fe=null,Pe=null,Ke=null,tt=null,pt=null,mt=null,wt=null,Dt=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,d=new WeakMap;let p={},m={},g=new WeakMap,v=[],y=null,x=!1,_=null,S=null,M=null,b=null,T=null,R=null,C=null,P=!1,L=null,z=null,G=null,V=null,H=null;const Y=n.getParameter(35661);let ee=!1,ue=0;const k=n.getParameter(7938);k.indexOf("WebGL")!==-1?(ue=parseFloat(/^WebGL (\d)/.exec(k)[1]),ee=ue>=1):k.indexOf("OpenGL ES")!==-1&&(ue=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),ee=ue>=2);let W=null,J={};const D=n.getParameter(3088),O=n.getParameter(2978),ie=new Kt().fromArray(D),$=new Kt().fromArray(O);function te(K,fe,Pe){const Ke=new Uint8Array(4),tt=n.createTexture();n.bindTexture(K,tt),n.texParameteri(K,10241,9728),n.texParameteri(K,10240,9728);for(let pt=0;pt<Pe;pt++)n.texImage2D(fe+pt,0,6408,1,1,0,6408,5121,Ke);return tt}const Z={};Z[3553]=te(3553,3553,1),Z[34067]=te(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ne(2929),l.setFunc(l2),Se(!1),We($6),ne(2884),Be(Ro);function ne(K){p[K]!==!0&&(n.enable(K),p[K]=!0)}function he(K){p[K]!==!1&&(n.disable(K),p[K]=!1)}function Me(K,fe){return m[K]!==fe?(n.bindFramebuffer(K,fe),m[K]=fe,r&&(K===36009&&(m[36160]=fe),K===36160&&(m[36009]=fe)),!0):!1}function xe(K,fe){let Pe=v,Ke=!1;if(K)if(Pe=g.get(fe),Pe===void 0&&(Pe=[],g.set(fe,Pe)),K.isWebGLMultipleRenderTargets){const tt=K.texture;if(Pe.length!==tt.length||Pe[0]!==36064){for(let pt=0,mt=tt.length;pt<mt;pt++)Pe[pt]=36064+pt;Pe.length=tt.length,Ke=!0}}else Pe[0]!==36064&&(Pe[0]=36064,Ke=!0);else Pe[0]!==1029&&(Pe[0]=1029,Ke=!0);Ke&&(t.isWebGL2?n.drawBuffers(Pe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Pe))}function Ce(K){return y!==K?(n.useProgram(K),y=K,!0):!1}const q={[yl]:32774,[rM]:32778,[iM]:32779};if(r)q[r8]=32775,q[i8]=32776;else{const K=e.get("EXT_blend_minmax");K!==null&&(q[r8]=K.MIN_EXT,q[i8]=K.MAX_EXT)}const de={[sM]:0,[oM]:1,[aM]:768,[ng]:770,[hM]:776,[fM]:774,[cM]:772,[lM]:769,[rg]:771,[dM]:775,[uM]:773};function Be(K,fe,Pe,Ke,tt,pt,mt,wt){if(K===Ro){x===!0&&(he(3042),x=!1);return}if(x===!1&&(ne(3042),x=!0),K!==nM){if(K!==_||wt!==P){if((S!==yl||T!==yl)&&(n.blendEquation(32774),S=yl,T=yl),wt)switch(K){case Bo:n.blendFuncSeparate(1,771,1,771);break;case e8:n.blendFunc(1,1);break;case t8:n.blendFuncSeparate(0,769,0,1);break;case n8:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}else switch(K){case Bo:n.blendFuncSeparate(770,771,1,771);break;case e8:n.blendFunc(770,1);break;case t8:n.blendFuncSeparate(0,769,0,1);break;case n8:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}M=null,b=null,R=null,C=null,_=K,P=wt}return}tt=tt||fe,pt=pt||Pe,mt=mt||Ke,(fe!==S||tt!==T)&&(n.blendEquationSeparate(q[fe],q[tt]),S=fe,T=tt),(Pe!==M||Ke!==b||pt!==R||mt!==C)&&(n.blendFuncSeparate(de[Pe],de[Ke],de[pt],de[mt]),M=Pe,b=Ke,R=pt,C=mt),_=K,P=!1}function we(K,fe){K.side===rc?he(2884):ne(2884);let Pe=K.side===Zr;fe&&(Pe=!Pe),Se(Pe),K.blending===Bo&&K.transparent===!1?Be(Ro):Be(K.blending,K.blendEquation,K.blendSrc,K.blendDst,K.blendEquationAlpha,K.blendSrcAlpha,K.blendDstAlpha,K.premultipliedAlpha),l.setFunc(K.depthFunc),l.setTest(K.depthTest),l.setMask(K.depthWrite),a.setMask(K.colorWrite);const Ke=K.stencilWrite;c.setTest(Ke),Ke&&(c.setMask(K.stencilWriteMask),c.setFunc(K.stencilFunc,K.stencilRef,K.stencilFuncMask),c.setOp(K.stencilFail,K.stencilZFail,K.stencilZPass)),Fe(K.polygonOffset,K.polygonOffsetFactor,K.polygonOffsetUnits),K.alphaToCoverage===!0?ne(32926):he(32926)}function Se(K){L!==K&&(K?n.frontFace(2304):n.frontFace(2305),L=K)}function We(K){K!==$A?(ne(2884),K!==z&&(K===$6?n.cullFace(1029):K===eM?n.cullFace(1028):n.cullFace(1032))):he(2884),z=K}function ye(K){K!==G&&(ee&&n.lineWidth(K),G=K)}function Fe(K,fe,Pe){K?(ne(32823),(V!==fe||H!==Pe)&&(n.polygonOffset(fe,Pe),V=fe,H=Pe)):he(32823)}function Ue(K){K?ne(3089):he(3089)}function Te(K){K===void 0&&(K=33984+Y-1),W!==K&&(n.activeTexture(K),W=K)}function U(K,fe,Pe){Pe===void 0&&(W===null?Pe=33984+Y-1:Pe=W);let Ke=J[Pe];Ke===void 0&&(Ke={type:void 0,texture:void 0},J[Pe]=Ke),(Ke.type!==K||Ke.texture!==fe)&&(W!==Pe&&(n.activeTexture(Pe),W=Pe),n.bindTexture(K,fe||Z[K]),Ke.type=K,Ke.texture=fe)}function I(){const K=J[W];K!==void 0&&K.type!==void 0&&(n.bindTexture(K.type,null),K.type=void 0,K.texture=void 0)}function re(){try{n.compressedTexImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function pe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Le(){try{n.texSubImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ke(){try{n.texSubImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Oe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function De(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ge(){try{n.texStorage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ze(){try{n.texStorage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function He(){try{n.texImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function je(){try{n.texImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ve(K){ie.equals(K)===!1&&(n.scissor(K.x,K.y,K.z,K.w),ie.copy(K))}function Ne(K){$.equals(K)===!1&&(n.viewport(K.x,K.y,K.z,K.w),$.copy(K))}function Q(K,fe){let Pe=d.get(fe);Pe===void 0&&(Pe=new WeakMap,d.set(fe,Pe));let Ke=Pe.get(K);Ke===void 0&&(Ke=n.getUniformBlockIndex(fe,K.name),Pe.set(K,Ke))}function Ae(K,fe){const Ke=d.get(fe).get(K);u.get(fe)!==Ke&&(n.uniformBlockBinding(fe,Ke,K.__bindingPointIndex),u.set(fe,Ke))}function Je(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},W=null,J={},m={},g=new WeakMap,v=[],y=null,x=!1,_=null,S=null,M=null,b=null,T=null,R=null,C=null,P=!1,L=null,z=null,G=null,V=null,H=null,ie.set(0,0,n.canvas.width,n.canvas.height),$.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ne,disable:he,bindFramebuffer:Me,drawBuffers:xe,useProgram:Ce,setBlending:Be,setMaterial:we,setFlipSided:Se,setCullFace:We,setLineWidth:ye,setPolygonOffset:Fe,setScissorTest:Ue,activeTexture:Te,bindTexture:U,unbindTexture:I,compressedTexImage2D:re,compressedTexImage3D:pe,texImage2D:He,texImage3D:je,updateUBOMapping:Q,uniformBlockBinding:Ae,texStorage2D:ge,texStorage3D:Ze,texSubImage2D:Le,texSubImage3D:ke,compressedTexSubImage2D:Oe,compressedTexSubImage3D:De,scissor:Ve,viewport:Ne,reset:Je}}function fU(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(U,I){return x?new OffscreenCanvas(U,I):ph("canvas")}function S(U,I,re,pe){let Le=1;if((U.width>pe||U.height>pe)&&(Le=pe/Math.max(U.width,U.height)),Le<1||I===!0)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap){const ke=I?f2:Math.floor,Oe=ke(Le*U.width),De=ke(Le*U.height);v===void 0&&(v=_(Oe,De));const ge=re?_(Oe,De):v;return ge.width=Oe,ge.height=De,ge.getContext("2d").drawImage(U,0,0,Oe,De),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+U.width+"x"+U.height+") to ("+Oe+"x"+De+")."),ge}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+U.width+"x"+U.height+")."),U;return U}function M(U){return b8(U.width)&&b8(U.height)}function b(U){return a?!1:U.wrapS!==vr||U.wrapT!==vr||U.minFilter!==Tn&&U.minFilter!==fn}function T(U,I){return U.generateMipmaps&&I&&U.minFilter!==Tn&&U.minFilter!==fn}function R(U){n.generateMipmap(U)}function C(U,I,re,pe,Le=!1){if(a===!1)return I;if(U!==null){if(n[U]!==void 0)return n[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let ke=I;return I===6403&&(re===5126&&(ke=33326),re===5131&&(ke=33325),re===5121&&(ke=33321)),I===33319&&(re===5126&&(ke=33328),re===5131&&(ke=33327),re===5121&&(ke=33323)),I===6408&&(re===5126&&(ke=34836),re===5131&&(ke=34842),re===5121&&(ke=pe===rn&&Le===!1?35907:32856),re===32819&&(ke=32854),re===32820&&(ke=32855)),(ke===33325||ke===33326||ke===33327||ke===33328||ke===34842||ke===34836)&&e.get("EXT_color_buffer_float"),ke}function P(U,I,re){return T(U,re)===!0||U.isFramebufferTexture&&U.minFilter!==Tn&&U.minFilter!==fn?Math.log2(Math.max(I.width,I.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?I.mipmaps.length:1}function L(U){return U===Tn||U===uh||U===Eu?9728:9729}function z(U){const I=U.target;I.removeEventListener("dispose",z),V(I),I.isVideoTexture&&g.delete(I)}function G(U){const I=U.target;I.removeEventListener("dispose",G),Y(I)}function V(U){const I=r.get(U);if(I.__webglInit===void 0)return;const re=U.source,pe=y.get(re);if(pe){const Le=pe[I.__cacheKey];Le.usedTimes--,Le.usedTimes===0&&H(U),Object.keys(pe).length===0&&y.delete(re)}r.remove(U)}function H(U){const I=r.get(U);n.deleteTexture(I.__webglTexture);const re=U.source,pe=y.get(re);delete pe[I.__cacheKey],o.memory.textures--}function Y(U){const I=U.texture,re=r.get(U),pe=r.get(I);if(pe.__webglTexture!==void 0&&(n.deleteTexture(pe.__webglTexture),o.memory.textures--),U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(let Le=0;Le<6;Le++)n.deleteFramebuffer(re.__webglFramebuffer[Le]),re.__webglDepthbuffer&&n.deleteRenderbuffer(re.__webglDepthbuffer[Le]);else{if(n.deleteFramebuffer(re.__webglFramebuffer),re.__webglDepthbuffer&&n.deleteRenderbuffer(re.__webglDepthbuffer),re.__webglMultisampledFramebuffer&&n.deleteFramebuffer(re.__webglMultisampledFramebuffer),re.__webglColorRenderbuffer)for(let Le=0;Le<re.__webglColorRenderbuffer.length;Le++)re.__webglColorRenderbuffer[Le]&&n.deleteRenderbuffer(re.__webglColorRenderbuffer[Le]);re.__webglDepthRenderbuffer&&n.deleteRenderbuffer(re.__webglDepthRenderbuffer)}if(U.isWebGLMultipleRenderTargets)for(let Le=0,ke=I.length;Le<ke;Le++){const Oe=r.get(I[Le]);Oe.__webglTexture&&(n.deleteTexture(Oe.__webglTexture),o.memory.textures--),r.remove(I[Le])}r.remove(I),r.remove(U)}let ee=0;function ue(){ee=0}function k(){const U=ee;return U>=l&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+l),ee+=1,U}function W(U){const I=[];return I.push(U.wrapS),I.push(U.wrapT),I.push(U.wrapR||0),I.push(U.magFilter),I.push(U.minFilter),I.push(U.anisotropy),I.push(U.internalFormat),I.push(U.format),I.push(U.type),I.push(U.generateMipmaps),I.push(U.premultiplyAlpha),I.push(U.flipY),I.push(U.unpackAlignment),I.push(U.encoding),I.join()}function J(U,I){const re=r.get(U);if(U.isVideoTexture&&Ue(U),U.isRenderTargetTexture===!1&&U.version>0&&re.__version!==U.version){const pe=U.image;if(pe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(pe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{he(re,U,I);return}}t.bindTexture(3553,re.__webglTexture,33984+I)}function D(U,I){const re=r.get(U);if(U.version>0&&re.__version!==U.version){he(re,U,I);return}t.bindTexture(35866,re.__webglTexture,33984+I)}function O(U,I){const re=r.get(U);if(U.version>0&&re.__version!==U.version){he(re,U,I);return}t.bindTexture(32879,re.__webglTexture,33984+I)}function ie(U,I){const re=r.get(U);if(U.version>0&&re.__version!==U.version){Me(re,U,I);return}t.bindTexture(34067,re.__webglTexture,33984+I)}const $={[La]:10497,[vr]:33071,[Vu]:33648},te={[Tn]:9728,[uh]:9984,[Eu]:9986,[fn]:9729,[J2]:9985,[Js]:9987};function Z(U,I,re){if(re?(n.texParameteri(U,10242,$[I.wrapS]),n.texParameteri(U,10243,$[I.wrapT]),(U===32879||U===35866)&&n.texParameteri(U,32882,$[I.wrapR]),n.texParameteri(U,10240,te[I.magFilter]),n.texParameteri(U,10241,te[I.minFilter])):(n.texParameteri(U,10242,33071),n.texParameteri(U,10243,33071),(U===32879||U===35866)&&n.texParameteri(U,32882,33071),(I.wrapS!==vr||I.wrapT!==vr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(U,10240,L(I.magFilter)),n.texParameteri(U,10241,L(I.minFilter)),I.minFilter!==Tn&&I.minFilter!==fn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const pe=e.get("EXT_texture_filter_anisotropic");if(I.magFilter===Tn||I.minFilter!==Eu&&I.minFilter!==Js||I.type===Mo&&e.has("OES_texture_float_linear")===!1||a===!1&&I.type===Wu&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||r.get(I).__currentAnisotropy)&&(n.texParameterf(U,pe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,i.getMaxAnisotropy())),r.get(I).__currentAnisotropy=I.anisotropy)}}function ne(U,I){let re=!1;U.__webglInit===void 0&&(U.__webglInit=!0,I.addEventListener("dispose",z));const pe=I.source;let Le=y.get(pe);Le===void 0&&(Le={},y.set(pe,Le));const ke=W(I);if(ke!==U.__cacheKey){Le[ke]===void 0&&(Le[ke]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,re=!0),Le[ke].usedTimes++;const Oe=Le[U.__cacheKey];Oe!==void 0&&(Le[U.__cacheKey].usedTimes--,Oe.usedTimes===0&&H(I)),U.__cacheKey=ke,U.__webglTexture=Le[ke].texture}return re}function he(U,I,re){let pe=3553;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(pe=35866),I.isData3DTexture&&(pe=32879);const Le=ne(U,I),ke=I.source;t.bindTexture(pe,U.__webglTexture,33984+re);const Oe=r.get(ke);if(ke.version!==Oe.__version||Le===!0){t.activeTexture(33984+re),n.pixelStorei(37440,I.flipY),n.pixelStorei(37441,I.premultiplyAlpha),n.pixelStorei(3317,I.unpackAlignment),n.pixelStorei(37443,0);const De=b(I)&&M(I.image)===!1;let ge=S(I.image,De,!1,u);ge=Te(I,ge);const Ze=M(ge)||a,He=s.convert(I.format,I.encoding);let je=s.convert(I.type),Ve=C(I.internalFormat,He,je,I.encoding,I.isVideoTexture);Z(pe,I,Ze);let Ne;const Q=I.mipmaps,Ae=a&&I.isVideoTexture!==!0,Je=Oe.__version===void 0||Le===!0,K=P(I,ge,Ze);if(I.isDepthTexture)Ve=6402,a?I.type===Mo?Ve=36012:I.type===va?Ve=33190:I.type===Fl?Ve=35056:Ve=33189:I.type===Mo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===ba&&Ve===6402&&I.type!==sg&&I.type!==va&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=va,je=s.convert(I.type)),I.format===Yl&&Ve===6402&&(Ve=34041,I.type!==Fl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=Fl,je=s.convert(I.type))),Je&&(Ae?t.texStorage2D(3553,1,Ve,ge.width,ge.height):t.texImage2D(3553,0,Ve,ge.width,ge.height,0,He,je,null));else if(I.isDataTexture)if(Q.length>0&&Ze){Ae&&Je&&t.texStorage2D(3553,K,Ve,Q[0].width,Q[0].height);for(let fe=0,Pe=Q.length;fe<Pe;fe++)Ne=Q[fe],Ae?t.texSubImage2D(3553,fe,0,0,Ne.width,Ne.height,He,je,Ne.data):t.texImage2D(3553,fe,Ve,Ne.width,Ne.height,0,He,je,Ne.data);I.generateMipmaps=!1}else Ae?(Je&&t.texStorage2D(3553,K,Ve,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,ge.width,ge.height,He,je,ge.data)):t.texImage2D(3553,0,Ve,ge.width,ge.height,0,He,je,ge.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){Ae&&Je&&t.texStorage3D(35866,K,Ve,Q[0].width,Q[0].height,ge.depth);for(let fe=0,Pe=Q.length;fe<Pe;fe++)Ne=Q[fe],I.format!==oi?He!==null?Ae?t.compressedTexSubImage3D(35866,fe,0,0,0,Ne.width,Ne.height,ge.depth,He,Ne.data,0,0):t.compressedTexImage3D(35866,fe,Ve,Ne.width,Ne.height,ge.depth,0,Ne.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ae?t.texSubImage3D(35866,fe,0,0,0,Ne.width,Ne.height,ge.depth,He,je,Ne.data):t.texImage3D(35866,fe,Ve,Ne.width,Ne.height,ge.depth,0,He,je,Ne.data)}else{Ae&&Je&&t.texStorage2D(3553,K,Ve,Q[0].width,Q[0].height);for(let fe=0,Pe=Q.length;fe<Pe;fe++)Ne=Q[fe],I.format!==oi?He!==null?Ae?t.compressedTexSubImage2D(3553,fe,0,0,Ne.width,Ne.height,He,Ne.data):t.compressedTexImage2D(3553,fe,Ve,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ae?t.texSubImage2D(3553,fe,0,0,Ne.width,Ne.height,He,je,Ne.data):t.texImage2D(3553,fe,Ve,Ne.width,Ne.height,0,He,je,Ne.data)}else if(I.isDataArrayTexture)Ae?(Je&&t.texStorage3D(35866,K,Ve,ge.width,ge.height,ge.depth),t.texSubImage3D(35866,0,0,0,0,ge.width,ge.height,ge.depth,He,je,ge.data)):t.texImage3D(35866,0,Ve,ge.width,ge.height,ge.depth,0,He,je,ge.data);else if(I.isData3DTexture)Ae?(Je&&t.texStorage3D(32879,K,Ve,ge.width,ge.height,ge.depth),t.texSubImage3D(32879,0,0,0,0,ge.width,ge.height,ge.depth,He,je,ge.data)):t.texImage3D(32879,0,Ve,ge.width,ge.height,ge.depth,0,He,je,ge.data);else if(I.isFramebufferTexture){if(Je)if(Ae)t.texStorage2D(3553,K,Ve,ge.width,ge.height);else{let fe=ge.width,Pe=ge.height;for(let Ke=0;Ke<K;Ke++)t.texImage2D(3553,Ke,Ve,fe,Pe,0,He,je,null),fe>>=1,Pe>>=1}}else if(Q.length>0&&Ze){Ae&&Je&&t.texStorage2D(3553,K,Ve,Q[0].width,Q[0].height);for(let fe=0,Pe=Q.length;fe<Pe;fe++)Ne=Q[fe],Ae?t.texSubImage2D(3553,fe,0,0,He,je,Ne):t.texImage2D(3553,fe,Ve,He,je,Ne);I.generateMipmaps=!1}else Ae?(Je&&t.texStorage2D(3553,K,Ve,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,He,je,ge)):t.texImage2D(3553,0,Ve,He,je,ge);T(I,Ze)&&R(pe),Oe.__version=ke.version,I.onUpdate&&I.onUpdate(I)}U.__version=I.version}function Me(U,I,re){if(I.image.length!==6)return;const pe=ne(U,I),Le=I.source;t.bindTexture(34067,U.__webglTexture,33984+re);const ke=r.get(Le);if(Le.version!==ke.__version||pe===!0){t.activeTexture(33984+re),n.pixelStorei(37440,I.flipY),n.pixelStorei(37441,I.premultiplyAlpha),n.pixelStorei(3317,I.unpackAlignment),n.pixelStorei(37443,0);const Oe=I.isCompressedTexture||I.image[0].isCompressedTexture,De=I.image[0]&&I.image[0].isDataTexture,ge=[];for(let fe=0;fe<6;fe++)!Oe&&!De?ge[fe]=S(I.image[fe],!1,!0,c):ge[fe]=De?I.image[fe].image:I.image[fe],ge[fe]=Te(I,ge[fe]);const Ze=ge[0],He=M(Ze)||a,je=s.convert(I.format,I.encoding),Ve=s.convert(I.type),Ne=C(I.internalFormat,je,Ve,I.encoding),Q=a&&I.isVideoTexture!==!0,Ae=ke.__version===void 0||pe===!0;let Je=P(I,Ze,He);Z(34067,I,He);let K;if(Oe){Q&&Ae&&t.texStorage2D(34067,Je,Ne,Ze.width,Ze.height);for(let fe=0;fe<6;fe++){K=ge[fe].mipmaps;for(let Pe=0;Pe<K.length;Pe++){const Ke=K[Pe];I.format!==oi?je!==null?Q?t.compressedTexSubImage2D(34069+fe,Pe,0,0,Ke.width,Ke.height,je,Ke.data):t.compressedTexImage2D(34069+fe,Pe,Ne,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Q?t.texSubImage2D(34069+fe,Pe,0,0,Ke.width,Ke.height,je,Ve,Ke.data):t.texImage2D(34069+fe,Pe,Ne,Ke.width,Ke.height,0,je,Ve,Ke.data)}}}else{K=I.mipmaps,Q&&Ae&&(K.length>0&&Je++,t.texStorage2D(34067,Je,Ne,ge[0].width,ge[0].height));for(let fe=0;fe<6;fe++)if(De){Q?t.texSubImage2D(34069+fe,0,0,0,ge[fe].width,ge[fe].height,je,Ve,ge[fe].data):t.texImage2D(34069+fe,0,Ne,ge[fe].width,ge[fe].height,0,je,Ve,ge[fe].data);for(let Pe=0;Pe<K.length;Pe++){const tt=K[Pe].image[fe].image;Q?t.texSubImage2D(34069+fe,Pe+1,0,0,tt.width,tt.height,je,Ve,tt.data):t.texImage2D(34069+fe,Pe+1,Ne,tt.width,tt.height,0,je,Ve,tt.data)}}else{Q?t.texSubImage2D(34069+fe,0,0,0,je,Ve,ge[fe]):t.texImage2D(34069+fe,0,Ne,je,Ve,ge[fe]);for(let Pe=0;Pe<K.length;Pe++){const Ke=K[Pe];Q?t.texSubImage2D(34069+fe,Pe+1,0,0,je,Ve,Ke.image[fe]):t.texImage2D(34069+fe,Pe+1,Ne,je,Ve,Ke.image[fe])}}}T(I,He)&&R(34067),ke.__version=Le.version,I.onUpdate&&I.onUpdate(I)}U.__version=I.version}function xe(U,I,re,pe,Le){const ke=s.convert(re.format,re.encoding),Oe=s.convert(re.type),De=C(re.internalFormat,ke,Oe,re.encoding);r.get(I).__hasExternalTextures||(Le===32879||Le===35866?t.texImage3D(Le,0,De,I.width,I.height,I.depth,0,ke,Oe,null):t.texImage2D(Le,0,De,I.width,I.height,0,ke,Oe,null)),t.bindFramebuffer(36160,U),Fe(I)?p.framebufferTexture2DMultisampleEXT(36160,pe,Le,r.get(re).__webglTexture,0,ye(I)):(Le===3553||Le>=34069&&Le<=34074)&&n.framebufferTexture2D(36160,pe,Le,r.get(re).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ce(U,I,re){if(n.bindRenderbuffer(36161,U),I.depthBuffer&&!I.stencilBuffer){let pe=33189;if(re||Fe(I)){const Le=I.depthTexture;Le&&Le.isDepthTexture&&(Le.type===Mo?pe=36012:Le.type===va&&(pe=33190));const ke=ye(I);Fe(I)?p.renderbufferStorageMultisampleEXT(36161,ke,pe,I.width,I.height):n.renderbufferStorageMultisample(36161,ke,pe,I.width,I.height)}else n.renderbufferStorage(36161,pe,I.width,I.height);n.framebufferRenderbuffer(36160,36096,36161,U)}else if(I.depthBuffer&&I.stencilBuffer){const pe=ye(I);re&&Fe(I)===!1?n.renderbufferStorageMultisample(36161,pe,35056,I.width,I.height):Fe(I)?p.renderbufferStorageMultisampleEXT(36161,pe,35056,I.width,I.height):n.renderbufferStorage(36161,34041,I.width,I.height),n.framebufferRenderbuffer(36160,33306,36161,U)}else{const pe=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let Le=0;Le<pe.length;Le++){const ke=pe[Le],Oe=s.convert(ke.format,ke.encoding),De=s.convert(ke.type),ge=C(ke.internalFormat,Oe,De,ke.encoding),Ze=ye(I);re&&Fe(I)===!1?n.renderbufferStorageMultisample(36161,Ze,ge,I.width,I.height):Fe(I)?p.renderbufferStorageMultisampleEXT(36161,Ze,ge,I.width,I.height):n.renderbufferStorage(36161,ge,I.width,I.height)}}n.bindRenderbuffer(36161,null)}function q(U,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,U),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),J(I.depthTexture,0);const pe=r.get(I.depthTexture).__webglTexture,Le=ye(I);if(I.depthTexture.format===ba)Fe(I)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,pe,0,Le):n.framebufferTexture2D(36160,36096,3553,pe,0);else if(I.depthTexture.format===Yl)Fe(I)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,pe,0,Le):n.framebufferTexture2D(36160,33306,3553,pe,0);else throw new Error("Unknown depthTexture format")}function de(U){const I=r.get(U),re=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture&&!I.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");q(I.__webglFramebuffer,U)}else if(re){I.__webglDepthbuffer=[];for(let pe=0;pe<6;pe++)t.bindFramebuffer(36160,I.__webglFramebuffer[pe]),I.__webglDepthbuffer[pe]=n.createRenderbuffer(),Ce(I.__webglDepthbuffer[pe],U,!1)}else t.bindFramebuffer(36160,I.__webglFramebuffer),I.__webglDepthbuffer=n.createRenderbuffer(),Ce(I.__webglDepthbuffer,U,!1);t.bindFramebuffer(36160,null)}function Be(U,I,re){const pe=r.get(U);I!==void 0&&xe(pe.__webglFramebuffer,U,U.texture,36064,3553),re!==void 0&&de(U)}function we(U){const I=U.texture,re=r.get(U),pe=r.get(I);U.addEventListener("dispose",G),U.isWebGLMultipleRenderTargets!==!0&&(pe.__webglTexture===void 0&&(pe.__webglTexture=n.createTexture()),pe.__version=I.version,o.memory.textures++);const Le=U.isWebGLCubeRenderTarget===!0,ke=U.isWebGLMultipleRenderTargets===!0,Oe=M(U)||a;if(Le){re.__webglFramebuffer=[];for(let De=0;De<6;De++)re.__webglFramebuffer[De]=n.createFramebuffer()}else{if(re.__webglFramebuffer=n.createFramebuffer(),ke)if(i.drawBuffers){const De=U.texture;for(let ge=0,Ze=De.length;ge<Ze;ge++){const He=r.get(De[ge]);He.__webglTexture===void 0&&(He.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&U.samples>0&&Fe(U)===!1){const De=ke?I:[I];re.__webglMultisampledFramebuffer=n.createFramebuffer(),re.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,re.__webglMultisampledFramebuffer);for(let ge=0;ge<De.length;ge++){const Ze=De[ge];re.__webglColorRenderbuffer[ge]=n.createRenderbuffer(),n.bindRenderbuffer(36161,re.__webglColorRenderbuffer[ge]);const He=s.convert(Ze.format,Ze.encoding),je=s.convert(Ze.type),Ve=C(Ze.internalFormat,He,je,Ze.encoding,U.isXRRenderTarget===!0),Ne=ye(U);n.renderbufferStorageMultisample(36161,Ne,Ve,U.width,U.height),n.framebufferRenderbuffer(36160,36064+ge,36161,re.__webglColorRenderbuffer[ge])}n.bindRenderbuffer(36161,null),U.depthBuffer&&(re.__webglDepthRenderbuffer=n.createRenderbuffer(),Ce(re.__webglDepthRenderbuffer,U,!0)),t.bindFramebuffer(36160,null)}}if(Le){t.bindTexture(34067,pe.__webglTexture),Z(34067,I,Oe);for(let De=0;De<6;De++)xe(re.__webglFramebuffer[De],U,I,36064,34069+De);T(I,Oe)&&R(34067),t.unbindTexture()}else if(ke){const De=U.texture;for(let ge=0,Ze=De.length;ge<Ze;ge++){const He=De[ge],je=r.get(He);t.bindTexture(3553,je.__webglTexture),Z(3553,He,Oe),xe(re.__webglFramebuffer,U,He,36064+ge,3553),T(He,Oe)&&R(3553)}t.unbindTexture()}else{let De=3553;(U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(a?De=U.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(De,pe.__webglTexture),Z(De,I,Oe),xe(re.__webglFramebuffer,U,I,36064,De),T(I,Oe)&&R(De),t.unbindTexture()}U.depthBuffer&&de(U)}function Se(U){const I=M(U)||a,re=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let pe=0,Le=re.length;pe<Le;pe++){const ke=re[pe];if(T(ke,I)){const Oe=U.isWebGLCubeRenderTarget?34067:3553,De=r.get(ke).__webglTexture;t.bindTexture(Oe,De),R(Oe),t.unbindTexture()}}}function We(U){if(a&&U.samples>0&&Fe(U)===!1){const I=U.isWebGLMultipleRenderTargets?U.texture:[U.texture],re=U.width,pe=U.height;let Le=16384;const ke=[],Oe=U.stencilBuffer?33306:36096,De=r.get(U),ge=U.isWebGLMultipleRenderTargets===!0;if(ge)for(let Ze=0;Ze<I.length;Ze++)t.bindFramebuffer(36160,De.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ze,36161,null),t.bindFramebuffer(36160,De.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ze,3553,null,0);t.bindFramebuffer(36008,De.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,De.__webglFramebuffer);for(let Ze=0;Ze<I.length;Ze++){ke.push(36064+Ze),U.depthBuffer&&ke.push(Oe);const He=De.__ignoreDepthValues!==void 0?De.__ignoreDepthValues:!1;if(He===!1&&(U.depthBuffer&&(Le|=256),U.stencilBuffer&&(Le|=1024)),ge&&n.framebufferRenderbuffer(36008,36064,36161,De.__webglColorRenderbuffer[Ze]),He===!0&&(n.invalidateFramebuffer(36008,[Oe]),n.invalidateFramebuffer(36009,[Oe])),ge){const je=r.get(I[Ze]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,je,0)}n.blitFramebuffer(0,0,re,pe,0,0,re,pe,Le,9728),m&&n.invalidateFramebuffer(36008,ke)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ge)for(let Ze=0;Ze<I.length;Ze++){t.bindFramebuffer(36160,De.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ze,36161,De.__webglColorRenderbuffer[Ze]);const He=r.get(I[Ze]).__webglTexture;t.bindFramebuffer(36160,De.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ze,3553,He,0)}t.bindFramebuffer(36009,De.__webglMultisampledFramebuffer)}}function ye(U){return Math.min(d,U.samples)}function Fe(U){const I=r.get(U);return a&&U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function Ue(U){const I=o.render.frame;g.get(U)!==I&&(g.set(U,I),U.update())}function Te(U,I){const re=U.encoding,pe=U.format,Le=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||U.format===u2||re!==Ia&&(re===rn?a===!1?e.has("EXT_sRGB")===!0&&pe===oi?(U.format=u2,U.minFilter=fn,U.generateMipmaps=!1):I=ug.sRGBToLinear(I):(pe!==oi||Le!==Fo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",re)),I}this.allocateTextureUnit=k,this.resetTextureUnits=ue,this.setTexture2D=J,this.setTexture2DArray=D,this.setTexture3D=O,this.setTextureCube=ie,this.rebindTextures=Be,this.setupRenderTarget=we,this.updateRenderTargetMipmap=Se,this.updateMultisampleRenderTarget=We,this.setupDepthRenderbuffer=de,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=Fe}function oC(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===Fo)return 5121;if(s===BM)return 32819;if(s===PM)return 32820;if(s===bM)return 5120;if(s===TM)return 5122;if(s===sg)return 5123;if(s===RM)return 5124;if(s===va)return 5125;if(s===Mo)return 5126;if(s===Wu)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===LM)return 6406;if(s===oi)return 6408;if(s===DM)return 6409;if(s===FM)return 6410;if(s===ba)return 6402;if(s===Yl)return 34041;if(s===IM)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===u2)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===kM)return 6403;if(s===OM)return 36244;if(s===NM)return 33319;if(s===UM)return 33320;if(s===zM)return 36249;if(s===_p||s===wp||s===Sp||s===Ap)if(o===rn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===_p)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===wp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Sp)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Ap)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===_p)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===wp)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Sp)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Ap)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===s8||s===o8||s===a8||s===l8)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===s8)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===o8)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===a8)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===l8)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===GM)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===c8||s===u8)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===c8)return o===rn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===u8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===f8||s===d8||s===h8||s===p8||s===m8||s===g8||s===v8||s===y8||s===x8||s===_8||s===w8||s===S8||s===A8||s===M8)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===f8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===d8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===h8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===p8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===m8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===g8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===v8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===y8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===x8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===_8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===w8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===S8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===A8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===M8)return o===rn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===C8)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===C8)return o===rn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Fl?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class aC extends wn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Eo extends xt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const dU={type:"move"};class um{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Eo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Eo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Eo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const y=t.getJointPose(v,r),x=this._getHandJoint(c,v);y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=y.radius),x.visible=y!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=u.position.distanceTo(d.position),m=.02,g=.005;c.inputState.pinching&&p>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(dU)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Eo;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class lC extends on{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:ba,u!==ba&&u!==Yl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===ba&&(r=va),r===void 0&&u===Yl&&(r=Fl),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Tn,this.minFilter=l!==void 0?l:Tn,this.flipY=!1,this.generateMipmaps=!1}}class hU extends Ks{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,d=null,p=null,m=null;const g=t.getContextAttributes();let v=null,y=null;const x=[],_=[],S=new Set,M=new Map,b=new wn;b.layers.enable(1),b.viewport=new Kt;const T=new wn;T.layers.enable(2),T.viewport=new Kt;const R=[b,T],C=new aC;C.layers.enable(1),C.layers.enable(2);let P=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(D){let O=x[D];return O===void 0&&(O=new um,x[D]=O),O.getTargetRaySpace()},this.getControllerGrip=function(D){let O=x[D];return O===void 0&&(O=new um,x[D]=O),O.getGripSpace()},this.getHand=function(D){let O=x[D];return O===void 0&&(O=new um,x[D]=O),O.getHandSpace()};function z(D){const O=_.indexOf(D.inputSource);if(O===-1)return;const ie=x[O];ie!==void 0&&ie.dispatchEvent({type:D.type,data:D.inputSource})}function G(){i.removeEventListener("select",z),i.removeEventListener("selectstart",z),i.removeEventListener("selectend",z),i.removeEventListener("squeeze",z),i.removeEventListener("squeezestart",z),i.removeEventListener("squeezeend",z),i.removeEventListener("end",G),i.removeEventListener("inputsourceschange",V);for(let D=0;D<x.length;D++){const O=_[D];O!==null&&(_[D]=null,x[D].disconnect(O))}P=null,L=null,e.setRenderTarget(v),p=null,d=null,u=null,i=null,y=null,J.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(D){s=D,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(D){a=D,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(D){l=D},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return u},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(D){if(i=D,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",z),i.addEventListener("selectstart",z),i.addEventListener("selectend",z),i.addEventListener("squeeze",z),i.addEventListener("squeezestart",z),i.addEventListener("squeezeend",z),i.addEventListener("end",G),i.addEventListener("inputsourceschange",V),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const O={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,t,O),i.updateRenderState({baseLayer:p}),y=new rs(p.framebufferWidth,p.framebufferHeight,{format:oi,type:Fo,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let O=null,ie=null,$=null;g.depth&&($=g.stencil?35056:33190,O=g.stencil?Yl:ba,ie=g.stencil?Fl:va);const te={colorFormat:32856,depthFormat:$,scaleFactor:s};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(te),i.updateRenderState({layers:[d]}),y=new rs(d.textureWidth,d.textureHeight,{format:oi,type:Fo,depthTexture:new lC(d.textureWidth,d.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,O),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const Z=e.properties.get(y);Z.__ignoreDepthValues=d.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),J.setContext(i),J.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function V(D){for(let O=0;O<D.removed.length;O++){const ie=D.removed[O],$=_.indexOf(ie);$>=0&&(_[$]=null,x[$].disconnect(ie))}for(let O=0;O<D.added.length;O++){const ie=D.added[O];let $=_.indexOf(ie);if($===-1){for(let Z=0;Z<x.length;Z++)if(Z>=_.length){_.push(ie),$=Z;break}else if(_[Z]===null){_[Z]=ie,$=Z;break}if($===-1)break}const te=x[$];te&&te.connect(ie)}}const H=new N,Y=new N;function ee(D,O,ie){H.setFromMatrixPosition(O.matrixWorld),Y.setFromMatrixPosition(ie.matrixWorld);const $=H.distanceTo(Y),te=O.projectionMatrix.elements,Z=ie.projectionMatrix.elements,ne=te[14]/(te[10]-1),he=te[14]/(te[10]+1),Me=(te[9]+1)/te[5],xe=(te[9]-1)/te[5],Ce=(te[8]-1)/te[0],q=(Z[8]+1)/Z[0],de=ne*Ce,Be=ne*q,we=$/(-Ce+q),Se=we*-Ce;O.matrixWorld.decompose(D.position,D.quaternion,D.scale),D.translateX(Se),D.translateZ(we),D.matrixWorld.compose(D.position,D.quaternion,D.scale),D.matrixWorldInverse.copy(D.matrixWorld).invert();const We=ne+we,ye=he+we,Fe=de-Se,Ue=Be+($-Se),Te=Me*he/ye*We,U=xe*he/ye*We;D.projectionMatrix.makePerspective(Fe,Ue,Te,U,We,ye)}function ue(D,O){O===null?D.matrixWorld.copy(D.matrix):D.matrixWorld.multiplyMatrices(O.matrixWorld,D.matrix),D.matrixWorldInverse.copy(D.matrixWorld).invert()}this.updateCamera=function(D){if(i===null)return;C.near=T.near=b.near=D.near,C.far=T.far=b.far=D.far,(P!==C.near||L!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),P=C.near,L=C.far);const O=D.parent,ie=C.cameras;ue(C,O);for(let te=0;te<ie.length;te++)ue(ie[te],O);C.matrixWorld.decompose(C.position,C.quaternion,C.scale),D.matrix.copy(C.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale);const $=D.children;for(let te=0,Z=$.length;te<Z;te++)$[te].updateMatrixWorld(!0);ie.length===2?ee(C,b,T):C.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return C},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(p!==null)return p.fixedFoveation},this.setFoveation=function(D){d!==null&&(d.fixedFoveation=D),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=D)},this.getPlanes=function(){return S};let k=null;function W(D,O){if(c=O.getViewerPose(l||o),m=O,c!==null){const ie=c.views;p!==null&&(e.setRenderTargetFramebuffer(y,p.framebuffer),e.setRenderTarget(y));let $=!1;ie.length!==C.cameras.length&&(C.cameras.length=0,$=!0);for(let te=0;te<ie.length;te++){const Z=ie[te];let ne=null;if(p!==null)ne=p.getViewport(Z);else{const Me=u.getViewSubImage(d,Z);ne=Me.viewport,te===0&&(e.setRenderTargetTextures(y,Me.colorTexture,d.ignoreDepthValues?void 0:Me.depthStencilTexture),e.setRenderTarget(y))}let he=R[te];he===void 0&&(he=new wn,he.layers.enable(te),he.viewport=new Kt,R[te]=he),he.matrix.fromArray(Z.transform.matrix),he.projectionMatrix.fromArray(Z.projectionMatrix),he.viewport.set(ne.x,ne.y,ne.width,ne.height),te===0&&C.matrix.copy(he.matrix),$===!0&&C.cameras.push(he)}}for(let ie=0;ie<x.length;ie++){const $=_[ie],te=x[ie];$!==null&&te!==void 0&&te.update($,O,l||o)}if(k&&k(D,O),O.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:O.detectedPlanes});let ie=null;for(const $ of S)O.detectedPlanes.has($)||(ie===null&&(ie=[]),ie.push($));if(ie!==null)for(const $ of ie)S.delete($),M.delete($),r.dispatchEvent({type:"planeremoved",data:$});for(const $ of O.detectedPlanes)if(!S.has($))S.add($),M.set($,O.lastChangedTime),r.dispatchEvent({type:"planeadded",data:$});else{const te=M.get($);$.lastChangedTime>te&&(M.set($,$.lastChangedTime),r.dispatchEvent({type:"planechanged",data:$}))}}m=null}const J=new tC;J.setAnimationLoop(W),this.setAnimationLoop=function(D){k=D},this.dispose=function(){}}}function pU(n,e){function t(v,y){y.color.getRGB(v.fogColor.value,qM(n)),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,x,_,S){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),u(v,y)):y.isMeshPhongMaterial?(i(v,y),c(v,y)):y.isMeshStandardMaterial?(i(v,y),d(v,y),y.isMeshPhysicalMaterial&&p(v,y,S)):y.isMeshMatcapMaterial?(i(v,y),m(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),g(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(s(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?a(v,y,x,_):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===Zr&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===Zr&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const x=e.get(y).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const M=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*M}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let _;y.map?_=y.map:y.specularMap?_=y.specularMap:y.displacementMap?_=y.displacementMap:y.normalMap?_=y.normalMap:y.bumpMap?_=y.bumpMap:y.roughnessMap?_=y.roughnessMap:y.metalnessMap?_=y.metalnessMap:y.alphaMap?_=y.alphaMap:y.emissiveMap?_=y.emissiveMap:y.clearcoatMap?_=y.clearcoatMap:y.clearcoatNormalMap?_=y.clearcoatNormalMap:y.clearcoatRoughnessMap?_=y.clearcoatRoughnessMap:y.iridescenceMap?_=y.iridescenceMap:y.iridescenceThicknessMap?_=y.iridescenceThicknessMap:y.specularIntensityMap?_=y.specularIntensityMap:y.specularColorMap?_=y.specularColorMap:y.transmissionMap?_=y.transmissionMap:y.thicknessMap?_=y.thicknessMap:y.sheenColorMap?_=y.sheenColorMap:y.sheenRoughnessMap&&(_=y.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix));let S;y.aoMap?S=y.aoMap:y.lightMap&&(S=y.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uv2Transform.value.copy(S.matrix))}function s(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function a(v,y,x,_){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*x,v.scale.value=_*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let S;y.map?S=y.map:y.alphaMap&&(S=y.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uvTransform.value.copy(S.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function c(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function u(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function d(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function p(v,y,x){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===Zr&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function m(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function mU(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,S){const M=S.program;r.uniformBlockBinding(_,M)}function c(_,S){let M=i[_.id];M===void 0&&(g(_),M=u(_),i[_.id]=M,_.addEventListener("dispose",y));const b=S.program;r.updateUBOMapping(_,b);const T=e.render.frame;s[_.id]!==T&&(p(_),s[_.id]=T)}function u(_){const S=d();_.__bindingPointIndex=S;const M=n.createBuffer(),b=_.__size,T=_.usage;return n.bindBuffer(35345,M),n.bufferData(35345,b,T),n.bindBuffer(35345,null),n.bindBufferBase(35345,S,M),M}function d(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(_){const S=i[_.id],M=_.uniforms,b=_.__cache;n.bindBuffer(35345,S);for(let T=0,R=M.length;T<R;T++){const C=M[T];if(m(C,T,b)===!0){const P=C.__offset,L=Array.isArray(C.value)?C.value:[C.value];let z=0;for(let G=0;G<L.length;G++){const V=L[G],H=v(V);typeof V=="number"?(C.__data[0]=V,n.bufferSubData(35345,P+z,C.__data)):V.isMatrix3?(C.__data[0]=V.elements[0],C.__data[1]=V.elements[1],C.__data[2]=V.elements[2],C.__data[3]=V.elements[0],C.__data[4]=V.elements[3],C.__data[5]=V.elements[4],C.__data[6]=V.elements[5],C.__data[7]=V.elements[0],C.__data[8]=V.elements[6],C.__data[9]=V.elements[7],C.__data[10]=V.elements[8],C.__data[11]=V.elements[0]):(V.toArray(C.__data,z),z+=H.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(35345,P,C.__data)}}n.bindBuffer(35345,null)}function m(_,S,M){const b=_.value;if(M[S]===void 0){if(typeof b=="number")M[S]=b;else{const T=Array.isArray(b)?b:[b],R=[];for(let C=0;C<T.length;C++)R.push(T[C].clone());M[S]=R}return!0}else if(typeof b=="number"){if(M[S]!==b)return M[S]=b,!0}else{const T=Array.isArray(M[S])?M[S]:[M[S]],R=Array.isArray(b)?b:[b];for(let C=0;C<T.length;C++){const P=T[C];if(P.equals(R[C])===!1)return P.copy(R[C]),!0}}return!1}function g(_){const S=_.uniforms;let M=0;const b=16;let T=0;for(let R=0,C=S.length;R<C;R++){const P=S[R],L={boundary:0,storage:0},z=Array.isArray(P.value)?P.value:[P.value];for(let G=0,V=z.length;G<V;G++){const H=z[G],Y=v(H);L.boundary+=Y.boundary,L.storage+=Y.storage}if(P.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=M,R>0){T=M%b;const G=b-T;T!==0&&G-L.boundary<0&&(M+=b-T,P.__offset=M)}M+=L.storage}return T=M%b,T>0&&(M+=b-T),_.__size=M,_.__cache={},this}function v(_){const S={boundary:0,storage:0};return typeof _=="number"?(S.boundary=4,S.storage=4):_.isVector2?(S.boundary=8,S.storage=8):_.isVector3||_.isColor?(S.boundary=16,S.storage=12):_.isVector4?(S.boundary=16,S.storage=16):_.isMatrix3?(S.boundary=48,S.storage=48):_.isMatrix4?(S.boundary=64,S.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),S}function y(_){const S=_.target;S.removeEventListener("dispose",y);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function x(){for(const _ in i)n.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:x}}function gU(){const n=ph("canvas");return n.style.display="block",n}function pg(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:gU(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let d=null,p=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ia,this.physicallyCorrectLights=!1,this.toneMapping=xs,this.toneMappingExposure=1;const v=this;let y=!1,x=0,_=0,S=null,M=-1,b=null;const T=new Kt,R=new Kt;let C=null,P=e.width,L=e.height,z=1,G=null,V=null;const H=new Kt(0,0,P,L),Y=new Kt(0,0,P,L);let ee=!1;const ue=new Z2;let k=!1,W=!1,J=null;const D=new dt,O=new Re,ie=new N,$={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function te(){return S===null?z:1}let Z=t;function ne(j,ce){for(let ve=0;ve<j.length;ve++){const le=j[ve],be=e.getContext(le,ce);if(be!==null)return be}return null}try{const j={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Bh}`),e.addEventListener("webglcontextlost",Ve,!1),e.addEventListener("webglcontextrestored",Ne,!1),e.addEventListener("webglcontextcreationerror",Q,!1),Z===null){const ce=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&ce.shift(),Z=ne(ce,j),Z===null)throw ne(ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Z.getShaderPrecisionFormat===void 0&&(Z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(j){throw console.error("THREE.WebGLRenderer: "+j.message),j}let he,Me,xe,Ce,q,de,Be,we,Se,We,ye,Fe,Ue,Te,U,I,re,pe,Le,ke,Oe,De,ge,Ze;function He(){he=new LO(Z),Me=new EO(Z,he,n),he.init(Me),De=new oC(Z,he,Me),xe=new uU(Z,he,Me),Ce=new FO,q=new qN,de=new fU(Z,he,xe,q,Me,De,Ce),Be=new TO(v),we=new PO(v),Se=new WD(Z,Me),ge=new MO(Z,he,Se,Me),We=new IO(Z,Se,Ce,ge),ye=new UO(Z,We,Se,Ce),Le=new NO(Z,Me,de),I=new bO(q),Fe=new QN(v,Be,we,he,Me,ge,I),Ue=new pU(v,q),Te=new eU,U=new oU(he,Me),pe=new AO(v,Be,we,xe,ye,u,o),re=new cU(v,ye,Me),Ze=new mU(Z,Ce,Me,xe),ke=new CO(Z,he,Ce,Me),Oe=new DO(Z,he,Ce,Me),Ce.programs=Fe.programs,v.capabilities=Me,v.extensions=he,v.properties=q,v.renderLists=Te,v.shadowMap=re,v.state=xe,v.info=Ce}He();const je=new hU(v,Z);this.xr=je,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const j=he.get("WEBGL_lose_context");j&&j.loseContext()},this.forceContextRestore=function(){const j=he.get("WEBGL_lose_context");j&&j.restoreContext()},this.getPixelRatio=function(){return z},this.setPixelRatio=function(j){j!==void 0&&(z=j,this.setSize(P,L,!1))},this.getSize=function(j){return j.set(P,L)},this.setSize=function(j,ce,ve){if(je.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}P=j,L=ce,e.width=Math.floor(j*z),e.height=Math.floor(ce*z),ve!==!1&&(e.style.width=j+"px",e.style.height=ce+"px"),this.setViewport(0,0,j,ce)},this.getDrawingBufferSize=function(j){return j.set(P*z,L*z).floor()},this.setDrawingBufferSize=function(j,ce,ve){P=j,L=ce,z=ve,e.width=Math.floor(j*ve),e.height=Math.floor(ce*ve),this.setViewport(0,0,j,ce)},this.getCurrentViewport=function(j){return j.copy(T)},this.getViewport=function(j){return j.copy(H)},this.setViewport=function(j,ce,ve,le){j.isVector4?H.set(j.x,j.y,j.z,j.w):H.set(j,ce,ve,le),xe.viewport(T.copy(H).multiplyScalar(z).floor())},this.getScissor=function(j){return j.copy(Y)},this.setScissor=function(j,ce,ve,le){j.isVector4?Y.set(j.x,j.y,j.z,j.w):Y.set(j,ce,ve,le),xe.scissor(R.copy(Y).multiplyScalar(z).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(j){xe.setScissorTest(ee=j)},this.setOpaqueSort=function(j){G=j},this.setTransparentSort=function(j){V=j},this.getClearColor=function(j){return j.copy(pe.getClearColor())},this.setClearColor=function(){pe.setClearColor.apply(pe,arguments)},this.getClearAlpha=function(){return pe.getClearAlpha()},this.setClearAlpha=function(){pe.setClearAlpha.apply(pe,arguments)},this.clear=function(j=!0,ce=!0,ve=!0){let le=0;j&&(le|=16384),ce&&(le|=256),ve&&(le|=1024),Z.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ve,!1),e.removeEventListener("webglcontextrestored",Ne,!1),e.removeEventListener("webglcontextcreationerror",Q,!1),Te.dispose(),U.dispose(),q.dispose(),Be.dispose(),we.dispose(),ye.dispose(),ge.dispose(),Ze.dispose(),Fe.dispose(),je.dispose(),je.removeEventListener("sessionstart",Ke),je.removeEventListener("sessionend",tt),J&&(J.dispose(),J=null),pt.stop()};function Ve(j){j.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function Ne(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const j=Ce.autoReset,ce=re.enabled,ve=re.autoUpdate,le=re.needsUpdate,be=re.type;He(),Ce.autoReset=j,re.enabled=ce,re.autoUpdate=ve,re.needsUpdate=le,re.type=be}function Q(j){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",j.statusMessage)}function Ae(j){const ce=j.target;ce.removeEventListener("dispose",Ae),Je(ce)}function Je(j){K(j),q.remove(j)}function K(j){const ce=q.get(j).programs;ce!==void 0&&(ce.forEach(function(ve){Fe.releaseProgram(ve)}),j.isShaderMaterial&&Fe.releaseShaderCache(j))}this.renderBufferDirect=function(j,ce,ve,le,be,rt){ce===null&&(ce=$);const ct=be.isMesh&&be.matrixWorld.determinant()<0,At=fr(j,ce,ve,le,be);xe.setMaterial(le,ct);let Mt=ve.index,bt=1;le.wireframe===!0&&(Mt=We.getWireframeAttribute(ve),bt=2);const Tt=ve.drawRange,Ft=ve.attributes.position;let an=Tt.start*bt,Un=(Tt.start+Tt.count)*bt;rt!==null&&(an=Math.max(an,rt.start*bt),Un=Math.min(Un,(rt.start+rt.count)*bt)),Mt!==null?(an=Math.max(an,0),Un=Math.min(Un,Mt.count)):Ft!=null&&(an=Math.max(an,0),Un=Math.min(Un,Ft.count));const Or=Un-an;if(Or<0||Or===1/0)return;ge.setup(be,le,At,ve,Mt);let mi,Ye=ke;if(Mt!==null&&(mi=Se.get(Mt),Ye=Oe,Ye.setIndex(mi)),be.isMesh)le.wireframe===!0?(xe.setLineWidth(le.wireframeLinewidth*te()),Ye.setMode(1)):Ye.setMode(4);else if(be.isLine){let ht=le.linewidth;ht===void 0&&(ht=1),xe.setLineWidth(ht*te()),be.isLineSegments?Ye.setMode(1):be.isLineLoop?Ye.setMode(2):Ye.setMode(3)}else be.isPoints?Ye.setMode(0):be.isSprite&&Ye.setMode(4);if(be.isInstancedMesh)Ye.renderInstances(an,Or,be.count);else if(ve.isInstancedBufferGeometry){const ht=ve._maxInstanceCount!==void 0?ve._maxInstanceCount:1/0,qs=Math.min(ve.instanceCount,ht);Ye.renderInstances(an,Or,qs)}else Ye.render(an,Or)},this.compile=function(j,ce){function ve(le,be,rt){le.transparent===!0&&le.side===Sd?(le.side=Zr,le.needsUpdate=!0,St(le,be,rt),le.side=js,le.needsUpdate=!0,St(le,be,rt),le.side=Sd):St(le,be,rt)}p=U.get(j),p.init(),g.push(p),j.traverseVisible(function(le){le.isLight&&le.layers.test(ce.layers)&&(p.pushLight(le),le.castShadow&&p.pushShadow(le))}),p.setupLights(v.physicallyCorrectLights),j.traverse(function(le){const be=le.material;if(be)if(Array.isArray(be))for(let rt=0;rt<be.length;rt++){const ct=be[rt];ve(ct,j,le)}else ve(be,j,le)}),g.pop(),p=null};let fe=null;function Pe(j){fe&&fe(j)}function Ke(){pt.stop()}function tt(){pt.start()}const pt=new tC;pt.setAnimationLoop(Pe),typeof self<"u"&&pt.setContext(self),this.setAnimationLoop=function(j){fe=j,je.setAnimationLoop(j),j===null?pt.stop():pt.start()},je.addEventListener("sessionstart",Ke),je.addEventListener("sessionend",tt),this.render=function(j,ce){if(ce!==void 0&&ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;j.matrixWorldAutoUpdate===!0&&j.updateMatrixWorld(),ce.parent===null&&ce.matrixWorldAutoUpdate===!0&&ce.updateMatrixWorld(),je.enabled===!0&&je.isPresenting===!0&&(je.cameraAutoUpdate===!0&&je.updateCamera(ce),ce=je.getCamera()),j.isScene===!0&&j.onBeforeRender(v,j,ce,S),p=U.get(j,g.length),p.init(),g.push(p),D.multiplyMatrices(ce.projectionMatrix,ce.matrixWorldInverse),ue.setFromProjectionMatrix(D),W=this.localClippingEnabled,k=I.init(this.clippingPlanes,W,ce),d=Te.get(j,m.length),d.init(),m.push(d),mt(j,ce,0,v.sortObjects),d.finish(),v.sortObjects===!0&&d.sort(G,V),k===!0&&I.beginShadows();const ve=p.state.shadowsArray;if(re.render(ve,j,ce),k===!0&&I.endShadows(),this.info.autoReset===!0&&this.info.reset(),pe.render(d,j),p.setupLights(v.physicallyCorrectLights),ce.isArrayCamera){const le=ce.cameras;for(let be=0,rt=le.length;be<rt;be++){const ct=le[be];wt(d,j,ct,ct.viewport)}}else wt(d,j,ce);S!==null&&(de.updateMultisampleRenderTarget(S),de.updateRenderTargetMipmap(S)),j.isScene===!0&&j.onAfterRender(v,j,ce),ge.resetDefaultState(),M=-1,b=null,g.pop(),g.length>0?p=g[g.length-1]:p=null,m.pop(),m.length>0?d=m[m.length-1]:d=null};function mt(j,ce,ve,le){if(j.visible===!1)return;if(j.layers.test(ce.layers)){if(j.isGroup)ve=j.renderOrder;else if(j.isLOD)j.autoUpdate===!0&&j.update(ce);else if(j.isLight)p.pushLight(j),j.castShadow&&p.pushShadow(j);else if(j.isSprite){if(!j.frustumCulled||ue.intersectsSprite(j)){le&&ie.setFromMatrixPosition(j.matrixWorld).applyMatrix4(D);const ct=ye.update(j),At=j.material;At.visible&&d.push(j,ct,At,ve,ie.z,null)}}else if((j.isMesh||j.isLine||j.isPoints)&&(j.isSkinnedMesh&&j.skeleton.frame!==Ce.render.frame&&(j.skeleton.update(),j.skeleton.frame=Ce.render.frame),!j.frustumCulled||ue.intersectsObject(j))){le&&ie.setFromMatrixPosition(j.matrixWorld).applyMatrix4(D);const ct=ye.update(j),At=j.material;if(Array.isArray(At)){const Mt=ct.groups;for(let bt=0,Tt=Mt.length;bt<Tt;bt++){const Ft=Mt[bt],an=At[Ft.materialIndex];an&&an.visible&&d.push(j,ct,an,ve,ie.z,Ft)}}else At.visible&&d.push(j,ct,At,ve,ie.z,null)}}const rt=j.children;for(let ct=0,At=rt.length;ct<At;ct++)mt(rt[ct],ce,ve,le)}function wt(j,ce,ve,le){const be=j.opaque,rt=j.transmissive,ct=j.transparent;p.setupLightsView(ve),rt.length>0&&Dt(be,ce,ve),le&&xe.viewport(T.copy(le)),be.length>0&&Pt(be,ce,ve),rt.length>0&&Pt(rt,ce,ve),ct.length>0&&Pt(ct,ce,ve),xe.buffers.depth.setTest(!0),xe.buffers.depth.setMask(!0),xe.buffers.color.setMask(!0),xe.setPolygonOffset(!1)}function Dt(j,ce,ve){const le=Me.isWebGL2;J===null&&(J=new rs(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")?Wu:Fo,minFilter:Js,samples:le&&s===!0?4:0})),v.getDrawingBufferSize(O),le?J.setSize(O.x,O.y):J.setSize(f2(O.x),f2(O.y));const be=v.getRenderTarget();v.setRenderTarget(J),v.clear();const rt=v.toneMapping;v.toneMapping=xs,Pt(j,ce,ve),v.toneMapping=rt,de.updateMultisampleRenderTarget(J),de.updateRenderTargetMipmap(J),v.setRenderTarget(be)}function Pt(j,ce,ve){const le=ce.isScene===!0?ce.overrideMaterial:null;for(let be=0,rt=j.length;be<rt;be++){const ct=j[be],At=ct.object,Mt=ct.geometry,bt=le===null?ct.material:le,Tt=ct.group;At.layers.test(ve.layers)&&Et(At,ce,ve,Mt,bt,Tt)}}function Et(j,ce,ve,le,be,rt){j.onBeforeRender(v,ce,ve,le,be,rt),j.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,j.matrixWorld),j.normalMatrix.getNormalMatrix(j.modelViewMatrix),be.onBeforeRender(v,ce,ve,le,j,rt),be.transparent===!0&&be.side===Sd?(be.side=Zr,be.needsUpdate=!0,v.renderBufferDirect(ve,ce,le,be,j,rt),be.side=js,be.needsUpdate=!0,v.renderBufferDirect(ve,ce,le,be,j,rt),be.side=Sd):v.renderBufferDirect(ve,ce,le,be,j,rt),j.onAfterRender(v,ce,ve,le,be,rt)}function St(j,ce,ve){ce.isScene!==!0&&(ce=$);const le=q.get(j),be=p.state.lights,rt=p.state.shadowsArray,ct=be.state.version,At=Fe.getParameters(j,be.state,rt,ce,ve),Mt=Fe.getProgramCacheKey(At);let bt=le.programs;le.environment=j.isMeshStandardMaterial?ce.environment:null,le.fog=ce.fog,le.envMap=(j.isMeshStandardMaterial?we:Be).get(j.envMap||le.environment),bt===void 0&&(j.addEventListener("dispose",Ae),bt=new Map,le.programs=bt);let Tt=bt.get(Mt);if(Tt!==void 0){if(le.currentProgram===Tt&&le.lightsStateVersion===ct)return _r(j,At),Tt}else At.uniforms=Fe.getUniforms(j),j.onBuild(ve,At,v),j.onBeforeCompile(At,v),Tt=Fe.acquireProgram(At,Mt),bt.set(Mt,Tt),le.uniforms=At.uniforms;const Ft=le.uniforms;(!j.isShaderMaterial&&!j.isRawShaderMaterial||j.clipping===!0)&&(Ft.clippingPlanes=I.uniform),_r(j,At),le.needsLights=yn(j),le.lightsStateVersion=ct,le.needsLights&&(Ft.ambientLightColor.value=be.state.ambient,Ft.lightProbe.value=be.state.probe,Ft.directionalLights.value=be.state.directional,Ft.directionalLightShadows.value=be.state.directionalShadow,Ft.spotLights.value=be.state.spot,Ft.spotLightShadows.value=be.state.spotShadow,Ft.rectAreaLights.value=be.state.rectArea,Ft.ltc_1.value=be.state.rectAreaLTC1,Ft.ltc_2.value=be.state.rectAreaLTC2,Ft.pointLights.value=be.state.point,Ft.pointLightShadows.value=be.state.pointShadow,Ft.hemisphereLights.value=be.state.hemi,Ft.directionalShadowMap.value=be.state.directionalShadowMap,Ft.directionalShadowMatrix.value=be.state.directionalShadowMatrix,Ft.spotShadowMap.value=be.state.spotShadowMap,Ft.spotLightMatrix.value=be.state.spotLightMatrix,Ft.spotLightMap.value=be.state.spotLightMap,Ft.pointShadowMap.value=be.state.pointShadowMap,Ft.pointShadowMatrix.value=be.state.pointShadowMatrix);const an=Tt.getUniforms(),Un=Tp.seqWithValue(an.seq,Ft);return le.currentProgram=Tt,le.uniformsList=Un,Tt}function _r(j,ce){const ve=q.get(j);ve.outputEncoding=ce.outputEncoding,ve.instancing=ce.instancing,ve.skinning=ce.skinning,ve.morphTargets=ce.morphTargets,ve.morphNormals=ce.morphNormals,ve.morphColors=ce.morphColors,ve.morphTargetsCount=ce.morphTargetsCount,ve.numClippingPlanes=ce.numClippingPlanes,ve.numIntersection=ce.numClipIntersection,ve.vertexAlphas=ce.vertexAlphas,ve.vertexTangents=ce.vertexTangents,ve.toneMapping=ce.toneMapping}function fr(j,ce,ve,le,be){ce.isScene!==!0&&(ce=$),de.resetTextureUnits();const rt=ce.fog,ct=le.isMeshStandardMaterial?ce.environment:null,At=S===null?v.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:Ia,Mt=(le.isMeshStandardMaterial?we:Be).get(le.envMap||ct),bt=le.vertexColors===!0&&!!ve.attributes.color&&ve.attributes.color.itemSize===4,Tt=!!le.normalMap&&!!ve.attributes.tangent,Ft=!!ve.morphAttributes.position,an=!!ve.morphAttributes.normal,Un=!!ve.morphAttributes.color,Or=le.toneMapped?v.toneMapping:xs,mi=ve.morphAttributes.position||ve.morphAttributes.normal||ve.morphAttributes.color,Ye=mi!==void 0?mi.length:0,ht=q.get(le),qs=p.state.lights;if(k===!0&&(W===!0||j!==b)){const zt=j===b&&le.id===M;I.setState(le,j,zt)}let qt=!1;le.version===ht.__version?(ht.needsLights&&ht.lightsStateVersion!==qs.state.version||ht.outputEncoding!==At||be.isInstancedMesh&&ht.instancing===!1||!be.isInstancedMesh&&ht.instancing===!0||be.isSkinnedMesh&&ht.skinning===!1||!be.isSkinnedMesh&&ht.skinning===!0||ht.envMap!==Mt||le.fog===!0&&ht.fog!==rt||ht.numClippingPlanes!==void 0&&(ht.numClippingPlanes!==I.numPlanes||ht.numIntersection!==I.numIntersection)||ht.vertexAlphas!==bt||ht.vertexTangents!==Tt||ht.morphTargets!==Ft||ht.morphNormals!==an||ht.morphColors!==Un||ht.toneMapping!==Or||Me.isWebGL2===!0&&ht.morphTargetsCount!==Ye)&&(qt=!0):(qt=!0,ht.__version=le.version);let Di=ht.currentProgram;qt===!0&&(Di=St(le,ce,be));let Cs=!1,dr=!1,hr=!1;const gt=Di.getUniforms(),Lt=ht.uniforms;if(xe.useProgram(Di.program)&&(Cs=!0,dr=!0,hr=!0),le.id!==M&&(M=le.id,dr=!0),Cs||b!==j){if(gt.setValue(Z,"projectionMatrix",j.projectionMatrix),Me.logarithmicDepthBuffer&&gt.setValue(Z,"logDepthBufFC",2/(Math.log(j.far+1)/Math.LN2)),b!==j&&(b=j,dr=!0,hr=!0),le.isShaderMaterial||le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshStandardMaterial||le.envMap){const zt=gt.map.cameraPosition;zt!==void 0&&zt.setValue(Z,ie.setFromMatrixPosition(j.matrixWorld))}(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&gt.setValue(Z,"isOrthographic",j.isOrthographicCamera===!0),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial||le.isShadowMaterial||be.isSkinnedMesh)&&gt.setValue(Z,"viewMatrix",j.matrixWorldInverse)}if(be.isSkinnedMesh){gt.setOptional(Z,be,"bindMatrix"),gt.setOptional(Z,be,"bindMatrixInverse");const zt=be.skeleton;zt&&(Me.floatVertexTextures?(zt.boneTexture===null&&zt.computeBoneTexture(),gt.setValue(Z,"boneTexture",zt.boneTexture,de),gt.setValue(Z,"boneTextureSize",zt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Nr=ve.morphAttributes;if((Nr.position!==void 0||Nr.normal!==void 0||Nr.color!==void 0&&Me.isWebGL2===!0)&&Le.update(be,ve,le,Di),(dr||ht.receiveShadow!==be.receiveShadow)&&(ht.receiveShadow=be.receiveShadow,gt.setValue(Z,"receiveShadow",be.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(Lt.envMap.value=Mt,Lt.flipEnvMap.value=Mt.isCubeTexture&&Mt.isRenderTargetTexture===!1?-1:1),dr&&(gt.setValue(Z,"toneMappingExposure",v.toneMappingExposure),ht.needsLights&&jt(Lt,hr),rt&&le.fog===!0&&Ue.refreshFogUniforms(Lt,rt),Ue.refreshMaterialUniforms(Lt,le,z,L,J),Tp.upload(Z,ht.uniformsList,Lt,de)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(Tp.upload(Z,ht.uniformsList,Lt,de),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&gt.setValue(Z,"center",be.center),gt.setValue(Z,"modelViewMatrix",be.modelViewMatrix),gt.setValue(Z,"normalMatrix",be.normalMatrix),gt.setValue(Z,"modelMatrix",be.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const zt=le.uniformsGroups;for(let Ln=0,Ur=zt.length;Ln<Ur;Ln++)if(Me.isWebGL2){const gi=zt[Ln];Ze.update(gi,Di),Ze.bind(gi,Di)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Di}function jt(j,ce){j.ambientLightColor.needsUpdate=ce,j.lightProbe.needsUpdate=ce,j.directionalLights.needsUpdate=ce,j.directionalLightShadows.needsUpdate=ce,j.pointLights.needsUpdate=ce,j.pointLightShadows.needsUpdate=ce,j.spotLights.needsUpdate=ce,j.spotLightShadows.needsUpdate=ce,j.rectAreaLights.needsUpdate=ce,j.hemisphereLights.needsUpdate=ce}function yn(j){return j.isMeshLambertMaterial||j.isMeshToonMaterial||j.isMeshPhongMaterial||j.isMeshStandardMaterial||j.isShadowMaterial||j.isShaderMaterial&&j.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(j,ce,ve){q.get(j.texture).__webglTexture=ce,q.get(j.depthTexture).__webglTexture=ve;const le=q.get(j);le.__hasExternalTextures=!0,le.__hasExternalTextures&&(le.__autoAllocateDepthBuffer=ve===void 0,le.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(j,ce){const ve=q.get(j);ve.__webglFramebuffer=ce,ve.__useDefaultFramebuffer=ce===void 0},this.setRenderTarget=function(j,ce=0,ve=0){S=j,x=ce,_=ve;let le=!0,be=null,rt=!1,ct=!1;if(j){const Mt=q.get(j);Mt.__useDefaultFramebuffer!==void 0?(xe.bindFramebuffer(36160,null),le=!1):Mt.__webglFramebuffer===void 0?de.setupRenderTarget(j):Mt.__hasExternalTextures&&de.rebindTextures(j,q.get(j.texture).__webglTexture,q.get(j.depthTexture).__webglTexture);const bt=j.texture;(bt.isData3DTexture||bt.isDataArrayTexture||bt.isCompressedArrayTexture)&&(ct=!0);const Tt=q.get(j).__webglFramebuffer;j.isWebGLCubeRenderTarget?(be=Tt[ce],rt=!0):Me.isWebGL2&&j.samples>0&&de.useMultisampledRTT(j)===!1?be=q.get(j).__webglMultisampledFramebuffer:be=Tt,T.copy(j.viewport),R.copy(j.scissor),C=j.scissorTest}else T.copy(H).multiplyScalar(z).floor(),R.copy(Y).multiplyScalar(z).floor(),C=ee;if(xe.bindFramebuffer(36160,be)&&Me.drawBuffers&&le&&xe.drawBuffers(j,be),xe.viewport(T),xe.scissor(R),xe.setScissorTest(C),rt){const Mt=q.get(j.texture);Z.framebufferTexture2D(36160,36064,34069+ce,Mt.__webglTexture,ve)}else if(ct){const Mt=q.get(j.texture),bt=ce||0;Z.framebufferTextureLayer(36160,36064,Mt.__webglTexture,ve||0,bt)}M=-1},this.readRenderTargetPixels=function(j,ce,ve,le,be,rt,ct){if(!(j&&j.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let At=q.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&ct!==void 0&&(At=At[ct]),At){xe.bindFramebuffer(36160,At);try{const Mt=j.texture,bt=Mt.format,Tt=Mt.type;if(bt!==oi&&De.convert(bt)!==Z.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ft=Tt===Wu&&(he.has("EXT_color_buffer_half_float")||Me.isWebGL2&&he.has("EXT_color_buffer_float"));if(Tt!==Fo&&De.convert(Tt)!==Z.getParameter(35738)&&!(Tt===Mo&&(Me.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!Ft){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce>=0&&ce<=j.width-le&&ve>=0&&ve<=j.height-be&&Z.readPixels(ce,ve,le,be,De.convert(bt),De.convert(Tt),rt)}finally{const Mt=S!==null?q.get(S).__webglFramebuffer:null;xe.bindFramebuffer(36160,Mt)}}},this.copyFramebufferToTexture=function(j,ce,ve=0){const le=Math.pow(2,-ve),be=Math.floor(ce.image.width*le),rt=Math.floor(ce.image.height*le);de.setTexture2D(ce,0),Z.copyTexSubImage2D(3553,ve,0,0,j.x,j.y,be,rt),xe.unbindTexture()},this.copyTextureToTexture=function(j,ce,ve,le=0){const be=ce.image.width,rt=ce.image.height,ct=De.convert(ve.format),At=De.convert(ve.type);de.setTexture2D(ve,0),Z.pixelStorei(37440,ve.flipY),Z.pixelStorei(37441,ve.premultiplyAlpha),Z.pixelStorei(3317,ve.unpackAlignment),ce.isDataTexture?Z.texSubImage2D(3553,le,j.x,j.y,be,rt,ct,At,ce.image.data):ce.isCompressedTexture?Z.compressedTexSubImage2D(3553,le,j.x,j.y,ce.mipmaps[0].width,ce.mipmaps[0].height,ct,ce.mipmaps[0].data):Z.texSubImage2D(3553,le,j.x,j.y,ct,At,ce.image),le===0&&ve.generateMipmaps&&Z.generateMipmap(3553),xe.unbindTexture()},this.copyTextureToTexture3D=function(j,ce,ve,le,be=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const rt=j.max.x-j.min.x+1,ct=j.max.y-j.min.y+1,At=j.max.z-j.min.z+1,Mt=De.convert(le.format),bt=De.convert(le.type);let Tt;if(le.isData3DTexture)de.setTexture3D(le,0),Tt=32879;else if(le.isDataArrayTexture)de.setTexture2DArray(le,0),Tt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Z.pixelStorei(37440,le.flipY),Z.pixelStorei(37441,le.premultiplyAlpha),Z.pixelStorei(3317,le.unpackAlignment);const Ft=Z.getParameter(3314),an=Z.getParameter(32878),Un=Z.getParameter(3316),Or=Z.getParameter(3315),mi=Z.getParameter(32877),Ye=ve.isCompressedTexture?ve.mipmaps[0]:ve.image;Z.pixelStorei(3314,Ye.width),Z.pixelStorei(32878,Ye.height),Z.pixelStorei(3316,j.min.x),Z.pixelStorei(3315,j.min.y),Z.pixelStorei(32877,j.min.z),ve.isDataTexture||ve.isData3DTexture?Z.texSubImage3D(Tt,be,ce.x,ce.y,ce.z,rt,ct,At,Mt,bt,Ye.data):ve.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Z.compressedTexSubImage3D(Tt,be,ce.x,ce.y,ce.z,rt,ct,At,Mt,Ye.data)):Z.texSubImage3D(Tt,be,ce.x,ce.y,ce.z,rt,ct,At,Mt,bt,Ye),Z.pixelStorei(3314,Ft),Z.pixelStorei(32878,an),Z.pixelStorei(3316,Un),Z.pixelStorei(3315,Or),Z.pixelStorei(32877,mi),be===0&&le.generateMipmaps&&Z.generateMipmap(Tt),xe.unbindTexture()},this.initTexture=function(j){j.isCubeTexture?de.setTextureCube(j,0):j.isData3DTexture?de.setTexture3D(j,0):j.isDataArrayTexture||j.isCompressedArrayTexture?de.setTexture2DArray(j,0):de.setTexture2D(j,0),xe.unbindTexture()},this.resetState=function(){x=0,_=0,S=null,xe.reset(),ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class cC extends pg{}cC.prototype.isWebGL1Renderer=!0;class e1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new qe(e),this.density=t}clone(){return new e1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class t1{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new qe(e),this.near=t,this.far=r}clone(){return new t1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Ku extends xt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Fh{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=dh,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ri()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ri()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ri()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Wr=new N;class Da{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Wr.fromBufferAttribute(this,t),Wr.applyMatrix4(e),this.setXYZ(t,Wr.x,Wr.y,Wr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Wr.fromBufferAttribute(this,t),Wr.applyNormalMatrix(e),this.setXYZ(t,Wr.x,Wr.y,Wr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Wr.fromBufferAttribute(this,t),Wr.transformDirection(e),this.setXYZ(t,Wr.x,Wr.y,Wr.z);return this}setX(e,t){return this.normalized&&(t=tn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Co(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Co(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Co(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Co(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=tn(t,this.array),r=tn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=tn(t,this.array),r=tn(r,this.array),i=tn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=tn(t,this.array),r=tn(r,this.array),i=tn(i,this.array),s=tn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Vt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Da(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class mg extends Jn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new qe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Hc;const id=new N,Vc=new N,Wc=new N,jc=new Re,sd=new Re,uC=new dt,C0=new N,od=new N,E0=new N,jy=new Re,fm=new Re,Jy=new Re;class fC extends xt{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Hc===void 0){Hc=new _t;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Fh(t,5);Hc.setIndex([0,1,2,0,2,3]),Hc.setAttribute("position",new Da(r,3,0,!1)),Hc.setAttribute("uv",new Da(r,2,3,!1))}this.geometry=Hc,this.material=e!==void 0?e:new mg,this.center=new Re(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Vc.setFromMatrixScale(this.matrixWorld),uC.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Wc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Vc.multiplyScalar(-Wc.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;b0(C0.set(-.5,-.5,0),Wc,o,Vc,i,s),b0(od.set(.5,-.5,0),Wc,o,Vc,i,s),b0(E0.set(.5,.5,0),Wc,o,Vc,i,s),jy.set(0,0),fm.set(1,0),Jy.set(1,1);let a=e.ray.intersectTriangle(C0,od,E0,!1,id);if(a===null&&(b0(od.set(-.5,.5,0),Wc,o,Vc,i,s),fm.set(0,1),a=e.ray.intersectTriangle(C0,E0,od,!1,id),a===null))return;const l=e.ray.origin.distanceTo(id);l<e.near||l>e.far||t.push({distance:l,point:id.clone(),uv:Zi.getUV(id,C0,od,E0,jy,fm,Jy,new Re),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function b0(n,e,t,r,i,s){jc.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(sd.x=s*jc.x-i*jc.y,sd.y=i*jc.x+s*jc.y):sd.copy(jc),n.copy(e),n.x+=sd.x,n.y+=sd.y,n.applyMatrix4(uC)}const T0=new N,Xy=new N;class dC extends xt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){T0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(T0);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){T0.setFromMatrixPosition(e.matrixWorld),Xy.setFromMatrixPosition(this.matrixWorld);const r=T0.distanceTo(Xy)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const Ky=new N,Yy=new Kt,Zy=new Kt,vU=new N,Qy=new dt;class gg extends Rn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new dt,this.bindMatrixInverse=new dt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Kt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;Yy.fromBufferAttribute(i.attributes.skinIndex,e),Zy.fromBufferAttribute(i.attributes.skinWeight,e),Ky.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=Zy.getComponent(s);if(o!==0){const a=Yy.getComponent(s);Qy.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(vU.copy(Ky).applyMatrix4(Qy),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class n1 extends xt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class bu extends on{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Tn,u=Tn,d,p){super(null,o,a,l,c,u,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const qy=new dt,yU=new dt;class kh{constructor(e=[],t=[]){this.uuid=Ri(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new dt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new dt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:yU;qy.multiplyMatrices(a,t[s]),qy.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new kh(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=YM(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new bu(t,e,e,oi,Mo);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new n1),this.bones.push(o),this.boneInverses.push(new dt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Ql extends Vt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const $y=new dt,ex=new dt,R0=[],xU=new dt,ad=new Rn;class vg extends Rn{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ql(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,xU)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(ad.geometry=this.geometry,ad.material=this.material,ad.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,$y),ex.multiplyMatrices(r,$y),ad.matrixWorld=ex,ad.raycast(e,R0);for(let o=0,a=R0.length;o<a;o++){const l=R0[o];l.instanceId=s,l.object=this,t.push(l)}R0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ql(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class nn extends Jn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new qe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const tx=new N,nx=new N,rx=new dt,dm=new lf,B0=new Uo;class ko extends xt{constructor(e=new _t,t=new nn){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)tx.fromBufferAttribute(t,i-1),nx.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=tx.distanceTo(nx);e.setAttribute("lineDistance",new ot(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),B0.copy(r.boundingSphere),B0.applyMatrix4(i),B0.radius+=s,e.ray.intersectsSphere(B0)===!1)return;rx.copy(i).invert(),dm.copy(e.ray).applyMatrix4(rx);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new N,u=new N,d=new N,p=new N,m=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const x=Math.max(0,o.start),_=Math.min(g.count,o.start+o.count);for(let S=x,M=_-1;S<M;S+=m){const b=g.getX(S),T=g.getX(S+1);if(c.fromBufferAttribute(y,b),u.fromBufferAttribute(y,T),dm.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let S=x,M=_-1;S<M;S+=m){if(c.fromBufferAttribute(y,S),u.fromBufferAttribute(y,S+1),dm.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||t.push({distance:T,point:d.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const ix=new N,sx=new N;class Pn extends ko{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)ix.fromBufferAttribute(t,i),sx.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+ix.distanceTo(sx);e.setAttribute("lineDistance",new ot(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class yg extends ko{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class r1 extends Jn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new qe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ox=new dt,B8=new lf,P0=new Uo,L0=new N;class i1 extends xt{constructor(e=new _t,t=new r1){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),P0.copy(r.boundingSphere),P0.applyMatrix4(i),P0.radius+=s,e.ray.intersectsSphere(P0)===!1)return;ox.copy(i).invert(),B8.copy(e.ray).applyMatrix4(ox);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=p,v=m;g<v;g++){const y=c.getX(g);L0.fromBufferAttribute(d,y),ax(L0,y,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);for(let g=p,v=m;g<v;g++)L0.fromBufferAttribute(d,g),ax(L0,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function ax(n,e,t,r,i,s,o){const a=B8.distanceSqToPoint(n);if(a<t){const l=new N;B8.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class _U extends on{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:fn,this.magFilter=s!==void 0?s:fn,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class wU extends on{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Tn,this.minFilter=Tn,this.generateMipmaps=!1,this.needsUpdate=!0}}class xg extends on{constructor(e,t,r,i,s,o,a,l,c,u,d,p){super(null,o,a,l,c,u,i,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class SU extends xg{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=vr}}class AU extends on{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ss{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Re:new N);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new N,i=[],s=[],o=[],a=new N,l=new dt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new N)}s[0]=new N,o[0]=new N;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(On(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(On(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class s1 extends Ss{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Re,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*d+this.aX,c=p*d+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class hC extends s1{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function _g(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+d)+(l-a)/d;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const I0=new N,hm=new _g,pm=new _g,mm=new _g;class pC extends Ss{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new N){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(I0.subVectors(i[0],i[1]).add(i[0]),c=I0);const d=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(I0.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=I0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),m),v=Math.pow(d.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(u),m);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),hm.initNonuniformCatmullRom(c.x,d.x,p.x,u.x,g,v,y),pm.initNonuniformCatmullRom(c.y,d.y,p.y,u.y,g,v,y),mm.initNonuniformCatmullRom(c.z,d.z,p.z,u.z,g,v,y)}else this.curveType==="catmullrom"&&(hm.initCatmullRom(c.x,d.x,p.x,u.x,this.tension),pm.initCatmullRom(c.y,d.y,p.y,u.y,this.tension),mm.initCatmullRom(c.z,d.z,p.z,u.z,this.tension));return r.set(hm.calc(l),pm.calc(l),mm.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new N().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function lx(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function MU(n,e){const t=1-n;return t*t*e}function CU(n,e){return 2*(1-n)*n*e}function EU(n,e){return n*n*e}function Od(n,e,t,r){return MU(n,e)+CU(n,t)+EU(n,r)}function bU(n,e){const t=1-n;return t*t*t*e}function TU(n,e){const t=1-n;return 3*t*t*n*e}function RU(n,e){return 3*(1-n)*n*n*e}function BU(n,e){return n*n*n*e}function Nd(n,e,t,r,i){return bU(n,e)+TU(n,t)+RU(n,r)+BU(n,i)}class wg extends Ss{constructor(e=new Re,t=new Re,r=new Re,i=new Re){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Re){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Nd(e,i.x,s.x,o.x,a.x),Nd(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class mC extends Ss{constructor(e=new N,t=new N,r=new N,i=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new N){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Nd(e,i.x,s.x,o.x,a.x),Nd(e,i.y,s.y,o.y,a.y),Nd(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class o1 extends Ss{constructor(e=new Re,t=new Re){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Re){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Re;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gC extends Ss{constructor(e=new N,t=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new N){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Sg extends Ss{constructor(e=new Re,t=new Re,r=new Re){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Re){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Od(e,i.x,s.x,o.x),Od(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Ag extends Ss{constructor(e=new N,t=new N,r=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new N){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Od(e,i.x,s.x,o.x),Od(e,i.y,s.y,o.y),Od(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Mg extends Ss{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Re){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(lx(a,l.x,c.x,u.x,d.x),lx(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Re().fromArray(i))}return this}}var Cg=Object.freeze({__proto__:null,ArcCurve:hC,CatmullRomCurve3:pC,CubicBezierCurve:wg,CubicBezierCurve3:mC,EllipseCurve:s1,LineCurve:o1,LineCurve3:gC,QuadraticBezierCurve:Sg,QuadraticBezierCurve3:Ag,SplineCurve:Mg});class vC extends Ss{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new o1(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new Cg[i.type]().fromJSON(i))}return this}}class mh extends vC{constructor(e){super(),this.type="Path",this.currentPoint=new Re,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new o1(this.currentPoint.clone(),new Re(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new Sg(this.currentPoint.clone(),new Re(e,t),new Re(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new wg(this.currentPoint.clone(),new Re(e,t),new Re(r,i),new Re(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new Mg(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new s1(e,t,r,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ff extends _t{constructor(e=[new Re(0,-.5),new Re(.5,0),new Re(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=On(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,d=new N,p=new Re,m=new N,g=new N,v=new N;let y=0,x=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-y,m.z=x*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,m.x=x*1,m.y=-y,m.z=x*0,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let _=0;_<=t;_++){const S=r+_*u*i,M=Math.sin(S),b=Math.cos(S);for(let T=0;T<=e.length-1;T++){d.x=e[T].x*M,d.y=e[T].y,d.z=e[T].x*b,o.push(d.x,d.y,d.z),p.x=_/t,p.y=T/(e.length-1),a.push(p.x,p.y);const R=l[3*T+0]*M,C=l[3*T+1],P=l[3*T+0]*b;c.push(R,C,P)}}for(let _=0;_<t;_++)for(let S=0;S<e.length-1;S++){const M=S+_*e.length,b=M,T=M+e.length,R=M+e.length+1,C=M+1;s.push(b,T,C),s.push(R,C,T)}this.setIndex(s),this.setAttribute("position",new ot(o,3)),this.setAttribute("uv",new ot(a,2)),this.setAttribute("normal",new ot(c,3))}static fromJSON(e){return new ff(e.points,e.segments,e.phiStart,e.phiLength)}}class Oh extends ff{constructor(e=1,t=1,r=4,i=8){const s=new mh;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Oh(e.radius,e.length,e.capSegments,e.radialSegments)}}class Nh extends _t{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new N,u=new Re;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const m=r+d/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new ot(o,3)),this.setAttribute("normal",new ot(a,3)),this.setAttribute("uv",new ot(l,2))}static fromJSON(e){return new Nh(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ic extends _t{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],p=[],m=[];let g=0;const v=[],y=r/2;let x=0;_(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new ot(d,3)),this.setAttribute("normal",new ot(p,3)),this.setAttribute("uv",new ot(m,2));function _(){const M=new N,b=new N;let T=0;const R=(t-e)/r;for(let C=0;C<=s;C++){const P=[],L=C/s,z=L*(t-e)+e;for(let G=0;G<=i;G++){const V=G/i,H=V*l+a,Y=Math.sin(H),ee=Math.cos(H);b.x=z*Y,b.y=-L*r+y,b.z=z*ee,d.push(b.x,b.y,b.z),M.set(Y,R,ee).normalize(),p.push(M.x,M.y,M.z),m.push(V,1-L),P.push(g++)}v.push(P)}for(let C=0;C<i;C++)for(let P=0;P<s;P++){const L=v[P][C],z=v[P+1][C],G=v[P+1][C+1],V=v[P][C+1];u.push(L,z,V),u.push(z,G,V),T+=6}c.addGroup(x,T,0),x+=T}function S(M){const b=g,T=new Re,R=new N;let C=0;const P=M===!0?e:t,L=M===!0?1:-1;for(let G=1;G<=i;G++)d.push(0,y*L,0),p.push(0,L,0),m.push(.5,.5),g++;const z=g;for(let G=0;G<=i;G++){const H=G/i*l+a,Y=Math.cos(H),ee=Math.sin(H);R.x=P*ee,R.y=y*L,R.z=P*Y,d.push(R.x,R.y,R.z),p.push(0,L,0),T.x=Y*.5+.5,T.y=ee*.5*L+.5,m.push(T.x,T.y),g++}for(let G=0;G<i;G++){const V=b+G,H=z+G;M===!0?u.push(H,H+1,V):u.push(H+1,H,V),C+=3}c.addGroup(x,C,M===!0?1:2),x+=C}}static fromJSON(e){return new ic(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Uh extends ic{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Uh(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Go extends _t{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new ot(s,3)),this.setAttribute("normal",new ot(s.slice(),3)),this.setAttribute("uv",new ot(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const S=new N,M=new N,b=new N;for(let T=0;T<t.length;T+=3)m(t[T+0],S),m(t[T+1],M),m(t[T+2],b),l(S,M,b,_)}function l(_,S,M,b){const T=b+1,R=[];for(let C=0;C<=T;C++){R[C]=[];const P=_.clone().lerp(M,C/T),L=S.clone().lerp(M,C/T),z=T-C;for(let G=0;G<=z;G++)G===0&&C===T?R[C][G]=P:R[C][G]=P.clone().lerp(L,G/z)}for(let C=0;C<T;C++)for(let P=0;P<2*(T-C)-1;P++){const L=Math.floor(P/2);P%2===0?(p(R[C][L+1]),p(R[C+1][L]),p(R[C][L])):(p(R[C][L+1]),p(R[C+1][L+1]),p(R[C+1][L]))}}function c(_){const S=new N;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(_),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function u(){const _=new N;for(let S=0;S<s.length;S+=3){_.x=s[S+0],_.y=s[S+1],_.z=s[S+2];const M=y(_)/2/Math.PI+.5,b=x(_)/Math.PI+.5;o.push(M,1-b)}g(),d()}function d(){for(let _=0;_<o.length;_+=6){const S=o[_+0],M=o[_+2],b=o[_+4],T=Math.max(S,M,b),R=Math.min(S,M,b);T>.9&&R<.1&&(S<.2&&(o[_+0]+=1),M<.2&&(o[_+2]+=1),b<.2&&(o[_+4]+=1))}}function p(_){s.push(_.x,_.y,_.z)}function m(_,S){const M=_*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function g(){const _=new N,S=new N,M=new N,b=new N,T=new Re,R=new Re,C=new Re;for(let P=0,L=0;P<s.length;P+=9,L+=6){_.set(s[P+0],s[P+1],s[P+2]),S.set(s[P+3],s[P+4],s[P+5]),M.set(s[P+6],s[P+7],s[P+8]),T.set(o[L+0],o[L+1]),R.set(o[L+2],o[L+3]),C.set(o[L+4],o[L+5]),b.copy(_).add(S).add(M).divideScalar(3);const z=y(b);v(T,L+0,_,z),v(R,L+2,S,z),v(C,L+4,M,z)}}function v(_,S,M,b){b<0&&_.x===1&&(o[S]=_.x-1),M.x===0&&M.z===0&&(o[S]=b/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new Go(e.vertices,e.indices,e.radius,e.details)}}class zh extends Go{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new zh(e.radius,e.detail)}}const D0=new N,F0=new N,gm=new N,k0=new Zi;class Ii extends _t{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(kl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),p={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:v,b:y,c:x}=k0;if(v.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),x.fromBufferAttribute(a,c[2]),k0.getNormal(gm),d[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let _=0;_<3;_++){const S=(_+1)%3,M=d[_],b=d[S],T=k0[u[_]],R=k0[u[S]],C=`${M}_${b}`,P=`${b}_${M}`;P in p&&p[P]?(gm.dot(p[P].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(R.x,R.y,R.z)),p[P]=null):C in p||(p[C]={index0:c[_],index1:c[S],normal:gm.clone()})}}for(const g in p)if(p[g]){const{index0:v,index1:y}=p[g];D0.fromBufferAttribute(a,v),F0.fromBufferAttribute(a,y),m.push(D0.x,D0.y,D0.z),m.push(F0.x,F0.y,F0.z)}this.setAttribute("position",new ot(m,3))}}}class Ul extends mh{constructor(e){super(e),this.uuid=Ri(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new mh().fromJSON(i))}return this}}const PU={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=yC(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,p,m;if(r&&(s=kU(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<i;g+=t)d=n[g],p=n[g+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return gh(s,o,t,a,l,m,0),o}};function yC(n,e,t,r,i){let s,o;if(i===XU(n,e,t,r)>0)for(s=e;s<t;s+=r)o=cx(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=cx(s,n[s],n[s+1],o);return o&&a1(o,o.next)&&(yh(o),o=o.next),o}function ql(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(a1(t,t.next)||Sn(t.prev,t,t.next)===0)){if(yh(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function gh(n,e,t,r,i,s,o){if(!n)return;!o&&s&&GU(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?IU(n,r,i,s):LU(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),yh(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=DU(ql(n),e,t),gh(n,e,t,r,i,s,2)):o===2&&FU(n,e,t,r,i,s):gh(ql(n),e,t,r,i,s,1);break}}}function LU(n){const e=n.prev,t=n,r=n.next;if(Sn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,d=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=p&&g.y>=d&&g.y<=m&&pu(i,a,s,l,o,c,g.x,g.y)&&Sn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function IU(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Sn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,d=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,g=u<d?u<p?u:p:d<p?d:p,v=a>l?a>c?a:c:l>c?l:c,y=u>d?u>p?u:p:d>p?d:p,x=P8(m,g,e,t,r),_=P8(v,y,e,t,r);let S=n.prevZ,M=n.nextZ;for(;S&&S.z>=x&&M&&M.z<=_;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=y&&S!==i&&S!==o&&pu(a,u,l,d,c,p,S.x,S.y)&&Sn(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=v&&M.y>=g&&M.y<=y&&M!==i&&M!==o&&pu(a,u,l,d,c,p,M.x,M.y)&&Sn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=x;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=y&&S!==i&&S!==o&&pu(a,u,l,d,c,p,S.x,S.y)&&Sn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=_;){if(M.x>=m&&M.x<=v&&M.y>=g&&M.y<=y&&M!==i&&M!==o&&pu(a,u,l,d,c,p,M.x,M.y)&&Sn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function DU(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!a1(i,s)&&xC(i,r,r.next,s)&&vh(i,s)&&vh(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),yh(r),yh(r.next),r=n=s),r=r.next}while(r!==n);return ql(r)}function FU(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&WU(o,a)){let l=_C(o,a);o=ql(o,o.next),l=ql(l,l.next),gh(o,e,t,r,i,s,0),gh(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function kU(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=yC(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(VU(c));for(i.sort(OU),s=0;s<i.length;s++)t=NU(i[s],t);return t}function OU(n,e){return n.x-e.x}function NU(n,e){const t=UU(n,e);if(!t)return e;const r=_C(t,n);return ql(r,r.next),ql(t,t.next)}function UU(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,d;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&pu(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(d=Math.abs(o-t.y)/(s-t.x),vh(t,n)&&(d<u||d===u&&(t.x>i.x||t.x===i.x&&zU(i,t)))&&(i=t,u=d)),t=t.next;while(t!==a);return i}function zU(n,e){return Sn(n.prev,n,e.prev)<0&&Sn(e.next,n,n.next)<0}function GU(n,e,t,r){let i=n;do i.z===0&&(i.z=P8(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,HU(i)}function HU(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function P8(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function VU(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function pu(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function WU(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!jU(n,e)&&(vh(n,e)&&vh(e,n)&&JU(n,e)&&(Sn(n.prev,n,e.prev)||Sn(n,e.prev,e))||a1(n,e)&&Sn(n.prev,n,n.next)>0&&Sn(e.prev,e,e.next)>0)}function Sn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function a1(n,e){return n.x===e.x&&n.y===e.y}function xC(n,e,t,r){const i=N0(Sn(n,e,t)),s=N0(Sn(n,e,r)),o=N0(Sn(t,r,n)),a=N0(Sn(t,r,e));return!!(i!==s&&o!==a||i===0&&O0(n,t,e)||s===0&&O0(n,r,e)||o===0&&O0(t,n,r)||a===0&&O0(t,e,r))}function O0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function N0(n){return n>0?1:n<0?-1:0}function jU(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&xC(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function vh(n,e){return Sn(n.prev,n,n.next)<0?Sn(n,e,n.next)>=0&&Sn(n,n.prev,e)>=0:Sn(n,e,n.prev)<0||Sn(n,n.next,e)<0}function JU(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function _C(n,e){const t=new L8(n.i,n.x,n.y),r=new L8(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function cx(n,e,t,r){const i=new L8(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function yh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function L8(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function XU(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Vs{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Vs.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];ux(e),fx(r,e);let o=e.length;t.forEach(ux);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,fx(r,t[l]);const a=PU.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function ux(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function fx(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class df extends _t{constructor(e=new Ul([new Re(.5,.5),new Re(-.5,.5),new Re(-.5,-.5),new Re(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new ot(i,3)),this.setAttribute("uv",new ot(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:KU;let S,M=!1,b,T,R,C;x&&(S=x.getSpacedPoints(u),M=!0,p=!1,b=x.computeFrenetFrames(u,!1),T=new N,R=new N,C=new N),p||(y=0,m=0,g=0,v=0);const P=a.extractPoints(c);let L=P.shape;const z=P.holes;if(!Vs.isClockWise(L)){L=L.reverse();for(let q=0,de=z.length;q<de;q++){const Be=z[q];Vs.isClockWise(Be)&&(z[q]=Be.reverse())}}const V=Vs.triangulateShape(L,z),H=L;for(let q=0,de=z.length;q<de;q++){const Be=z[q];L=L.concat(Be)}function Y(q,de,Be){return de||console.error("THREE.ExtrudeGeometry: vec does not exist"),de.clone().multiplyScalar(Be).add(q)}const ee=L.length,ue=V.length;function k(q,de,Be){let we,Se,We;const ye=q.x-de.x,Fe=q.y-de.y,Ue=Be.x-q.x,Te=Be.y-q.y,U=ye*ye+Fe*Fe,I=ye*Te-Fe*Ue;if(Math.abs(I)>Number.EPSILON){const re=Math.sqrt(U),pe=Math.sqrt(Ue*Ue+Te*Te),Le=de.x-Fe/re,ke=de.y+ye/re,Oe=Be.x-Te/pe,De=Be.y+Ue/pe,ge=((Oe-Le)*Te-(De-ke)*Ue)/(ye*Te-Fe*Ue);we=Le+ye*ge-q.x,Se=ke+Fe*ge-q.y;const Ze=we*we+Se*Se;if(Ze<=2)return new Re(we,Se);We=Math.sqrt(Ze/2)}else{let re=!1;ye>Number.EPSILON?Ue>Number.EPSILON&&(re=!0):ye<-Number.EPSILON?Ue<-Number.EPSILON&&(re=!0):Math.sign(Fe)===Math.sign(Te)&&(re=!0),re?(we=-Fe,Se=ye,We=Math.sqrt(U)):(we=ye,Se=Fe,We=Math.sqrt(U/2))}return new Re(we/We,Se/We)}const W=[];for(let q=0,de=H.length,Be=de-1,we=q+1;q<de;q++,Be++,we++)Be===de&&(Be=0),we===de&&(we=0),W[q]=k(H[q],H[Be],H[we]);const J=[];let D,O=W.concat();for(let q=0,de=z.length;q<de;q++){const Be=z[q];D=[];for(let we=0,Se=Be.length,We=Se-1,ye=we+1;we<Se;we++,We++,ye++)We===Se&&(We=0),ye===Se&&(ye=0),D[we]=k(Be[we],Be[We],Be[ye]);J.push(D),O=O.concat(D)}for(let q=0;q<y;q++){const de=q/y,Be=m*Math.cos(de*Math.PI/2),we=g*Math.sin(de*Math.PI/2)+v;for(let Se=0,We=H.length;Se<We;Se++){const ye=Y(H[Se],W[Se],we);ne(ye.x,ye.y,-Be)}for(let Se=0,We=z.length;Se<We;Se++){const ye=z[Se];D=J[Se];for(let Fe=0,Ue=ye.length;Fe<Ue;Fe++){const Te=Y(ye[Fe],D[Fe],we);ne(Te.x,Te.y,-Be)}}}const ie=g+v;for(let q=0;q<ee;q++){const de=p?Y(L[q],O[q],ie):L[q];M?(R.copy(b.normals[0]).multiplyScalar(de.x),T.copy(b.binormals[0]).multiplyScalar(de.y),C.copy(S[0]).add(R).add(T),ne(C.x,C.y,C.z)):ne(de.x,de.y,0)}for(let q=1;q<=u;q++)for(let de=0;de<ee;de++){const Be=p?Y(L[de],O[de],ie):L[de];M?(R.copy(b.normals[q]).multiplyScalar(Be.x),T.copy(b.binormals[q]).multiplyScalar(Be.y),C.copy(S[q]).add(R).add(T),ne(C.x,C.y,C.z)):ne(Be.x,Be.y,d/u*q)}for(let q=y-1;q>=0;q--){const de=q/y,Be=m*Math.cos(de*Math.PI/2),we=g*Math.sin(de*Math.PI/2)+v;for(let Se=0,We=H.length;Se<We;Se++){const ye=Y(H[Se],W[Se],we);ne(ye.x,ye.y,d+Be)}for(let Se=0,We=z.length;Se<We;Se++){const ye=z[Se];D=J[Se];for(let Fe=0,Ue=ye.length;Fe<Ue;Fe++){const Te=Y(ye[Fe],D[Fe],we);M?ne(Te.x,Te.y+S[u-1].y,S[u-1].x+Be):ne(Te.x,Te.y,d+Be)}}}$(),te();function $(){const q=i.length/3;if(p){let de=0,Be=ee*de;for(let we=0;we<ue;we++){const Se=V[we];he(Se[2]+Be,Se[1]+Be,Se[0]+Be)}de=u+y*2,Be=ee*de;for(let we=0;we<ue;we++){const Se=V[we];he(Se[0]+Be,Se[1]+Be,Se[2]+Be)}}else{for(let de=0;de<ue;de++){const Be=V[de];he(Be[2],Be[1],Be[0])}for(let de=0;de<ue;de++){const Be=V[de];he(Be[0]+ee*u,Be[1]+ee*u,Be[2]+ee*u)}}r.addGroup(q,i.length/3-q,0)}function te(){const q=i.length/3;let de=0;Z(H,de),de+=H.length;for(let Be=0,we=z.length;Be<we;Be++){const Se=z[Be];Z(Se,de),de+=Se.length}r.addGroup(q,i.length/3-q,1)}function Z(q,de){let Be=q.length;for(;--Be>=0;){const we=Be;let Se=Be-1;Se<0&&(Se=q.length-1);for(let We=0,ye=u+y*2;We<ye;We++){const Fe=ee*We,Ue=ee*(We+1),Te=de+we+Fe,U=de+Se+Fe,I=de+Se+Ue,re=de+we+Ue;Me(Te,U,I,re)}}}function ne(q,de,Be){l.push(q),l.push(de),l.push(Be)}function he(q,de,Be){xe(q),xe(de),xe(Be);const we=i.length/3,Se=_.generateTopUV(r,i,we-3,we-2,we-1);Ce(Se[0]),Ce(Se[1]),Ce(Se[2])}function Me(q,de,Be,we){xe(q),xe(de),xe(we),xe(de),xe(Be),xe(we);const Se=i.length/3,We=_.generateSideWallUV(r,i,Se-6,Se-3,Se-2,Se-1);Ce(We[0]),Ce(We[1]),Ce(We[3]),Ce(We[1]),Ce(We[2]),Ce(We[3])}function xe(q){i.push(l[q*3+0]),i.push(l[q*3+1]),i.push(l[q*3+2])}function Ce(q){s.push(q.x),s.push(q.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return YU(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Cg[i.type]().fromJSON(i)),new df(r,e.options)}}const KU={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Re(s,o),new Re(a,l),new Re(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],p=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[s*3],y=e[s*3+1],x=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Re(o,1-l),new Re(c,1-d),new Re(p,1-g),new Re(v,1-x)]:[new Re(a,1-l),new Re(u,1-d),new Re(m,1-g),new Re(y,1-x)]}};function YU(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Gh extends Go{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gh(e.radius,e.detail)}}class hf extends Go{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hf(e.radius,e.detail)}}class Hh extends _t{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const p=(t-e)/i,m=new N,g=new Re;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const x=s+y/r*o;m.x=d*Math.cos(x),m.y=d*Math.sin(x),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,u.push(g.x,g.y)}d+=p}for(let v=0;v<i;v++){const y=v*(r+1);for(let x=0;x<r;x++){const _=x+y,S=_,M=_+r+1,b=_+r+2,T=_+1;a.push(S,M,T),a.push(M,b,T)}}this.setIndex(a),this.setAttribute("position",new ot(l,3)),this.setAttribute("normal",new ot(c,3)),this.setAttribute("uv",new ot(u,2))}static fromJSON(e){return new Hh(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Vh extends _t{constructor(e=new Ul([new Re(0,.5),new Re(-.5,-.5),new Re(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new ot(i,3)),this.setAttribute("normal",new ot(s,3)),this.setAttribute("uv",new ot(o,2));function c(u){const d=i.length/3,p=u.extractPoints(t);let m=p.shape;const g=p.holes;Vs.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,x=g.length;y<x;y++){const _=g[y];Vs.isClockWise(_)===!0&&(g[y]=_.reverse())}const v=Vs.triangulateShape(m,g);for(let y=0,x=g.length;y<x;y++){const _=g[y];m=m.concat(_)}for(let y=0,x=m.length;y<x;y++){const _=m[y];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let y=0,x=v.length;y<x;y++){const _=v[y],S=_[0]+d,M=_[1]+d,b=_[2]+d;r.push(S,M,b),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return ZU(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Vh(r,e.curveSegments)}}function ZU(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class pf extends _t{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new N,p=new N,m=[],g=[],v=[],y=[];for(let x=0;x<=r;x++){const _=[],S=x/r;let M=0;x==0&&o==0?M=.5/t:x==r&&l==Math.PI&&(M=-.5/t);for(let b=0;b<=t;b++){const T=b/t;d.x=-e*Math.cos(i+T*s)*Math.sin(o+S*a),d.y=e*Math.cos(o+S*a),d.z=e*Math.sin(i+T*s)*Math.sin(o+S*a),g.push(d.x,d.y,d.z),p.copy(d).normalize(),v.push(p.x,p.y,p.z),y.push(T+M,1-S),_.push(c++)}u.push(_)}for(let x=0;x<r;x++)for(let _=0;_<t;_++){const S=u[x][_+1],M=u[x][_],b=u[x+1][_],T=u[x+1][_+1];(x!==0||o>0)&&m.push(S,M,T),(x!==r-1||l<Math.PI)&&m.push(M,b,T)}this.setIndex(m),this.setAttribute("position",new ot(g,3)),this.setAttribute("normal",new ot(v,3)),this.setAttribute("uv",new ot(y,2))}static fromJSON(e){return new pf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Wh extends Go{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wh(e.radius,e.detail)}}class jh extends _t{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new N,d=new N,p=new N;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const v=g/i*s,y=m/r*Math.PI*2;d.x=(e+t*Math.cos(y))*Math.cos(v),d.y=(e+t*Math.cos(y))*Math.sin(v),d.z=t*Math.sin(y),a.push(d.x,d.y,d.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),p.subVectors(d,u).normalize(),l.push(p.x,p.y,p.z),c.push(g/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const v=(i+1)*m+g-1,y=(i+1)*(m-1)+g-1,x=(i+1)*(m-1)+g,_=(i+1)*m+g;o.push(v,y,_),o.push(y,x,_)}this.setIndex(o),this.setAttribute("position",new ot(a,3)),this.setAttribute("normal",new ot(l,3)),this.setAttribute("uv",new ot(c,2))}static fromJSON(e){return new jh(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Jh extends _t{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new N,p=new N,m=new N,g=new N,v=new N,y=new N,x=new N;for(let S=0;S<=r;++S){const M=S/r*s*Math.PI*2;_(M,s,o,e,m),_(M+.01,s,o,e,g),y.subVectors(g,m),x.addVectors(g,m),v.crossVectors(y,x),x.crossVectors(v,y),v.normalize(),x.normalize();for(let b=0;b<=i;++b){const T=b/i*Math.PI*2,R=-t*Math.cos(T),C=t*Math.sin(T);d.x=m.x+(R*x.x+C*v.x),d.y=m.y+(R*x.y+C*v.y),d.z=m.z+(R*x.z+C*v.z),l.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),u.push(S/r),u.push(b/i)}}for(let S=1;S<=r;S++)for(let M=1;M<=i;M++){const b=(i+1)*(S-1)+(M-1),T=(i+1)*S+(M-1),R=(i+1)*S+M,C=(i+1)*(S-1)+M;a.push(b,T,C),a.push(T,R,C)}this.setIndex(a),this.setAttribute("position",new ot(l,3)),this.setAttribute("normal",new ot(c,3)),this.setAttribute("uv",new ot(u,2));function _(S,M,b,T,R){const C=Math.cos(S),P=Math.sin(S),L=b/M*S,z=Math.cos(L);R.x=T*(2+z)*.5*C,R.y=T*(2+z)*P*.5,R.z=T*Math.sin(L)*.5}}static fromJSON(e){return new Jh(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Xh extends _t{constructor(e=new Ag(new N(-1,-1,0),new N(-1,1,0),new N(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new N,l=new N,c=new Re;let u=new N;const d=[],p=[],m=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new ot(d,3)),this.setAttribute("normal",new ot(p,3)),this.setAttribute("uv",new ot(m,2));function v(){for(let S=0;S<t;S++)y(S);y(s===!1?t:0),_(),x()}function y(S){u=e.getPointAt(S/t,u);const M=o.normals[S],b=o.binormals[S];for(let T=0;T<=i;T++){const R=T/i*Math.PI*2,C=Math.sin(R),P=-Math.cos(R);l.x=P*M.x+C*b.x,l.y=P*M.y+C*b.y,l.z=P*M.z+C*b.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function x(){for(let S=1;S<=t;S++)for(let M=1;M<=i;M++){const b=(i+1)*(S-1)+(M-1),T=(i+1)*S+(M-1),R=(i+1)*S+M,C=(i+1)*(S-1)+M;g.push(b,T,C),g.push(T,R,C)}}function _(){for(let S=0;S<=t;S++)for(let M=0;M<=i;M++)c.x=S/t,c.y=M/i,m.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Xh(new Cg[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class wC extends _t{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new N,s=new N;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],p=d.start,m=d.count;for(let g=p,v=p+m;g<v;g+=3)for(let y=0;y<3;y++){const x=a.getX(g+y),_=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,_),dx(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),dx(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new ot(t,3))}}}function dx(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var hx=Object.freeze({__proto__:null,BoxGeometry:Ga,CapsuleGeometry:Oh,CircleGeometry:Nh,ConeGeometry:Uh,CylinderGeometry:ic,DodecahedronGeometry:zh,EdgesGeometry:Ii,ExtrudeGeometry:df,IcosahedronGeometry:Gh,LatheGeometry:ff,OctahedronGeometry:hf,PlaneGeometry:zo,PolyhedronGeometry:Go,RingGeometry:Hh,ShapeGeometry:Vh,SphereGeometry:pf,TetrahedronGeometry:Wh,TorusGeometry:jh,TorusKnotGeometry:Jh,TubeGeometry:Xh,WireframeGeometry:wC});class SC extends Jn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new qe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class AC extends ws{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Kh extends Jn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new qe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=za,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Zs extends Kh{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Re(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return On(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new qe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new qe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new qe(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class MC extends Jn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new qe(16777215),this.specular=new qe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=za,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ph,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class CC extends Jn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new qe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=za,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class EC extends Jn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=za,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class bC extends Jn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=za,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ph,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class TC extends Jn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new qe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=za,this.normalScale=new Re(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class RC extends nn{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Xi(n,e,t){return Eg(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Rl(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Eg(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function BC(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function I8(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function bg(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function QU(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],p=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*i;if(!(g<t||g>=r)){d.push(c.times[m]);for(let v=0;v<u;++v)p.push(c.values[m*u+v])}}d.length!==0&&(c.times=Rl(d,c.times.constructor),c.values=Rl(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function qU(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const x=u,_=d-u;v=Xi(a.values,x,_)}else if(s>=a.times[g]){const x=g*d+u,_=x+d-u;v=Xi(a.values,x,_)}else{const x=a.createInterpolant(),_=u,S=d-u;x.evaluate(s),v=Xi(x.resultBuffer,_,S)}l==="quaternion"&&new ur().fromArray(v).normalize().conjugate().toArray(v);const y=c.times.length;for(let x=0;x<y;++x){const _=x*m+p;if(l==="quaternion")ur.multiplyQuaternionsFlat(c.values,_,v,0,c.values,_);else{const S=m-p*2;for(let M=0;M<S;++M)c.values[_+M]-=v[M]}}}return n.blendMode=og,n}var $U=Object.freeze({__proto__:null,arraySlice:Xi,convertArray:Rl,isTypedArray:Eg,getKeyframeOrder:BC,sortedArray:I8,flattenJSON:bg,subclip:QU,makeClipAdditive:qU});class mf{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class PC extends mf{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Cl,endingEnd:Cl}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case El:s=e,a=2*t-r;break;case fh:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case El:o=e,l=2*r-t;break;case fh:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),v=g*g,y=v*g,x=-p*y+2*p*v-p*g,_=(1+p)*y+(-1.5-2*p)*v+(-.5+p)*g+1,S=(-1-m)*y+(1.5+m)*v+.5*g,M=m*y-m*v;for(let b=0;b!==a;++b)s[b]=x*o[u+b]+_*o[c+b]+S*o[l+b]+M*o[d+b];return s}}class Tg extends mf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),d=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*d+o[l+p]*u;return s}}class LC extends mf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class As{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Rl(t,this.TimeBufferType),this.values=Rl(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Rl(e.times,Array),values:Rl(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new LC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Tg(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new PC(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ju:t=this.InterpolantFactoryMethodDiscrete;break;case Zl:t=this.InterpolantFactoryMethodLinear;break;case Mp:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ju;case this.InterpolantFactoryMethodLinear:return Zl;case this.InterpolantFactoryMethodSmooth:return Mp}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Xi(r,s,o),this.values=Xi(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Eg(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Xi(this.times),t=Xi(this.values),r=this.getValueSize(),i=this.getInterpolation()===Mp,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,p=d-r,m=d+r;for(let g=0;g!==r;++g){const v=t[d+g];if(v!==t[p+g]||v!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[d+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Xi(e,0,o),this.values=Xi(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Xi(this.times,0),t=Xi(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}As.prototype.TimeBufferType=Float32Array;As.prototype.ValueBufferType=Float32Array;As.prototype.DefaultInterpolation=Zl;class sc extends As{}sc.prototype.ValueTypeName="bool";sc.prototype.ValueBufferType=Array;sc.prototype.DefaultInterpolation=ju;sc.prototype.InterpolantFactoryMethodLinear=void 0;sc.prototype.InterpolantFactoryMethodSmooth=void 0;class Rg extends As{}Rg.prototype.ValueTypeName="color";class Yu extends As{}Yu.prototype.ValueTypeName="number";class IC extends mf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)ur.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Fa extends As{InterpolantFactoryMethodLinear(e){return new IC(this.times,this.values,this.getValueSize(),e)}}Fa.prototype.ValueTypeName="quaternion";Fa.prototype.DefaultInterpolation=Zl;Fa.prototype.InterpolantFactoryMethodSmooth=void 0;class oc extends As{}oc.prototype.ValueTypeName="string";oc.prototype.ValueBufferType=Array;oc.prototype.DefaultInterpolation=ju;oc.prototype.InterpolantFactoryMethodLinear=void 0;oc.prototype.InterpolantFactoryMethodSmooth=void 0;class Zu extends As{}Zu.prototype.ValueTypeName="vector";class Qu{constructor(e,t=-1,r,i=X2){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Ri(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(tz(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(As.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=BC(l);l=I8(l,1,u),c=I8(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Yu(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let p=i[d];p||(i[d]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,m,g,v){if(m.length!==0){const y=[],x=[];bg(m,y,x,g),y.length!==0&&v.push(new d(p,y,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let v=0;v<p[g].morphTargets.length;v++)m[p[g].morphTargets[v]]=-1;for(const v in m){const y=[],x=[];for(let _=0;_!==p[g].morphTargets.length;++_){const S=p[g];y.push(S.time),x.push(S.morphTarget===v?1:0)}i.push(new Yu(".morphTargetInfluence["+v+"]",y,x))}l=m.length*o}else{const m=".bones["+t[d].name+"]";r(Zu,m+".position",p,"pos",i),r(Fa,m+".quaternion",p,"rot",i),r(Zu,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function ez(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yu;case"vector":case"vector2":case"vector3":case"vector4":return Zu;case"color":return Rg;case"quaternion":return Fa;case"bool":case"boolean":return sc;case"string":return oc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function tz(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=ez(n.type);if(n.times===void 0){const t=[],r=[];bg(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const $l={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class Bg{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,p=c.length;d<p;d+=2){const m=c[d],g=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return g}return null}}}const mu=new Bg;let kr=class{constructor(e){this.manager=e!==void 0?e:mu,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const mo={};class nz extends Error{constructor(e,t){super(e),this.response=t}}class di extends kr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=$l.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(mo[e]!==void 0){mo[e].push({onLoad:t,onProgress:r,onError:i});return}mo[e]=[],mo[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=mo[e],d=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,g=m!==0;let v=0;const y=new ReadableStream({start(x){_();function _(){d.read().then(({done:S,value:M})=>{if(S)x.close();else{v+=M.byteLength;const b=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let T=0,R=u.length;T<R;T++){const C=u[T];C.onProgress&&C.onProgress(b)}x.enqueue(M),_()}})}}});return new Response(y)}else throw new nz(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{$l.add(e,c);const u=mo[e];delete mo[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=mo[e];if(u===void 0)throw this.manager.itemError(e),c;delete mo[e];for(let d=0,p=u.length;d<p;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class rz extends kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new di(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Qu.parse(e[r]);t.push(i)}return t}}class iz extends kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new xg,l=new di(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(p){const m=s.parse(p,!0);o[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=fn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)u(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let v=0;v<p.mipmapCount;v++)o[g].mipmaps.push(p.mipmaps[g*p.mipmapCount+v]),o[g].format=p.format,o[g].width=p.width,o[g].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=fn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class xh extends kr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=$l.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=ph("img");function l(){u(),$l.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class sz extends kr{constructor(e){super(e)}load(e,t,r,i){const s=new Dh,o=new xh(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class oz extends kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new bu,a=new di(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:vr,o.wrapT=c.wrapT!==void 0?c.wrapT:vr,o.magFilter=c.magFilter!==void 0?c.magFilter:fn,o.minFilter=c.minFilter!==void 0?c.minFilter:fn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Js),c.mipmapCount===1&&(o.minFilter=fn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class DC extends kr{constructor(e){super(e)}load(e,t,r,i){const s=new on,o=new xh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Ha extends xt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new qe(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class FC extends Ha{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(xt.DefaultUp),this.updateMatrix(),this.groundColor=new qe(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const vm=new dt,px=new N,mx=new N;class Pg{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Re(512,512),this.map=null,this.mapPass=null,this.matrix=new dt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Z2,this._frameExtents=new Re(1,1),this._viewportCount=1,this._viewports=[new Kt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;px.setFromMatrixPosition(e.matrixWorld),t.position.copy(px),mx.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(mx),t.updateMatrixWorld(),vm.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vm),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(vm)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class az extends Pg{constructor(){super(new wn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=hh*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Lg extends Ha{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(xt.DefaultUp),this.updateMatrix(),this.target=new xt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new az}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const gx=new dt,ld=new N,ym=new N;class lz extends Pg{constructor(){super(new wn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Re(4,2),this._viewportCount=6,this._viewports=[new Kt(2,1,1,1),new Kt(0,1,1,1),new Kt(3,1,1,1),new Kt(1,1,1,1),new Kt(3,0,1,1),new Kt(1,0,1,1)],this._cubeDirections=[new N(1,0,0),new N(-1,0,0),new N(0,0,1),new N(0,0,-1),new N(0,1,0),new N(0,-1,0)],this._cubeUps=[new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,0,1),new N(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),ld.setFromMatrixPosition(e.matrixWorld),r.position.copy(ld),ym.copy(r.position),ym.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(ym),r.updateMatrixWorld(),i.makeTranslation(-ld.x,-ld.y,-ld.z),gx.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gx)}}class Ig extends Ha{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new lz}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class cz extends Pg{constructor(){super(new Us(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Dg extends Ha{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(xt.DefaultUp),this.updateMatrix(),this.target=new xt,this.shadow=new cz}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class kC extends Ha{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class OC extends Ha{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class NC{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new N)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class l1 extends Ha{constructor(e=new NC,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class c1 extends kr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new di(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=c1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new qe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new qe().setHex(o.value);break;case"v2":i.uniforms[s].value=new Re().fromArray(o.value);break;case"v3":i.uniforms[s].value=new N().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Kt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Dr().fromArray(o.value);break;case"m4":i.uniforms[s].value=new dt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Re().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Re().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:SC,SpriteMaterial:mg,RawShaderMaterial:AC,ShaderMaterial:ws,PointsMaterial:r1,MeshPhysicalMaterial:Zs,MeshStandardMaterial:Kh,MeshPhongMaterial:MC,MeshToonMaterial:CC,MeshNormalMaterial:EC,MeshLambertMaterial:bC,MeshDepthMaterial:q2,MeshDistanceMaterial:$2,MeshBasicMaterial:hn,MeshMatcapMaterial:TC,LineDashedMaterial:RC,LineBasicMaterial:nn,Material:Jn};return new t[e]}}class Ws{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Fg extends _t{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class UC extends kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new di(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const y=m.interleavedBuffers[g],x=s(m,y.buffer),_=du(y.type,x),S=new Fh(_,y.stride);return S.uuid=y.uuid,t[g]=S,S}function s(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],x=new Uint32Array(y).buffer;return r[g]=x,x}const o=e.isInstancedBufferGeometry?new Fg:new _t,a=e.data.index;if(a!==void 0){const m=du(a.type,a.array);o.setIndex(new Vt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new Da(y,g.itemSize,g.offset,g.normalized)}else{const y=du(g.type,g.array),x=g.isInstancedBufferAttribute?Ql:Vt;v=new x(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(m,v)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],v=[];for(let y=0,x=g.length;y<x;y++){const _=g[y];let S;if(_.isInterleavedBufferAttribute){const M=i(e.data,_.data);S=new Da(M,_.itemSize,_.offset,_.normalized)}else{const M=du(_.type,_.array);S=new Vt(M,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),v.push(S)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,g=d.length;m!==g;++m){const v=d[m];o.addGroup(v.start,v.count,v.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new N;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Uo(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class uz extends kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Ws.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new di(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Ws.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new di(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Ul().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new kh().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new UC;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in hx?a=hx[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new c1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Qu.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:du(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Bg(t);s=new xh(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const m=[];for(let g=0,v=p.length;g<v;g++){const y=p[g],x=a(y);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new bu(x.data,x.width,x.height)))}i[d.uuid]=new Tl(m)}else{const m=a(d.url);i[d.uuid]=new Tl(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:du(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new xh(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,p=c.length;d<p;d++){const m=c[d],g=await s(m);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new bu(g.data,g.width,g.height)))}r[l.uuid]=new Tl(u)}else{const u=await s(l.url);r[l.uuid]=new Tl(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Dh,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new bu:u=new on,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,fz)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],vx),u.wrapT=r(a.wrap[1],vx)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,yx)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,yx)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let g=0,v=p.length;g<v;g++){const y=p[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,d;switch(e.type){case"Scene":o=new Ku,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new qe(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new t1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new e1(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new wn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Us(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new kC(e.color,e.intensity);break;case"DirectionalLight":o=new Dg(e.color,e.intensity);break;case"PointLight":o=new Ig(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new OC(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Lg(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new FC(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new l1().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new gg(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new Rn(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const p=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new vg(u,d,p),o.instanceMatrix=new Ql(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new Ql(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new dC;break;case"Line":o=new ko(a(e.geometry),l(e.material));break;case"LineLoop":o=new yg(a(e.geometry),l(e.material));break;case"LineSegments":o=new Pn(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new i1(a(e.geometry),l(e.material));break;case"Sprite":o=new fC(l(e.material));break;case"Group":o=new Eo;break;case"Bone":o=new n1;break;default:o=new xt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const g=p[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const g=p[m],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const fz={UVMapping:j2,CubeReflectionMapping:Ba,CubeRefractionMapping:Pa,EquirectangularReflectionMapping:lh,EquirectangularRefractionMapping:ch,CubeUVReflectionMapping:af},vx={RepeatWrapping:La,ClampToEdgeWrapping:vr,MirroredRepeatWrapping:Vu},yx={NearestFilter:Tn,NearestMipmapNearestFilter:uh,NearestMipmapLinearFilter:Eu,LinearFilter:fn,LinearMipmapNearestFilter:J2,LinearMipmapLinearFilter:Js};class zC extends kr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=$l.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){$l.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let U0;class kg{static getContext(){return U0===void 0&&(U0=new(window.AudioContext||window.webkitAudioContext)),U0}static setContext(e){U0=e}}class dz extends kr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new di(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);kg.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class hz extends l1{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new qe().set(e),s=new qe().set(t),o=new N(i.r,i.g,i.b),a=new N(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class pz extends l1{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new qe().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const xx=new dt,_x=new dt,ol=new dt;class mz{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new wn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new wn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ol.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(kl*t.fov*.5)/t.zoom;let a,l;_x.elements[12]=-i,xx.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,ol.elements[0]=2*t.near/(l-a),ol.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ol),a=-o*t.aspect-s,l=o*t.aspect-s,ol.elements[0]=2*t.near/(l-a),ol.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ol)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(_x),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(xx)}}class Og{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=wx(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=wx();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function wx(){return(typeof performance>"u"?Date:performance).now()}const al=new N,Sx=new ur,gz=new N,ll=new N;class vz extends xt{constructor(){super(),this.type="AudioListener",this.context=kg.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Og}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(al,Sx,gz),ll.set(0,0,-1).applyQuaternion(Sx),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(al.x,i),t.positionY.linearRampToValueAtTime(al.y,i),t.positionZ.linearRampToValueAtTime(al.z,i),t.forwardX.linearRampToValueAtTime(ll.x,i),t.forwardY.linearRampToValueAtTime(ll.y,i),t.forwardZ.linearRampToValueAtTime(ll.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(al.x,al.y,al.z),t.setOrientation(ll.x,ll.y,ll.z,r.x,r.y,r.z)}}class GC extends xt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const cl=new N,Ax=new ur,yz=new N,ul=new N;class xz extends GC{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(cl,Ax,yz),ul.set(0,0,1).applyQuaternion(Ax);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(cl.x,r),t.positionY.linearRampToValueAtTime(cl.y,r),t.positionZ.linearRampToValueAtTime(cl.z,r),t.orientationX.linearRampToValueAtTime(ul.x,r),t.orientationY.linearRampToValueAtTime(ul.y,r),t.orientationZ.linearRampToValueAtTime(ul.z,r)}else t.setPosition(cl.x,cl.y,cl.z),t.setOrientation(ul.x,ul.y,ul.z)}}class _z{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class HC{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){ur.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;ur.multiplyQuaternionsFlat(e,o,e,t,e,r),ur.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const Ng="\\[\\]\\.:\\/",wz=new RegExp("["+Ng+"]","g"),Ug="[^"+Ng+"]",Sz="[^"+Ng.replace("\\.","")+"]",Az=/((?:WC+[\/:])*)/.source.replace("WC",Ug),Mz=/(WCOD+)?/.source.replace("WCOD",Sz),Cz=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Ug),Ez=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Ug),bz=new RegExp("^"+Az+Mz+Cz+Ez+"$"),Tz=["material","materials","bones","map"];class Rz{constructor(e,t,r){const i=r||Gt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Gt{constructor(e,t,r){this.path=t,this.parsedPath=r||Gt.parseTrackName(t),this.node=Gt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Gt.Composite(e,t,r):new Gt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(wz,"")}static parseTrackName(e){const t=bz.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Tz.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Gt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Gt.Composite=Rz;Gt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Gt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Gt.prototype.GetterByBindingType=[Gt.prototype._getValue_direct,Gt.prototype._getValue_array,Gt.prototype._getValue_arrayElement,Gt.prototype._getValue_toArray];Gt.prototype.SetterByBindingTypeAndVersioning=[[Gt.prototype._setValue_direct,Gt.prototype._setValue_direct_setNeedsUpdate,Gt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Gt.prototype._setValue_array,Gt.prototype._setValue_array_setNeedsUpdate,Gt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Gt.prototype._setValue_arrayElement,Gt.prototype._setValue_arrayElement_setNeedsUpdate,Gt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Gt.prototype._setValue_fromArray,Gt.prototype._setValue_fromArray_setNeedsUpdate,Gt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Bz{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ri(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const p=arguments[u],m=p.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(p);for(let v=0,y=o;v!==y;++v)s[v].push(new Gt(p,r[v],i[v]))}else if(g<c){a=e[g];const v=--c,y=e[v];t[y.uuid]=g,e[g]=y,t[m]=v,e[v]=p;for(let x=0,_=o;x!==_;++x){const S=s[x],M=S[v];let b=S[g];S[g]=M,b===void 0&&(b=new Gt(p,r[x],i[x])),S[v]=b}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const d=s++,p=e[d];t[p.uuid]=u,e[u]=p,t[c]=d,e[d]=l;for(let m=0,g=i;m!==g;++m){const v=r[m],y=v[d],x=v[u];v[u]=y,v[d]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<s){const p=--s,m=e[p],g=--o,v=e[g];t[m.uuid]=d,e[d]=m,t[v.uuid]=p,e[p]=v,e.pop();for(let y=0,x=i;y!==x;++y){const _=r[y],S=_[p],M=_[g];_[d]=S,_[p]=M,_.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=d),e[d]=m,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[d]=y[p],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(d);for(let p=u,m=l.length;p!==m;++p){const g=l[p];d[p]=new Gt(g,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Pz{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Cl,endingEnd:Cl};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=VM,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case og:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case X2:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===WM;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===HM){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=El,i.endingEnd=El):(e?i.endingStart=this.zeroSlopeAtStart?El:Cl:i.endingStart=fh,t?i.endingEnd=this.zeroSlopeAtEnd?El:Cl:i.endingEnd=fh)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const Lz=new Float32Array(1);class VC extends Ks{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const p=i[d],m=p.name;let g=u[m];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const v=t&&t._propertyBindings[d].binding.parsedPath;g=new HC(Gt.create(r,m,v),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new Tg(new Float32Array(2),new Float32Array(2),1,Lz),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Qu.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=X2),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new Pz(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Qu.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class zg{constructor(e){this.value=e}clone(){return new zg(this.value.clone===void 0?this.value:this.value.clone())}}let Iz=0;class Dz extends Ks{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Iz++}),this.name="",this.usage=dh,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Fz extends Fh{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class kz{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class WC{constructor(e,t,r=0,i=1/0){this.ray=new lf(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Nl,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return D8(e,this,r,t),r.sort(Mx),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)D8(e[i],this,r,t);return r.sort(Mx),r}}function Mx(n,e){return n.distance-e.distance}function D8(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)D8(i[s],e,t,!0)}}class F8{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(On(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Oz{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const Cx=new Re;class Nz{constructor(e=new Re(1/0,1/0),t=new Re(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Cx.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Cx.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ex=new N,z0=new N;class Uz{constructor(e=new N,t=new N){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Ex.subVectors(e,this.start),z0.subVectors(this.end,this.start);const r=z0.dot(z0);let s=z0.dot(Ex)/r;return t&&(s=On(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const bx=new N;class zz extends xt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new _t,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new ot(i,3));const s=new nn({fog:!1,toneMapped:!1});this.cone=new Pn(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),bx.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(bx),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const oa=new N,G0=new dt,xm=new dt;class Gz extends Pn{constructor(e){const t=jC(e),r=new _t,i=[],s=[],o=new qe(0,0,1),a=new qe(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new ot(i,3)),r.setAttribute("color",new ot(s,3));const l=new nn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");xm.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(G0.multiplyMatrices(xm,a.matrixWorld),oa.setFromMatrixPosition(G0),i.setXYZ(o,oa.x,oa.y,oa.z),G0.multiplyMatrices(xm,a.parent.matrixWorld),oa.setFromMatrixPosition(G0),i.setXYZ(o+1,oa.x,oa.y,oa.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function jC(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,jC(n.children[t]));return e}class Hz extends Rn{constructor(e,t,r){const i=new pf(t,4,2),s=new hn({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Vz=new N,Tx=new qe,Rx=new qe;class Wz extends xt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new hf(t);i.rotateY(Math.PI*.5),this.material=new hn({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Vt(o,3)),this.add(new Rn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Tx.copy(this.light.color),Rx.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?Tx:Rx;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Vz.setFromMatrixPosition(this.light.matrixWorld).negate())}}class jz extends Pn{constructor(e=10,t=10,r=4473924,i=8947848){r=new qe(r),i=new qe(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,g=-a;p<=t;p++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=p===s?r:i;v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3,v.toArray(c,m),m+=3}const u=new _t;u.setAttribute("position",new ot(l,3)),u.setAttribute("color",new ot(c,3));const d=new nn({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jz extends Pn{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new qe(s),o=new qe(o);const a=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),m=Math.sin(p)*e,g=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,g);const v=d&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let d=0;d<r;d++){const p=d&1?s:o,m=e-e/r*d;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*m,x=Math.cos(v)*m;a.push(y,0,x),l.push(p.r,p.g,p.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*m,x=Math.cos(v)*m,a.push(y,0,x),l.push(p.r,p.g,p.b)}}const c=new _t;c.setAttribute("position",new ot(a,3)),c.setAttribute("color",new ot(l,3));const u=new nn({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Bx=new N,H0=new N,Px=new N;class Xz extends xt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new _t;i.setAttribute("position",new ot([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new nn({fog:!1,toneMapped:!1});this.lightPlane=new ko(i,s),this.add(this.lightPlane),i=new _t,i.setAttribute("position",new ot([0,0,0,0,0,1],3)),this.targetLine=new ko(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Bx.setFromMatrixPosition(this.light.matrixWorld),H0.setFromMatrixPosition(this.light.target.matrixWorld),Px.subVectors(H0,Bx),this.lightPlane.lookAt(H0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(H0),this.targetLine.scale.z=Px.length()}}const V0=new N,En=new Ih;class Kz extends Pn{constructor(e){const t=new _t,r=new nn({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new ot(i,3)),t.setAttribute("color",new ot(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new qe(16755200),u=new qe(16711680),d=new qe(43775),p=new qe(16777215),m=new qe(3355443);this.setColors(c,u,d,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;En.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Fn("c",t,e,En,0,0,-1),Fn("t",t,e,En,0,0,1),Fn("n1",t,e,En,-r,-i,-1),Fn("n2",t,e,En,r,-i,-1),Fn("n3",t,e,En,-r,i,-1),Fn("n4",t,e,En,r,i,-1),Fn("f1",t,e,En,-r,-i,1),Fn("f2",t,e,En,r,-i,1),Fn("f3",t,e,En,-r,i,1),Fn("f4",t,e,En,r,i,1),Fn("u1",t,e,En,r*.7,i*1.1,-1),Fn("u2",t,e,En,-r*.7,i*1.1,-1),Fn("u3",t,e,En,0,i*2,-1),Fn("cf1",t,e,En,-r,0,1),Fn("cf2",t,e,En,r,0,1),Fn("cf3",t,e,En,0,-i,1),Fn("cf4",t,e,En,0,i,1),Fn("cn1",t,e,En,-r,0,-1),Fn("cn2",t,e,En,r,0,-1),Fn("cn3",t,e,En,0,-i,-1),Fn("cn4",t,e,En,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fn(n,e,t,r,i,s,o){V0.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],V0.x,V0.y,V0.z)}}const W0=new Ys;class Yz extends Pn{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new _t;s.setIndex(new Vt(r,1)),s.setAttribute("position",new Vt(i,3)),super(s,new nn({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&W0.setFromObject(this.object),W0.isEmpty())return;const t=W0.min,r=W0.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Zz extends Pn{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new _t;s.setIndex(new Vt(r,1)),s.setAttribute("position",new ot(i,3)),super(s,new nn({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qz extends ko{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new _t;o.setAttribute("position",new ot(s,3)),o.computeBoundingSphere(),super(o,new nn({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new _t;l.setAttribute("position",new ot(a,3)),l.computeBoundingSphere(),this.add(new Rn(l,new hn({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Lx=new N;let j0,_m;class qz extends xt{constructor(e=new N(0,0,1),t=new N(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",j0===void 0&&(j0=new _t,j0.setAttribute("position",new ot([0,0,0,0,1,0],3)),_m=new ic(0,.5,1,5,1),_m.translate(0,-.5,0)),this.position.copy(t),this.line=new ko(j0,new nn({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Rn(_m,new hn({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Lx.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Lx,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class $z extends Pn{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new _t;i.setAttribute("position",new ot(t,3)),i.setAttribute("color",new ot(r,3));const s=new nn({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new qe,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class JC{constructor(){this.type="ShapePath",this.color=new qe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new mh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const _=[];for(let S=0,M=x.length;S<M;S++){const b=x[S],T=new Ul;T.curves=b.curves,_.push(T)}return _}function r(x,_){const S=_.length;let M=!1;for(let b=S-1,T=0;T<S;b=T++){let R=_[b],C=_[T],P=C.x-R.x,L=C.y-R.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(R=_[T],P=-P,C=_[b],L=-L),x.y<R.y||x.y>C.y)continue;if(x.y===R.y){if(x.x===R.x)return!0}else{const z=L*(x.x-R.x)-P*(x.y-R.y);if(z===0)return!0;if(z<0)continue;M=!M}}else{if(x.y!==R.y)continue;if(C.x<=x.x&&x.x<=R.x||R.x<=x.x&&x.x<=C.x)return!0}}return M}const i=Vs.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Ul,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const d=[],p=[];let m=[],g=0,v;p[g]=void 0,m[g]=[];for(let x=0,_=s.length;x<_;x++)a=s[x],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!u&&p[g]&&g++,p[g]={s:new Ul,p:v},p[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:v[0]});if(!p[0])return t(s);if(p.length>1){let x=!1,_=0;for(let S=0,M=p.length;S<M;S++)d[S]=[];for(let S=0,M=p.length;S<M;S++){const b=m[S];for(let T=0;T<b.length;T++){const R=b[T];let C=!0;for(let P=0;P<p.length;P++)r(R.p,p[P].p)&&(S!==P&&_++,C?(C=!1,d[P].push(R)):x=!0);C&&d[S].push(R)}}_>0&&x===!1&&(m=d)}let y;for(let x=0,_=p.length;x<_;x++){l=p[x].s,c.push(l),y=m[x];for(let S=0,M=y.length;S<M;S++)l.holes.push(y[S].h)}return c}}const _o=eG();function eG(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function tG(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=On(n,-65504,65504),_o.floatView[0]=n;const e=_o.uint32View[0],t=e>>23&511;return _o.baseTable[t]+((e&8388607)>>_o.shiftTable[t])}function nG(n){const e=n>>10;return _o.uint32View[0]=_o.mantissaTable[_o.offsetTable[e]+(n&1023)]+_o.exponentTable[e],_o.floatView[0]}var rG=Object.freeze({__proto__:null,toHalfFloat:tG,fromHalfFloat:nG});function iG(){console.error("THREE.ImmediateRenderObject has been removed.")}class sG extends rs{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class oG extends Lh{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class aG extends K2{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class lG extends Ga{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class cG extends Oh{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class uG extends Nh{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class fG extends Uh{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class dG extends ic{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class hG extends zh{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class pG extends df{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class mG extends Gh{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class gG extends ff{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class vG extends hf{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class yG extends zo{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class xG extends Go{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class _G extends Hh{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class wG extends Vh{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class SG extends pf{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class AG extends Wh{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class MG extends jh{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class CG extends Jh{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class EG extends Xh{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Bh}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Bh);const bG=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:ig,AddEquation:yl,AddOperation:SM,AdditiveAnimationBlendMode:og,AdditiveBlending:e8,AlphaFormat:LM,AlwaysDepth:mM,AlwaysStencilFunc:KM,AmbientLight:kC,AmbientLightProbe:pz,AnimationClip:Qu,AnimationLoader:rz,AnimationMixer:VC,AnimationObjectGroup:Bz,AnimationUtils:$U,ArcCurve:hC,ArrayCamera:aC,ArrowHelper:qz,Audio:GC,AudioAnalyser:_z,AudioContext:kg,AudioListener:vz,AudioLoader:dz,AxesHelper:$z,BackSide:Zr,BasicDepthPacking:JM,BasicShadowMap:tM,Bone:n1,BooleanKeyframeTrack:sc,Box2:Nz,Box3:Ys,Box3Helper:Zz,BoxBufferGeometry:lG,BoxGeometry:Ga,BoxHelper:Yz,BufferAttribute:Vt,BufferGeometry:_t,BufferGeometryLoader:UC,ByteType:bM,Cache:$l,Camera:Ih,CameraHelper:Kz,CanvasTexture:AU,CapsuleBufferGeometry:cG,CapsuleGeometry:Oh,CatmullRomCurve3:pC,CineonToneMapping:CM,CircleBufferGeometry:uG,CircleGeometry:Nh,ClampToEdgeWrapping:vr,Clock:Og,Color:qe,ColorKeyframeTrack:Rg,ColorManagement:Br,CompressedArrayTexture:SU,CompressedTexture:xg,CompressedTextureLoader:iz,ConeBufferGeometry:fG,ConeGeometry:Uh,CubeCamera:$M,CubeReflectionMapping:Ba,CubeRefractionMapping:Pa,CubeTexture:Dh,CubeTextureLoader:sz,CubeUVReflectionMapping:af,CubicBezierCurve:wg,CubicBezierCurve3:mC,CubicInterpolant:PC,CullFaceBack:$6,CullFaceFront:eM,CullFaceFrontBack:BI,CullFaceNone:$A,Curve:Ss,CurvePath:vC,CustomBlending:nM,CustomToneMapping:EM,CylinderBufferGeometry:dG,CylinderGeometry:ic,Cylindrical:Oz,Data3DTexture:K2,DataArrayTexture:Lh,DataTexture:bu,DataTexture2DArray:oG,DataTexture3D:aG,DataTextureLoader:oz,DataUtils:rG,DecrementStencilOp:UI,DecrementWrapStencilOp:GI,DefaultLoadingManager:mu,DepthFormat:ba,DepthStencilFormat:Yl,DepthTexture:lC,DirectionalLight:Dg,DirectionalLightHelper:Xz,DiscreteInterpolant:LC,DodecahedronBufferGeometry:hG,DodecahedronGeometry:zh,DoubleSide:rc,DstAlphaFactor:cM,DstColorFactor:fM,DynamicCopyUsage:tD,DynamicDrawUsage:Ep,DynamicReadUsage:qI,EdgesGeometry:Ii,EllipseCurve:s1,EqualDepth:vM,EqualStencilFunc:jI,EquirectangularReflectionMapping:lh,EquirectangularRefractionMapping:ch,Euler:cf,EventDispatcher:Ks,ExtrudeBufferGeometry:pG,ExtrudeGeometry:df,FileLoader:di,Float16BufferAttribute:FD,Float32BufferAttribute:ot,Float64BufferAttribute:kD,FloatType:Mo,Fog:t1,FogExp2:e1,FramebufferTexture:wU,FrontSide:js,Frustum:Z2,GLBufferAttribute:kz,GLSL1:rD,GLSL3:E8,GreaterDepth:xM,GreaterEqualDepth:yM,GreaterEqualStencilFunc:YI,GreaterStencilFunc:XI,GridHelper:jz,Group:Eo,HalfFloatType:Wu,HemisphereLight:FC,HemisphereLightHelper:Wz,HemisphereLightProbe:hz,IcosahedronBufferGeometry:mG,IcosahedronGeometry:Gh,ImageBitmapLoader:zC,ImageLoader:xh,ImageUtils:ug,ImmediateRenderObject:iG,IncrementStencilOp:NI,IncrementWrapStencilOp:zI,InstancedBufferAttribute:Ql,InstancedBufferGeometry:Fg,InstancedInterleavedBuffer:Fz,InstancedMesh:vg,Int16BufferAttribute:ID,Int32BufferAttribute:DD,Int8BufferAttribute:BD,IntType:RM,InterleavedBuffer:Fh,InterleavedBufferAttribute:Da,Interpolant:mf,InterpolateDiscrete:ju,InterpolateLinear:Zl,InterpolateSmooth:Mp,InvertStencilOp:HI,KeepStencilOp:Cp,KeyframeTrack:As,LOD:dC,LatheBufferGeometry:gG,LatheGeometry:ff,Layers:Nl,LessDepth:gM,LessEqualDepth:l2,LessEqualStencilFunc:JI,LessStencilFunc:WI,Light:Ha,LightProbe:l1,Line:ko,Line3:Uz,LineBasicMaterial:nn,LineCurve:o1,LineCurve3:gC,LineDashedMaterial:RC,LineLoop:yg,LineSegments:Pn,LinearEncoding:Ia,LinearFilter:fn,LinearInterpolant:Tg,LinearMipMapLinearFilter:DI,LinearMipMapNearestFilter:II,LinearMipmapLinearFilter:Js,LinearMipmapNearestFilter:J2,LinearSRGBColorSpace:Ju,LinearToneMapping:AM,Loader:kr,LoaderUtils:Ws,LoadingManager:Bg,LoopOnce:HM,LoopPingPong:WM,LoopRepeat:VM,LuminanceAlphaFormat:FM,LuminanceFormat:DM,MOUSE:ml,Material:Jn,MaterialLoader:c1,MathUtils:bl,Matrix3:Dr,Matrix4:dt,MaxEquation:i8,Mesh:Rn,MeshBasicMaterial:hn,MeshDepthMaterial:q2,MeshDistanceMaterial:$2,MeshLambertMaterial:bC,MeshMatcapMaterial:TC,MeshNormalMaterial:EC,MeshPhongMaterial:MC,MeshPhysicalMaterial:Zs,MeshStandardMaterial:Kh,MeshToonMaterial:CC,MinEquation:r8,MirroredRepeatWrapping:Vu,MixOperation:wM,MultiplyBlending:n8,MultiplyOperation:Ph,NearestFilter:Tn,NearestMipMapLinearFilter:LI,NearestMipMapNearestFilter:PI,NearestMipmapLinearFilter:Eu,NearestMipmapNearestFilter:uh,NeverDepth:pM,NeverStencilFunc:VI,NoBlending:Ro,NoColorSpace:FI,NoToneMapping:xs,NormalAnimationBlendMode:X2,NormalBlending:Bo,NotEqualDepth:_M,NotEqualStencilFunc:KI,NumberKeyframeTrack:Yu,Object3D:xt,ObjectLoader:uz,ObjectSpaceNormalMap:XM,OctahedronBufferGeometry:vG,OctahedronGeometry:hf,OneFactor:oM,OneMinusDstAlphaFactor:uM,OneMinusDstColorFactor:dM,OneMinusSrcAlphaFactor:rg,OneMinusSrcColorFactor:lM,OrthographicCamera:Us,PCFShadowMap:W2,PCFSoftShadowMap:Fd,PMREMGenerator:T8,Path:mh,PerspectiveCamera:wn,Plane:xo,PlaneBufferGeometry:yG,PlaneGeometry:zo,PlaneHelper:Qz,PointLight:Ig,PointLightHelper:Hz,Points:i1,PointsMaterial:r1,PolarGridHelper:Jz,PolyhedronBufferGeometry:xG,PolyhedronGeometry:Go,PositionalAudio:xz,PropertyBinding:Gt,PropertyMixer:HC,QuadraticBezierCurve:Sg,QuadraticBezierCurve3:Ag,Quaternion:ur,QuaternionKeyframeTrack:Fa,QuaternionLinearInterpolant:IC,REVISION:Bh,RGBADepthPacking:lg,RGBAFormat:oi,RGBAIntegerFormat:zM,RGBA_ASTC_10x10_Format:S8,RGBA_ASTC_10x5_Format:x8,RGBA_ASTC_10x6_Format:_8,RGBA_ASTC_10x8_Format:w8,RGBA_ASTC_12x10_Format:A8,RGBA_ASTC_12x12_Format:M8,RGBA_ASTC_4x4_Format:f8,RGBA_ASTC_5x4_Format:d8,RGBA_ASTC_5x5_Format:h8,RGBA_ASTC_6x5_Format:p8,RGBA_ASTC_6x6_Format:m8,RGBA_ASTC_8x5_Format:g8,RGBA_ASTC_8x6_Format:v8,RGBA_ASTC_8x8_Format:y8,RGBA_BPTC_Format:C8,RGBA_ETC2_EAC_Format:u8,RGBA_PVRTC_2BPPV1_Format:l8,RGBA_PVRTC_4BPPV1_Format:a8,RGBA_S3TC_DXT1_Format:wp,RGBA_S3TC_DXT3_Format:Sp,RGBA_S3TC_DXT5_Format:Ap,RGBFormat:IM,RGB_ETC1_Format:GM,RGB_ETC2_Format:c8,RGB_PVRTC_2BPPV1_Format:o8,RGB_PVRTC_4BPPV1_Format:s8,RGB_S3TC_DXT1_Format:_p,RGFormat:NM,RGIntegerFormat:UM,RawShaderMaterial:AC,Ray:lf,Raycaster:WC,RectAreaLight:OC,RedFormat:kM,RedIntegerFormat:OM,ReinhardToneMapping:MM,RepeatWrapping:La,ReplaceStencilOp:OI,ReverseSubtractEquation:iM,RingBufferGeometry:_G,RingGeometry:Hh,SRGBColorSpace:hs,Scene:Ku,ShaderChunk:Ct,ShaderLib:ms,ShaderMaterial:ws,ShadowMaterial:SC,Shape:Ul,ShapeBufferGeometry:wG,ShapeGeometry:Vh,ShapePath:JC,ShapeUtils:Vs,ShortType:TM,Skeleton:kh,SkeletonHelper:Gz,SkinnedMesh:gg,Source:Tl,Sphere:Uo,SphereBufferGeometry:SG,SphereGeometry:pf,Spherical:F8,SphericalHarmonics3:NC,SplineCurve:Mg,SpotLight:Lg,SpotLightHelper:zz,Sprite:fC,SpriteMaterial:mg,SrcAlphaFactor:ng,SrcAlphaSaturateFactor:hM,SrcColorFactor:aM,StaticCopyUsage:eD,StaticDrawUsage:dh,StaticReadUsage:QI,StereoCamera:mz,StreamCopyUsage:nD,StreamDrawUsage:ZI,StreamReadUsage:$I,StringKeyframeTrack:oc,SubtractEquation:rM,SubtractiveBlending:t8,TOUCH:gl,TangentSpaceNormalMap:za,TetrahedronBufferGeometry:AG,TetrahedronGeometry:Wh,Texture:on,TextureLoader:DC,TorusBufferGeometry:MG,TorusGeometry:jh,TorusKnotBufferGeometry:CG,TorusKnotGeometry:Jh,Triangle:Zi,TriangleFanDrawMode:c2,TriangleStripDrawMode:ag,TrianglesDrawMode:jM,TubeBufferGeometry:EG,TubeGeometry:Xh,TwoPassDoubleSide:Sd,UVMapping:j2,Uint16BufferAttribute:fg,Uint32BufferAttribute:dg,Uint8BufferAttribute:PD,Uint8ClampedBufferAttribute:LD,Uniform:zg,UniformsGroup:Dz,UniformsLib:Qe,UniformsUtils:Y2,UnsignedByteType:Fo,UnsignedInt248Type:Fl,UnsignedIntType:va,UnsignedShort4444Type:BM,UnsignedShort5551Type:PM,UnsignedShortType:sg,VSMShadowMap:Ml,Vector2:Re,Vector3:N,Vector4:Kt,VectorKeyframeTrack:Zu,VideoTexture:_U,WebGL1Renderer:cC,WebGL3DRenderTarget:_D,WebGLArrayRenderTarget:xD,WebGLCubeRenderTarget:eC,WebGLMultipleRenderTargets:wD,WebGLMultisampleRenderTarget:sG,WebGLRenderTarget:rs,WebGLRenderer:pg,WebGLUtils:oC,WireframeGeometry:wC,WrapAroundEnding:fh,ZeroCurvatureEnding:Cl,ZeroFactor:sM,ZeroSlopeEnding:El,ZeroStencilOp:kI,_SRGBAFormat:u2,sRGBEncoding:rn},Symbol.toStringTag,{value:"Module"}));var XC={exports:{}},ac={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ac.ConcurrentRoot=1;ac.ContinuousEventPriority=4;ac.DefaultEventPriority=16;ac.DiscreteEventPriority=1;ac.IdleEventPriority=536870912;ac.LegacyRoot=0;XC.exports=ac;var gu=XC.exports;function TG(n){let e;const t=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=u?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const g=u(e);if(!d(p,g)){const v=p;c(p=g,v)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const RG=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ix=RG?F.useEffect:F.useLayoutEffect;function BG(n){const e=typeof n=="function"?TG(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=F.useReducer(y=>y+1,0),o=e.getState(),a=F.useRef(o),l=F.useRef(r),c=F.useRef(i),u=F.useRef(!1),d=F.useRef();d.current===void 0&&(d.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(d.current,p)),Ix(()=>{m&&(d.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const g=F.useRef(o);Ix(()=>{const y=()=>{try{const _=e.getState(),S=l.current(_);c.current(d.current,S)||(a.current=_,d.current=S,s())}catch{u.current=!0,s()}},x=e.subscribe(y);return e.getState()!==g.current&&y(),x},[]);const v=m?p:d.current;return F.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var KC={exports:{}},YC={exports:{}},ZC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,W){var J=k.length;k.push(W);e:for(;0<J;){var D=J-1>>>1,O=k[D];if(0<i(O,W))k[D]=W,k[J]=O,J=D;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var W=k[0],J=k.pop();if(J!==W){k[0]=J;e:for(var D=0,O=k.length,ie=O>>>1;D<ie;){var $=2*(D+1)-1,te=k[$],Z=$+1,ne=k[Z];if(0>i(te,J))Z<O&&0>i(ne,te)?(k[D]=ne,k[Z]=J,D=Z):(k[D]=te,k[$]=J,D=$);else if(Z<O&&0>i(ne,J))k[D]=ne,k[Z]=J,D=Z;else break e}}return W}function i(k,W){var J=k.sortIndex-W.sortIndex;return J!==0?J:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,m=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(k){for(var W=t(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=k)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(c)}}function M(k){if(v=!1,S(k),!g)if(t(l)!==null)g=!0,ee(b);else{var W=t(c);W!==null&&ue(M,W.startTime-k)}}function b(k,W){g=!1,v&&(v=!1,x(C),C=-1),m=!0;var J=p;try{for(S(W),d=t(l);d!==null&&(!(d.expirationTime>W)||k&&!z());){var D=d.callback;if(typeof D=="function"){d.callback=null,p=d.priorityLevel;var O=D(d.expirationTime<=W);W=n.unstable_now(),typeof O=="function"?d.callback=O:d===t(l)&&r(l),S(W)}else r(l);d=t(l)}if(d!==null)var ie=!0;else{var $=t(c);$!==null&&ue(M,$.startTime-W),ie=!1}return ie}finally{d=null,p=J,m=!1}}var T=!1,R=null,C=-1,P=5,L=-1;function z(){return!(n.unstable_now()-L<P)}function G(){if(R!==null){var k=n.unstable_now();L=k;var W=!0;try{W=R(!0,k)}finally{W?V():(T=!1,R=null)}}else T=!1}var V;if(typeof _=="function")V=function(){_(G)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=G,V=function(){Y.postMessage(null)}}else V=function(){y(G,0)};function ee(k){R=k,T||(T=!0,V())}function ue(k,W){C=y(function(){k(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,ee(b))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var J=p;p=W;try{return k()}finally{p=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var J=p;p=k;try{return W()}finally{p=J}},n.unstable_scheduleCallback=function(k,W,J){var D=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?D+J:D):J=D,k){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=J+O,k={id:u++,callback:W,priorityLevel:k,startTime:J,expirationTime:O,sortIndex:-1},J>D?(k.sortIndex=J,e(c,k),t(l)===null&&k===t(c)&&(v?(x(C),C=-1):v=!0,ue(M,J-D))):(k.sortIndex=O,e(l,k),g||m||(g=!0,ee(b))),k},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(k){var W=p;return function(){var J=p;p=W;try{return k.apply(this,arguments)}finally{p=J}}}})(ZC);YC.exports=ZC;var k8=YC.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PG=function(e){var t={},r=F,i=k8,s=Object.assign;function o(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,w=1;w<arguments.length;w++)h+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),b=Symbol.iterator;function T(f){return f===null||typeof f!="object"?null:(f=b&&f[b]||f["@@iterator"],typeof f=="function"?f:null)}function R(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case x:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case g:return(f.displayName||"Context")+".Consumer";case m:return(f._context.displayName||"Context")+".Provider";case v:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case _:return h=f.displayName||null,h!==null?h:R(f.type)||"Memo";case S:h=f._payload,f=f._init;try{return R(f(h))}catch{}}return null}function C(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function P(f){var h=f,w=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,h.flags&4098&&(w=h.return),f=h.return;while(f)}return h.tag===3?w:null}function L(f){if(P(f)!==f)throw Error(o(188))}function z(f){var h=f.alternate;if(!h){if(h=P(f),h===null)throw Error(o(188));return h!==f?null:f}for(var w=f,A=h;;){var E=w.return;if(E===null)break;var B=E.alternate;if(B===null){if(A=E.return,A!==null){w=A;continue}break}if(E.child===B.child){for(B=E.child;B;){if(B===w)return L(E),f;if(B===A)return L(E),h;B=B.sibling}throw Error(o(188))}if(w.return!==A.return)w=E,A=B;else{for(var X=!1,oe=E.child;oe;){if(oe===w){X=!0,w=E,A=B;break}if(oe===A){X=!0,A=E,w=B;break}oe=oe.sibling}if(!X){for(oe=B.child;oe;){if(oe===w){X=!0,w=B,A=E;break}if(oe===A){X=!0,A=B,w=E;break}oe=oe.sibling}if(!X)throw Error(o(189))}}if(w.alternate!==A)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?f:h}function G(f){return f=z(f),f!==null?V(f):null}function V(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=V(f);if(h!==null)return h;f=f.sibling}return null}function H(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var h=H(f);if(h!==null)return h}f=f.sibling}return null}var Y=Array.isArray,ee=e.getPublicInstance,ue=e.getRootHostContext,k=e.getChildHostContext,W=e.prepareForCommit,J=e.resetAfterCommit,D=e.createInstance,O=e.appendInitialChild,ie=e.finalizeInitialChildren,$=e.prepareUpdate,te=e.shouldSetTextContent,Z=e.createTextInstance,ne=e.scheduleTimeout,he=e.cancelTimeout,Me=e.noTimeout,xe=e.isPrimaryRenderer,Ce=e.supportsMutation,q=e.supportsPersistence,de=e.supportsHydration,Be=e.getInstanceFromNode,we=e.preparePortalMount,Se=e.getCurrentEventPriority,We=e.detachDeletedInstance,ye=e.supportsMicrotasks,Fe=e.scheduleMicrotask,Ue=e.supportsTestSelectors,Te=e.findFiberRoot,U=e.getBoundingRect,I=e.getTextContent,re=e.isHiddenSubtree,pe=e.matchAccessibilityRole,Le=e.setFocusIfFocusable,ke=e.setupIntersectionObserver,Oe=e.appendChild,De=e.appendChildToContainer,ge=e.commitTextUpdate,Ze=e.commitMount,He=e.commitUpdate,je=e.insertBefore,Ve=e.insertInContainerBefore,Ne=e.removeChild,Q=e.removeChildFromContainer,Ae=e.resetTextContent,Je=e.hideInstance,K=e.hideTextInstance,fe=e.unhideInstance,Pe=e.unhideTextInstance,Ke=e.clearContainer,tt=e.cloneInstance,pt=e.createContainerChildSet,mt=e.appendChildToContainerChildSet,wt=e.finalizeContainerChildren,Dt=e.replaceContainerChildren,Pt=e.cloneHiddenInstance,Et=e.cloneHiddenTextInstance,St=e.canHydrateInstance,_r=e.canHydrateTextInstance,fr=e.canHydrateSuspenseInstance,jt=e.isSuspenseInstancePending,yn=e.isSuspenseInstanceFallback,j=e.registerSuspenseInstanceRetry,ce=e.getNextHydratableSibling,ve=e.getFirstHydratableChild,le=e.getFirstHydratableChildWithinContainer,be=e.getFirstHydratableChildWithinSuspenseInstance,rt=e.hydrateInstance,ct=e.hydrateTextInstance,At=e.hydrateSuspenseInstance,Mt=e.getNextHydratableInstanceAfterSuspenseInstance,bt=e.commitHydratedContainer,Tt=e.commitHydratedSuspenseInstance,Ft=e.clearSuspenseBoundary,an=e.clearSuspenseBoundaryFromContainer,Un=e.shouldDeleteUnhydratedTailInstances,Or=e.didNotMatchHydratedContainerTextInstance,mi=e.didNotMatchHydratedTextInstance,Ye;function ht(f){if(Ye===void 0)try{throw Error()}catch(w){var h=w.stack.trim().match(/\n( *(at )?)/);Ye=h&&h[1]||""}return`
`+Ye+f}var qs=!1;function qt(f,h){if(!f||qs)return"";qs=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Xe){var A=Xe}Reflect.construct(f,[],h)}else{try{h.call()}catch(Xe){A=Xe}f.call(h.prototype)}else{try{throw Error()}catch(Xe){A=Xe}f()}}catch(Xe){if(Xe&&A&&typeof Xe.stack=="string"){for(var E=Xe.stack.split(`
`),B=A.stack.split(`
`),X=E.length-1,oe=B.length-1;1<=X&&0<=oe&&E[X]!==B[oe];)oe--;for(;1<=X&&0<=oe;X--,oe--)if(E[X]!==B[oe]){if(X!==1||oe!==1)do if(X--,oe--,0>oe||E[X]!==B[oe]){var Ee=`
`+E[X].replace(" at new "," at ");return f.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",f.displayName)),Ee}while(1<=X&&0<=oe);break}}}finally{qs=!1,Error.prepareStackTrace=w}return(f=f?f.displayName||f.name:"")?ht(f):""}var Di=Object.prototype.hasOwnProperty,Cs=[],dr=-1;function hr(f){return{current:f}}function gt(f){0>dr||(f.current=Cs[dr],Cs[dr]=null,dr--)}function Lt(f,h){dr++,Cs[dr]=f.current,f.current=h}var Nr={},zt=hr(Nr),Ln=hr(!1),Ur=Nr;function gi(f,h){var w=f.type.contextTypes;if(!w)return Nr;var A=f.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===h)return A.__reactInternalMemoizedMaskedChildContext;var E={},B;for(B in w)E[B]=h[B];return A&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=E),E}function In(f){return f=f.childContextTypes,f!=null}function Ho(){gt(Ln),gt(zt)}function lc(f,h,w){if(zt.current!==Nr)throw Error(o(168));Lt(zt,h),Lt(Ln,w)}function cc(f,h,w){var A=f.stateNode;if(h=h.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var E in A)if(!(E in h))throw Error(o(108,C(f)||"Unknown",E));return s({},w,A)}function Es(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Nr,Ur=zt.current,Lt(zt,f),Lt(Ln,Ln.current),!0}function qh(f,h,w){var A=f.stateNode;if(!A)throw Error(o(169));w?(f=cc(f,h,Ur),A.__reactInternalMemoizedMergedChildContext=f,gt(Ln),gt(zt),Lt(zt,f)):gt(Ln),Lt(Ln,w)}var wr=Math.clz32?Math.clz32:$h,uc=Math.log,Va=Math.LN2;function $h(f){return f>>>=0,f===0?32:31-(uc(f)/Va|0)|0}var $s=64,eo=4194304;function to(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Wa(f,h){var w=f.pendingLanes;if(w===0)return 0;var A=0,E=f.suspendedLanes,B=f.pingedLanes,X=w&268435455;if(X!==0){var oe=X&~E;oe!==0?A=to(oe):(B&=X,B!==0&&(A=to(B)))}else X=w&~E,X!==0?A=to(X):B!==0&&(A=to(B));if(A===0)return 0;if(h!==0&&h!==A&&!(h&E)&&(E=A&-A,B=h&-h,E>=B||E===16&&(B&4194240)!==0))return h;if(A&4&&(A|=w&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=A;0<h;)w=31-wr(h),E=1<<w,A|=f[w],h&=~E;return A}function e3(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yf(f,h){for(var w=f.suspendedLanes,A=f.pingedLanes,E=f.expirationTimes,B=f.pendingLanes;0<B;){var X=31-wr(B),oe=1<<X,Ee=E[X];Ee===-1?(!(oe&w)||oe&A)&&(E[X]=e3(oe,h)):Ee<=h&&(f.expiredLanes|=oe),B&=~oe}}function no(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function fc(f){for(var h=[],w=0;31>w;w++)h.push(f);return h}function bs(f,h,w){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-wr(h),f[h]=w}function Vo(f,h){var w=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var A=f.eventTimes;for(f=f.expirationTimes;0<w;){var E=31-wr(w),B=1<<E;h[E]=0,A[E]=-1,f[E]=-1,w&=~B}}function Ts(f,h){var w=f.entangledLanes|=h;for(f=f.entanglements;w;){var A=31-wr(w),E=1<<A;E&h|f[A]&h&&(f[A]|=h),w&=~E}}var kt=0;function xf(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var ro=i.unstable_scheduleCallback,dc=i.unstable_cancelCallback,_f=i.unstable_shouldYield,t3=i.unstable_requestPaint,mn=i.unstable_now,Wo=i.unstable_ImmediatePriority,n3=i.unstable_UserBlockingPriority,zr=i.unstable_NormalPriority,wf=i.unstable_IdlePriority,jo=null,vi=null;function Sf(f){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(jo,f,void 0,(f.current.flags&128)===128)}catch{}}function hc(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var yi=typeof Object.is=="function"?Object.is:hc,Gr=null,Rs=!1,Fi=!1;function Af(f){Gr===null?Gr=[f]:Gr.push(f)}function Mf(f){Rs=!0,Af(f)}function $r(){if(!Fi&&Gr!==null){Fi=!0;var f=0,h=kt;try{var w=Gr;for(kt=1;f<w.length;f++){var A=w[f];do A=A(!0);while(A!==null)}Gr=null,Rs=!1}catch(E){throw Gr!==null&&(Gr=Gr.slice(f+1)),ro(Wo,$r),E}finally{kt=h,Fi=!1}}return null}var ja=a.ReactCurrentBatchConfig;function Ja(f,h){if(yi(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var w=Object.keys(f),A=Object.keys(h);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var E=w[A];if(!Di.call(h,E)||!yi(f[E],h[E]))return!1}return!0}function Xa(f){switch(f.tag){case 5:return ht(f.type);case 16:return ht("Lazy");case 13:return ht("Suspense");case 19:return ht("SuspenseList");case 0:case 2:case 15:return f=qt(f.type,!1),f;case 11:return f=qt(f.type.render,!1),f;case 1:return f=qt(f.type,!0),f;default:return""}}function Sr(f,h){if(f&&f.defaultProps){h=s({},h),f=f.defaultProps;for(var w in f)h[w]===void 0&&(h[w]=f[w]);return h}return h}var nr=hr(null),pc=null,is=null,Jo=null;function mc(){Jo=is=pc=null}function r3(f,h,w){xe?(Lt(nr,h._currentValue),h._currentValue=w):(Lt(nr,h._currentValue2),h._currentValue2=w)}function Bs(f){var h=nr.current;gt(nr),xe?f._currentValue=h:f._currentValue2=h}function zn(f,h,w){for(;f!==null;){var A=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,A!==null&&(A.childLanes|=h)):A!==null&&(A.childLanes&h)!==h&&(A.childLanes|=h),f===w)break;f=f.return}}function rr(f,h){pc=f,Jo=is=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&h&&(wi=!0),f.firstContext=null)}function $t(f){var h=xe?f._currentValue:f._currentValue2;if(Jo!==f)if(f={context:f,memoizedValue:h,next:null},is===null){if(pc===null)throw Error(o(308));is=f,pc.dependencies={lanes:0,firstContext:f}}else is=is.next=f;return h}var Kn=null,ss=!1;function d1(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zg(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function io(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function Xo(f,h){var w=f.updateQueue;w!==null&&(w=w.shared,Gn!==null&&f.mode&1&&!(It&2)?(f=w.interleaved,f===null?(h.next=h,Kn===null?Kn=[w]:Kn.push(w)):(h.next=f.next,f.next=h),w.interleaved=h):(f=w.pending,f===null?h.next=h:(h.next=f.next,f.next=h),w.pending=h))}function i3(f,h,w){if(h=h.updateQueue,h!==null&&(h=h.shared,(w&4194240)!==0)){var A=h.lanes;A&=f.pendingLanes,w|=A,h.lanes=w,Ts(f,w)}}function Qg(f,h){var w=f.updateQueue,A=f.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var E=null,B=null;if(w=w.firstBaseUpdate,w!==null){do{var X={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};B===null?E=B=X:B=B.next=X,w=w.next}while(w!==null);B===null?E=B=h:B=B.next=h}else E=B=h;w={baseState:A.baseState,firstBaseUpdate:E,lastBaseUpdate:B,shared:A.shared,effects:A.effects},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=h:f.next=h,w.lastBaseUpdate=h}function s3(f,h,w,A){var E=f.updateQueue;ss=!1;var B=E.firstBaseUpdate,X=E.lastBaseUpdate,oe=E.shared.pending;if(oe!==null){E.shared.pending=null;var Ee=oe,Xe=Ee.next;Ee.next=null,X===null?B=Xe:X.next=Xe,X=Ee;var it=f.alternate;it!==null&&(it=it.updateQueue,oe=it.lastBaseUpdate,oe!==X&&(oe===null?it.firstBaseUpdate=Xe:oe.next=Xe,it.lastBaseUpdate=Ee))}if(B!==null){var vt=E.baseState;X=0,it=Xe=Ee=null,oe=B;do{var ut=oe.lane,en=oe.eventTime;if((A&ut)===ut){it!==null&&(it=it.next={eventTime:en,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var lt=f,Er=oe;switch(ut=h,en=w,Er.tag){case 1:if(lt=Er.payload,typeof lt=="function"){vt=lt.call(en,vt,ut);break e}vt=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=Er.payload,ut=typeof lt=="function"?lt.call(en,vt,ut):lt,ut==null)break e;vt=s({},vt,ut);break e;case 2:ss=!0}}oe.callback!==null&&oe.lane!==0&&(f.flags|=64,ut=E.effects,ut===null?E.effects=[oe]:ut.push(oe))}else en={eventTime:en,lane:ut,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},it===null?(Xe=it=en,Ee=vt):it=it.next=en,X|=ut;if(oe=oe.next,oe===null){if(oe=E.shared.pending,oe===null)break;ut=oe,oe=ut.next,ut.next=null,E.lastBaseUpdate=ut,E.shared.pending=null}}while(1);if(it===null&&(Ee=vt),E.baseState=Ee,E.firstBaseUpdate=Xe,E.lastBaseUpdate=it,h=E.shared.interleaved,h!==null){E=h;do X|=E.lane,E=E.next;while(E!==h)}else B===null&&(E.shared.lanes=0);Mc|=X,f.lanes=X,f.memoizedState=vt}}function qg(f,h,w){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var A=f[h],E=A.callback;if(E!==null){if(A.callback=null,A=w,typeof E!="function")throw Error(o(191,E));E.call(A)}}}var $g=new r.Component().refs;function h1(f,h,w,A){h=f.memoizedState,w=w(A,h),w=w==null?h:s({},h,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}var o3={isMounted:function(f){return(f=f._reactInternals)?P(f)===f:!1},enqueueSetState:function(f,h,w){f=f._reactInternals;var A=Vr(),E=Zo(f),B=io(A,E);B.payload=h,w!=null&&(B.callback=w),Xo(f,B),h=zi(f,E,A),h!==null&&i3(h,f,E)},enqueueReplaceState:function(f,h,w){f=f._reactInternals;var A=Vr(),E=Zo(f),B=io(A,E);B.tag=1,B.payload=h,w!=null&&(B.callback=w),Xo(f,B),h=zi(f,E,A),h!==null&&i3(h,f,E)},enqueueForceUpdate:function(f,h){f=f._reactInternals;var w=Vr(),A=Zo(f),E=io(w,A);E.tag=2,h!=null&&(E.callback=h),Xo(f,E),h=zi(f,A,w),h!==null&&i3(h,f,A)}};function e9(f,h,w,A,E,B,X){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(A,B,X):h.prototype&&h.prototype.isPureReactComponent?!Ja(w,A)||!Ja(E,B):!0}function t9(f,h,w){var A=!1,E=Nr,B=h.contextType;return typeof B=="object"&&B!==null?B=$t(B):(E=In(h)?Ur:zt.current,A=h.contextTypes,B=(A=A!=null)?gi(f,E):Nr),h=new h(w,B),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=o3,f.stateNode=h,h._reactInternals=f,A&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=E,f.__reactInternalMemoizedMaskedChildContext=B),h}function n9(f,h,w,A){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(w,A),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(w,A),h.state!==f&&o3.enqueueReplaceState(h,h.state,null)}function p1(f,h,w,A){var E=f.stateNode;E.props=w,E.state=f.memoizedState,E.refs=$g,d1(f);var B=h.contextType;typeof B=="object"&&B!==null?E.context=$t(B):(B=In(h)?Ur:zt.current,E.context=gi(f,B)),E.state=f.memoizedState,B=h.getDerivedStateFromProps,typeof B=="function"&&(h1(f,h,B,w),E.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(h=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),h!==E.state&&o3.enqueueReplaceState(E,E.state,null),s3(f,w,E,A),E.state=f.memoizedState),typeof E.componentDidMount=="function"&&(f.flags|=4194308)}var gc=[],vc=0,a3=null,l3=0,ki=[],Oi=0,Ka=null,so=1,oo="";function Ya(f,h){gc[vc++]=l3,gc[vc++]=a3,a3=f,l3=h}function r9(f,h,w){ki[Oi++]=so,ki[Oi++]=oo,ki[Oi++]=Ka,Ka=f;var A=so;f=oo;var E=32-wr(A)-1;A&=~(1<<E),w+=1;var B=32-wr(h)+E;if(30<B){var X=E-E%5;B=(A&(1<<X)-1).toString(32),A>>=X,E-=X,so=1<<32-wr(h)+E|w<<E|A,oo=B+f}else so=1<<B|w<<E|A,oo=f}function m1(f){f.return!==null&&(Ya(f,1),r9(f,1,0))}function g1(f){for(;f===a3;)a3=gc[--vc],gc[vc]=null,l3=gc[--vc],gc[vc]=null;for(;f===Ka;)Ka=ki[--Oi],ki[Oi]=null,oo=ki[--Oi],ki[Oi]=null,so=ki[--Oi],ki[Oi]=null}var xi=null,_i=null,gn=!1,Cf=!1,os=null;function i9(f,h){var w=Gi(5,null,null,0);w.elementType="DELETED",w.stateNode=h,w.return=f,h=f.deletions,h===null?(f.deletions=[w],f.flags|=16):h.push(w)}function s9(f,h){switch(f.tag){case 5:return h=St(h,f.type,f.pendingProps),h!==null?(f.stateNode=h,xi=f,_i=ve(h),!0):!1;case 6:return h=_r(h,f.pendingProps),h!==null?(f.stateNode=h,xi=f,_i=null,!0):!1;case 13:if(h=fr(h),h!==null){var w=Ka!==null?{id:so,overflow:oo}:null;return f.memoizedState={dehydrated:h,treeContext:w,retryLane:1073741824},w=Gi(18,null,null,0),w.stateNode=h,w.return=f,f.child=w,xi=f,_i=null,!0}return!1;default:return!1}}function v1(f){return(f.mode&1)!==0&&(f.flags&128)===0}function y1(f){if(gn){var h=_i;if(h){var w=h;if(!s9(f,h)){if(v1(f))throw Error(o(418));h=ce(w);var A=xi;h&&s9(f,h)?i9(A,w):(f.flags=f.flags&-4097|2,gn=!1,xi=f)}}else{if(v1(f))throw Error(o(418));f.flags=f.flags&-4097|2,gn=!1,xi=f}}}function o9(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;xi=f}function Ef(f){if(!de||f!==xi)return!1;if(!gn)return o9(f),gn=!0,!1;if(f.tag!==3&&(f.tag!==5||Un(f.type)&&!te(f.type,f.memoizedProps))){var h=_i;if(h){if(v1(f)){for(f=_i;f;)f=ce(f);throw Error(o(418))}for(;h;)i9(f,h),h=ce(h)}}if(o9(f),f.tag===13){if(!de)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));_i=Mt(f)}else _i=xi?ce(f.stateNode):null;return!0}function yc(){de&&(_i=xi=null,Cf=gn=!1)}function x1(f){os===null?os=[f]:os.push(f)}function bf(f,h,w){if(f=w.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var A=w.stateNode}if(!A)throw Error(o(147,f));var E=A,B=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===B?h.ref:(h=function(X){var oe=E.refs;oe===$g&&(oe=E.refs={}),X===null?delete oe[B]:oe[B]=X},h._stringRef=B,h)}if(typeof f!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,f))}return f}function c3(f,h){throw f=Object.prototype.toString.call(h),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function a9(f){var h=f._init;return h(f._payload)}function l9(f){function h(me,ae){if(f){var _e=me.deletions;_e===null?(me.deletions=[ae],me.flags|=16):_e.push(ae)}}function w(me,ae){if(!f)return null;for(;ae!==null;)h(me,ae),ae=ae.sibling;return null}function A(me,ae){for(me=new Map;ae!==null;)ae.key!==null?me.set(ae.key,ae):me.set(ae.index,ae),ae=ae.sibling;return me}function E(me,ae){return me=qo(me,ae),me.index=0,me.sibling=null,me}function B(me,ae,_e){return me.index=_e,f?(_e=me.alternate,_e!==null?(_e=_e.index,_e<ae?(me.flags|=2,ae):_e):(me.flags|=2,ae)):(me.flags|=1048576,ae)}function X(me){return f&&me.alternate===null&&(me.flags|=2),me}function oe(me,ae,_e,et){return ae===null||ae.tag!==6?(ae=n5(_e,me.mode,et),ae.return=me,ae):(ae=E(ae,_e),ae.return=me,ae)}function Ee(me,ae,_e,et){var at=_e.type;return at===u?it(me,ae,_e.props.children,et,_e.key):ae!==null&&(ae.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&a9(at)===ae.type)?(et=E(ae,_e.props),et.ref=bf(me,ae,_e),et.return=me,et):(et=z3(_e.type,_e.key,_e.props,null,me.mode,et),et.ref=bf(me,ae,_e),et.return=me,et)}function Xe(me,ae,_e,et){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==_e.containerInfo||ae.stateNode.implementation!==_e.implementation?(ae=r5(_e,me.mode,et),ae.return=me,ae):(ae=E(ae,_e.children||[]),ae.return=me,ae)}function it(me,ae,_e,et,at){return ae===null||ae.tag!==7?(ae=nl(_e,me.mode,et,at),ae.return=me,ae):(ae=E(ae,_e),ae.return=me,ae)}function vt(me,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=n5(""+ae,me.mode,_e),ae.return=me,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:return _e=z3(ae.type,ae.key,ae.props,null,me.mode,_e),_e.ref=bf(me,null,ae),_e.return=me,_e;case c:return ae=r5(ae,me.mode,_e),ae.return=me,ae;case S:var et=ae._init;return vt(me,et(ae._payload),_e)}if(Y(ae)||T(ae))return ae=nl(ae,me.mode,_e,null),ae.return=me,ae;c3(me,ae)}return null}function ut(me,ae,_e,et){var at=ae!==null?ae.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return at!==null?null:oe(me,ae,""+_e,et);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:return _e.key===at?Ee(me,ae,_e,et):null;case c:return _e.key===at?Xe(me,ae,_e,et):null;case S:return at=_e._init,ut(me,ae,at(_e._payload),et)}if(Y(_e)||T(_e))return at!==null?null:it(me,ae,_e,et,null);c3(me,_e)}return null}function en(me,ae,_e,et,at){if(typeof et=="string"&&et!==""||typeof et=="number")return me=me.get(_e)||null,oe(ae,me,""+et,at);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case l:return me=me.get(et.key===null?_e:et.key)||null,Ee(ae,me,et,at);case c:return me=me.get(et.key===null?_e:et.key)||null,Xe(ae,me,et,at);case S:var Rt=et._init;return en(me,ae,_e,Rt(et._payload),at)}if(Y(et)||T(et))return me=me.get(_e)||null,it(ae,me,et,at,null);c3(ae,et)}return null}function lt(me,ae,_e,et){for(var at=null,Rt=null,yt=ae,Jt=ae=0,sr=null;yt!==null&&Jt<_e.length;Jt++){yt.index>Jt?(sr=yt,yt=null):sr=yt.sibling;var Xt=ut(me,yt,_e[Jt],et);if(Xt===null){yt===null&&(yt=sr);break}f&&yt&&Xt.alternate===null&&h(me,yt),ae=B(Xt,ae,Jt),Rt===null?at=Xt:Rt.sibling=Xt,Rt=Xt,yt=sr}if(Jt===_e.length)return w(me,yt),gn&&Ya(me,Jt),at;if(yt===null){for(;Jt<_e.length;Jt++)yt=vt(me,_e[Jt],et),yt!==null&&(ae=B(yt,ae,Jt),Rt===null?at=yt:Rt.sibling=yt,Rt=yt);return gn&&Ya(me,Jt),at}for(yt=A(me,yt);Jt<_e.length;Jt++)sr=en(yt,me,Jt,_e[Jt],et),sr!==null&&(f&&sr.alternate!==null&&yt.delete(sr.key===null?Jt:sr.key),ae=B(sr,ae,Jt),Rt===null?at=sr:Rt.sibling=sr,Rt=sr);return f&&yt.forEach(function($o){return h(me,$o)}),gn&&Ya(me,Jt),at}function Er(me,ae,_e,et){var at=T(_e);if(typeof at!="function")throw Error(o(150));if(_e=at.call(_e),_e==null)throw Error(o(151));for(var Rt=at=null,yt=ae,Jt=ae=0,sr=null,Xt=_e.next();yt!==null&&!Xt.done;Jt++,Xt=_e.next()){yt.index>Jt?(sr=yt,yt=null):sr=yt.sibling;var $o=ut(me,yt,Xt.value,et);if($o===null){yt===null&&(yt=sr);break}f&&yt&&$o.alternate===null&&h(me,yt),ae=B($o,ae,Jt),Rt===null?at=$o:Rt.sibling=$o,Rt=$o,yt=sr}if(Xt.done)return w(me,yt),gn&&Ya(me,Jt),at;if(yt===null){for(;!Xt.done;Jt++,Xt=_e.next())Xt=vt(me,Xt.value,et),Xt!==null&&(ae=B(Xt,ae,Jt),Rt===null?at=Xt:Rt.sibling=Xt,Rt=Xt);return gn&&Ya(me,Jt),at}for(yt=A(me,yt);!Xt.done;Jt++,Xt=_e.next())Xt=en(yt,me,Jt,Xt.value,et),Xt!==null&&(f&&Xt.alternate!==null&&yt.delete(Xt.key===null?Jt:Xt.key),ae=B(Xt,ae,Jt),Rt===null?at=Xt:Rt.sibling=Xt,Rt=Xt);return f&&yt.forEach(function(Rb){return h(me,Rb)}),gn&&Ya(me,Jt),at}function Hi(me,ae,_e,et){if(typeof _e=="object"&&_e!==null&&_e.type===u&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:e:{for(var at=_e.key,Rt=ae;Rt!==null;){if(Rt.key===at){if(at=_e.type,at===u){if(Rt.tag===7){w(me,Rt.sibling),ae=E(Rt,_e.props.children),ae.return=me,me=ae;break e}}else if(Rt.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&a9(at)===Rt.type){w(me,Rt.sibling),ae=E(Rt,_e.props),ae.ref=bf(me,Rt,_e),ae.return=me,me=ae;break e}w(me,Rt);break}else h(me,Rt);Rt=Rt.sibling}_e.type===u?(ae=nl(_e.props.children,me.mode,et,_e.key),ae.return=me,me=ae):(et=z3(_e.type,_e.key,_e.props,null,me.mode,et),et.ref=bf(me,ae,_e),et.return=me,me=et)}return X(me);case c:e:{for(Rt=_e.key;ae!==null;){if(ae.key===Rt)if(ae.tag===4&&ae.stateNode.containerInfo===_e.containerInfo&&ae.stateNode.implementation===_e.implementation){w(me,ae.sibling),ae=E(ae,_e.children||[]),ae.return=me,me=ae;break e}else{w(me,ae);break}else h(me,ae);ae=ae.sibling}ae=r5(_e,me.mode,et),ae.return=me,me=ae}return X(me);case S:return Rt=_e._init,Hi(me,ae,Rt(_e._payload),et)}if(Y(_e))return lt(me,ae,_e,et);if(T(_e))return Er(me,ae,_e,et);c3(me,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,ae!==null&&ae.tag===6?(w(me,ae.sibling),ae=E(ae,_e),ae.return=me,me=ae):(w(me,ae),ae=n5(_e,me.mode,et),ae.return=me,me=ae),X(me)):w(me,ae)}return Hi}var xc=l9(!0),c9=l9(!1),Tf={},Ni=hr(Tf),Rf=hr(Tf),_c=hr(Tf);function Ps(f){if(f===Tf)throw Error(o(174));return f}function _1(f,h){Lt(_c,h),Lt(Rf,f),Lt(Ni,Tf),f=ue(h),gt(Ni),Lt(Ni,f)}function wc(){gt(Ni),gt(Rf),gt(_c)}function u9(f){var h=Ps(_c.current),w=Ps(Ni.current);h=k(w,f.type,h),w!==h&&(Lt(Rf,f),Lt(Ni,h))}function w1(f){Rf.current===f&&(gt(Ni),gt(Rf))}var xn=hr(0);function u3(f){for(var h=f;h!==null;){if(h.tag===13){var w=h.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||jt(w)||yn(w)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var S1=[];function A1(){for(var f=0;f<S1.length;f++){var h=S1[f];xe?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}S1.length=0}var f3=a.ReactCurrentDispatcher,Ui=a.ReactCurrentBatchConfig,Sc=0,Cn=null,Ar=null,ir=null,d3=!1,Bf=!1,Pf=0,eb=0;function Mr(){throw Error(o(321))}function M1(f,h){if(h===null)return!1;for(var w=0;w<h.length&&w<f.length;w++)if(!yi(f[w],h[w]))return!1;return!0}function C1(f,h,w,A,E,B){if(Sc=B,Cn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,f3.current=f===null||f.memoizedState===null?ib:sb,f=w(A,E),Bf){B=0;do{if(Bf=!1,Pf=0,25<=B)throw Error(o(301));B+=1,ir=Ar=null,h.updateQueue=null,f3.current=ob,f=w(A,E)}while(Bf)}if(f3.current=v3,h=Ar!==null&&Ar.next!==null,Sc=0,ir=Ar=Cn=null,d3=!1,h)throw Error(o(300));return f}function E1(){var f=Pf!==0;return Pf=0,f}function ao(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Cn.memoizedState=ir=f:ir=ir.next=f,ir}function Ls(){if(Ar===null){var f=Cn.alternate;f=f!==null?f.memoizedState:null}else f=Ar.next;var h=ir===null?Cn.memoizedState:ir.next;if(h!==null)ir=h,Ar=f;else{if(f===null)throw Error(o(310));Ar=f,f={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},ir===null?Cn.memoizedState=ir=f:ir=ir.next=f}return ir}function Za(f,h){return typeof h=="function"?h(f):h}function h3(f){var h=Ls(),w=h.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=f;var A=Ar,E=A.baseQueue,B=w.pending;if(B!==null){if(E!==null){var X=E.next;E.next=B.next,B.next=X}A.baseQueue=E=B,w.pending=null}if(E!==null){B=E.next,A=A.baseState;var oe=X=null,Ee=null,Xe=B;do{var it=Xe.lane;if((Sc&it)===it)Ee!==null&&(Ee=Ee.next={lane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),A=Xe.hasEagerState?Xe.eagerState:f(A,Xe.action);else{var vt={lane:it,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null};Ee===null?(oe=Ee=vt,X=A):Ee=Ee.next=vt,Cn.lanes|=it,Mc|=it}Xe=Xe.next}while(Xe!==null&&Xe!==B);Ee===null?X=A:Ee.next=oe,yi(A,h.memoizedState)||(wi=!0),h.memoizedState=A,h.baseState=X,h.baseQueue=Ee,w.lastRenderedState=A}if(f=w.interleaved,f!==null){E=f;do B=E.lane,Cn.lanes|=B,Mc|=B,E=E.next;while(E!==f)}else E===null&&(w.lanes=0);return[h.memoizedState,w.dispatch]}function p3(f){var h=Ls(),w=h.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=f;var A=w.dispatch,E=w.pending,B=h.memoizedState;if(E!==null){w.pending=null;var X=E=E.next;do B=f(B,X.action),X=X.next;while(X!==E);yi(B,h.memoizedState)||(wi=!0),h.memoizedState=B,h.baseQueue===null&&(h.baseState=B),w.lastRenderedState=B}return[B,A]}function f9(){}function d9(f,h){var w=Cn,A=Ls(),E=h(),B=!yi(A.memoizedState,E);if(B&&(A.memoizedState=E,wi=!0),A=A.queue,If(m9.bind(null,w,A,f),[f]),A.getSnapshot!==h||B||ir!==null&&ir.memoizedState.tag&1){if(w.flags|=2048,Lf(9,p9.bind(null,w,A,E,h),void 0,null),Gn===null)throw Error(o(349));Sc&30||h9(w,h,E)}return E}function h9(f,h,w){f.flags|=16384,f={getSnapshot:h,value:w},h=Cn.updateQueue,h===null?(h={lastEffect:null,stores:null},Cn.updateQueue=h,h.stores=[f]):(w=h.stores,w===null?h.stores=[f]:w.push(f))}function p9(f,h,w,A){h.value=w,h.getSnapshot=A,g9(h)&&zi(f,1,-1)}function m9(f,h,w){return w(function(){g9(h)&&zi(f,1,-1)})}function g9(f){var h=f.getSnapshot;f=f.value;try{var w=h();return!yi(f,w)}catch{return!0}}function b1(f){var h=ao();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:f},h.queue=f,f=f.dispatch=rb.bind(null,Cn,f),[h.memoizedState,f]}function Lf(f,h,w,A){return f={tag:f,create:h,destroy:w,deps:A,next:null},h=Cn.updateQueue,h===null?(h={lastEffect:null,stores:null},Cn.updateQueue=h,h.lastEffect=f.next=f):(w=h.lastEffect,w===null?h.lastEffect=f.next=f:(A=w.next,w.next=f,f.next=A,h.lastEffect=f)),f}function v9(){return Ls().memoizedState}function m3(f,h,w,A){var E=ao();Cn.flags|=f,E.memoizedState=Lf(1|h,w,void 0,A===void 0?null:A)}function g3(f,h,w,A){var E=Ls();A=A===void 0?null:A;var B=void 0;if(Ar!==null){var X=Ar.memoizedState;if(B=X.destroy,A!==null&&M1(A,X.deps)){E.memoizedState=Lf(h,w,B,A);return}}Cn.flags|=f,E.memoizedState=Lf(1|h,w,B,A)}function T1(f,h){return m3(8390656,8,f,h)}function If(f,h){return g3(2048,8,f,h)}function y9(f,h){return g3(4,2,f,h)}function x9(f,h){return g3(4,4,f,h)}function _9(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function w9(f,h,w){return w=w!=null?w.concat([f]):null,g3(4,4,_9.bind(null,h,f),w)}function R1(){}function S9(f,h){var w=Ls();h=h===void 0?null:h;var A=w.memoizedState;return A!==null&&h!==null&&M1(h,A[1])?A[0]:(w.memoizedState=[f,h],f)}function A9(f,h){var w=Ls();h=h===void 0?null:h;var A=w.memoizedState;return A!==null&&h!==null&&M1(h,A[1])?A[0]:(f=f(),w.memoizedState=[f,h],f)}function tb(f,h){var w=kt;kt=w!==0&&4>w?w:4,f(!0);var A=Ui.transition;Ui.transition={};try{f(!1),h()}finally{kt=w,Ui.transition=A}}function M9(){return Ls().memoizedState}function nb(f,h,w){var A=Zo(f);w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},C9(f)?E9(h,w):(b9(f,h,w),w=Vr(),f=zi(f,A,w),f!==null&&T9(f,h,A))}function rb(f,h,w){var A=Zo(f),E={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(C9(f))E9(h,E);else{b9(f,h,E);var B=f.alternate;if(f.lanes===0&&(B===null||B.lanes===0)&&(B=h.lastRenderedReducer,B!==null))try{var X=h.lastRenderedState,oe=B(X,w);if(E.hasEagerState=!0,E.eagerState=oe,yi(oe,X))return}catch{}finally{}w=Vr(),f=zi(f,A,w),f!==null&&T9(f,h,A)}}function C9(f){var h=f.alternate;return f===Cn||h!==null&&h===Cn}function E9(f,h){Bf=d3=!0;var w=f.pending;w===null?h.next=h:(h.next=w.next,w.next=h),f.pending=h}function b9(f,h,w){Gn!==null&&f.mode&1&&!(It&2)?(f=h.interleaved,f===null?(w.next=w,Kn===null?Kn=[h]:Kn.push(h)):(w.next=f.next,f.next=w),h.interleaved=w):(f=h.pending,f===null?w.next=w:(w.next=f.next,f.next=w),h.pending=w)}function T9(f,h,w){if(w&4194240){var A=h.lanes;A&=f.pendingLanes,w|=A,h.lanes=w,Ts(f,w)}}var v3={readContext:$t,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},ib={readContext:$t,useCallback:function(f,h){return ao().memoizedState=[f,h===void 0?null:h],f},useContext:$t,useEffect:T1,useImperativeHandle:function(f,h,w){return w=w!=null?w.concat([f]):null,m3(4194308,4,_9.bind(null,h,f),w)},useLayoutEffect:function(f,h){return m3(4194308,4,f,h)},useInsertionEffect:function(f,h){return m3(4,2,f,h)},useMemo:function(f,h){var w=ao();return h=h===void 0?null:h,f=f(),w.memoizedState=[f,h],f},useReducer:function(f,h,w){var A=ao();return h=w!==void 0?w(h):h,A.memoizedState=A.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},A.queue=f,f=f.dispatch=nb.bind(null,Cn,f),[A.memoizedState,f]},useRef:function(f){var h=ao();return f={current:f},h.memoizedState=f},useState:b1,useDebugValue:R1,useDeferredValue:function(f){var h=b1(f),w=h[0],A=h[1];return T1(function(){var E=Ui.transition;Ui.transition={};try{A(f)}finally{Ui.transition=E}},[f]),w},useTransition:function(){var f=b1(!1),h=f[0];return f=tb.bind(null,f[1]),ao().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,w){var A=Cn,E=ao();if(gn){if(w===void 0)throw Error(o(407));w=w()}else{if(w=h(),Gn===null)throw Error(o(349));Sc&30||h9(A,h,w)}E.memoizedState=w;var B={value:w,getSnapshot:h};return E.queue=B,T1(m9.bind(null,A,B,f),[f]),A.flags|=2048,Lf(9,p9.bind(null,A,B,w,h),void 0,null),w},useId:function(){var f=ao(),h=Gn.identifierPrefix;if(gn){var w=oo,A=so;w=(A&~(1<<32-wr(A)-1)).toString(32)+w,h=":"+h+"R"+w,w=Pf++,0<w&&(h+="H"+w.toString(32)),h+=":"}else w=eb++,h=":"+h+"r"+w.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},sb={readContext:$t,useCallback:S9,useContext:$t,useEffect:If,useImperativeHandle:w9,useInsertionEffect:y9,useLayoutEffect:x9,useMemo:A9,useReducer:h3,useRef:v9,useState:function(){return h3(Za)},useDebugValue:R1,useDeferredValue:function(f){var h=h3(Za),w=h[0],A=h[1];return If(function(){var E=Ui.transition;Ui.transition={};try{A(f)}finally{Ui.transition=E}},[f]),w},useTransition:function(){var f=h3(Za)[0],h=Ls().memoizedState;return[f,h]},useMutableSource:f9,useSyncExternalStore:d9,useId:M9,unstable_isNewReconciler:!1},ob={readContext:$t,useCallback:S9,useContext:$t,useEffect:If,useImperativeHandle:w9,useInsertionEffect:y9,useLayoutEffect:x9,useMemo:A9,useReducer:p3,useRef:v9,useState:function(){return p3(Za)},useDebugValue:R1,useDeferredValue:function(f){var h=p3(Za),w=h[0],A=h[1];return If(function(){var E=Ui.transition;Ui.transition={};try{A(f)}finally{Ui.transition=E}},[f]),w},useTransition:function(){var f=p3(Za)[0],h=Ls().memoizedState;return[f,h]},useMutableSource:f9,useSyncExternalStore:d9,useId:M9,unstable_isNewReconciler:!1};function B1(f,h){try{var w="",A=h;do w+=Xa(A),A=A.return;while(A);var E=w}catch(B){E=`
Error generating stack: `+B.message+`
`+B.stack}return{value:f,source:h,stack:E}}function P1(f,h){try{console.error(h.value)}catch(w){setTimeout(function(){throw w})}}var ab=typeof WeakMap=="function"?WeakMap:Map;function R9(f,h,w){w=io(-1,w),w.tag=3,w.payload={element:null};var A=h.value;return w.callback=function(){I3||(I3=!0,Y1=A),P1(f,h)},w}function B9(f,h,w){w=io(-1,w),w.tag=3;var A=f.type.getDerivedStateFromError;if(typeof A=="function"){var E=h.value;w.payload=function(){return A(E)},w.callback=function(){P1(f,h)}}var B=f.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(w.callback=function(){P1(f,h),typeof A!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var X=h.stack;this.componentDidCatch(h.value,{componentStack:X!==null?X:""})}),w}function P9(f,h,w){var A=f.pingCache;if(A===null){A=f.pingCache=new ab;var E=new Set;A.set(h,E)}else E=A.get(h),E===void 0&&(E=new Set,A.set(h,E));E.has(w)||(E.add(w),f=wb.bind(null,f,h,w),h.then(f,f))}function L9(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function I9(f,h,w,A,E){return f.mode&1?(f.flags|=65536,f.lanes=E,f):(f===h?f.flags|=65536:(f.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(h=io(-1,1),h.tag=2,Xo(w,h))),w.lanes|=1),f)}function Is(f){f.flags|=4}function D9(f,h){if(f!==null&&f.child===h.child)return!0;if(h.flags&16)return!1;for(f=h.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var Df,Ff,y3,x3;if(Ce)Df=function(f,h){for(var w=h.child;w!==null;){if(w.tag===5||w.tag===6)O(f,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Ff=function(){},y3=function(f,h,w,A,E){if(f=f.memoizedProps,f!==A){var B=h.stateNode,X=Ps(Ni.current);w=$(B,w,f,A,E,X),(h.updateQueue=w)&&Is(h)}},x3=function(f,h,w,A){w!==A&&Is(h)};else if(q){Df=function(f,h,w,A){for(var E=h.child;E!==null;){if(E.tag===5){var B=E.stateNode;w&&A&&(B=Pt(B,E.type,E.memoizedProps,E)),O(f,B)}else if(E.tag===6)B=E.stateNode,w&&A&&(B=Et(B,E.memoizedProps,E)),O(f,B);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)B=E.child,B!==null&&(B.return=E),Df(f,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var F9=function(f,h,w,A){for(var E=h.child;E!==null;){if(E.tag===5){var B=E.stateNode;w&&A&&(B=Pt(B,E.type,E.memoizedProps,E)),mt(f,B)}else if(E.tag===6)B=E.stateNode,w&&A&&(B=Et(B,E.memoizedProps,E)),mt(f,B);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)B=E.child,B!==null&&(B.return=E),F9(f,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};Ff=function(f,h){var w=h.stateNode;if(!D9(f,h)){f=w.containerInfo;var A=pt(f);F9(A,h,!1,!1),w.pendingChildren=A,Is(h),wt(f,A)}},y3=function(f,h,w,A,E){var B=f.stateNode,X=f.memoizedProps;if((f=D9(f,h))&&X===A)h.stateNode=B;else{var oe=h.stateNode,Ee=Ps(Ni.current),Xe=null;X!==A&&(Xe=$(oe,w,X,A,E,Ee)),f&&Xe===null?h.stateNode=B:(B=tt(B,Xe,w,X,A,h,f,oe),ie(B,w,A,E,Ee)&&Is(h),h.stateNode=B,f?Is(h):Df(B,h,!1,!1))}},x3=function(f,h,w,A){w!==A?(f=Ps(_c.current),w=Ps(Ni.current),h.stateNode=Z(A,f,w,h),Is(h)):h.stateNode=f.stateNode}}else Ff=function(){},y3=function(){},x3=function(){};function kf(f,h){if(!gn)switch(f.tailMode){case"hidden":h=f.tail;for(var w=null;h!==null;)h.alternate!==null&&(w=h),h=h.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:A.sibling=null}}function Cr(f){var h=f.alternate!==null&&f.alternate.child===f.child,w=0,A=0;if(h)for(var E=f.child;E!==null;)w|=E.lanes|E.childLanes,A|=E.subtreeFlags&14680064,A|=E.flags&14680064,E.return=f,E=E.sibling;else for(E=f.child;E!==null;)w|=E.lanes|E.childLanes,A|=E.subtreeFlags,A|=E.flags,E.return=f,E=E.sibling;return f.subtreeFlags|=A,f.childLanes=w,h}function lb(f,h,w){var A=h.pendingProps;switch(g1(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(h),null;case 1:return In(h.type)&&Ho(),Cr(h),null;case 3:return A=h.stateNode,wc(),gt(Ln),gt(zt),A1(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(f===null||f.child===null)&&(Ef(h)?Is(h):f===null||f.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,os!==null&&(q1(os),os=null))),Ff(f,h),Cr(h),null;case 5:w1(h),w=Ps(_c.current);var E=h.type;if(f!==null&&h.stateNode!=null)y3(f,h,E,A,w),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!A){if(h.stateNode===null)throw Error(o(166));return Cr(h),null}if(f=Ps(Ni.current),Ef(h)){if(!de)throw Error(o(175));f=rt(h.stateNode,h.type,h.memoizedProps,w,f,h,!Cf),h.updateQueue=f,f!==null&&Is(h)}else{var B=D(E,A,w,f,h);Df(B,h,!1,!1),h.stateNode=B,ie(B,E,A,w,f)&&Is(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Cr(h),null;case 6:if(f&&h.stateNode!=null)x3(f,h,f.memoizedProps,A);else{if(typeof A!="string"&&h.stateNode===null)throw Error(o(166));if(f=Ps(_c.current),w=Ps(Ni.current),Ef(h)){if(!de)throw Error(o(176));if(f=h.stateNode,A=h.memoizedProps,(w=ct(f,A,h,!Cf))&&(E=xi,E!==null))switch(B=(E.mode&1)!==0,E.tag){case 3:Or(E.stateNode.containerInfo,f,A,B);break;case 5:mi(E.type,E.memoizedProps,E.stateNode,f,A,B)}w&&Is(h)}else h.stateNode=Z(A,f,w,h)}return Cr(h),null;case 13:if(gt(xn),A=h.memoizedState,gn&&_i!==null&&h.mode&1&&!(h.flags&128)){for(f=_i;f;)f=ce(f);return yc(),h.flags|=98560,h}if(A!==null&&A.dehydrated!==null){if(A=Ef(h),f===null){if(!A)throw Error(o(318));if(!de)throw Error(o(344));if(f=h.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));At(f,h)}else yc(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Cr(h),null}return os!==null&&(q1(os),os=null),h.flags&128?(h.lanes=w,h):(A=A!==null,w=!1,f===null?Ef(h):w=f.memoizedState!==null,A&&!w&&(h.child.flags|=8192,h.mode&1&&(f===null||xn.current&1?Yn===0&&(Yn=3):e5())),h.updateQueue!==null&&(h.flags|=4),Cr(h),null);case 4:return wc(),Ff(f,h),f===null&&we(h.stateNode.containerInfo),Cr(h),null;case 10:return Bs(h.type._context),Cr(h),null;case 17:return In(h.type)&&Ho(),Cr(h),null;case 19:if(gt(xn),E=h.memoizedState,E===null)return Cr(h),null;if(A=(h.flags&128)!==0,B=E.rendering,B===null)if(A)kf(E,!1);else{if(Yn!==0||f!==null&&f.flags&128)for(f=h.child;f!==null;){if(B=u3(f),B!==null){for(h.flags|=128,kf(E,!1),f=B.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),h.subtreeFlags=0,f=w,A=h.child;A!==null;)w=A,E=f,w.flags&=14680066,B=w.alternate,B===null?(w.childLanes=0,w.lanes=E,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=B.childLanes,w.lanes=B.lanes,w.child=B.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=B.memoizedProps,w.memoizedState=B.memoizedState,w.updateQueue=B.updateQueue,w.type=B.type,E=B.dependencies,w.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),A=A.sibling;return Lt(xn,xn.current&1|2),h.child}f=f.sibling}E.tail!==null&&mn()>K1&&(h.flags|=128,A=!0,kf(E,!1),h.lanes=4194304)}else{if(!A)if(f=u3(B),f!==null){if(h.flags|=128,A=!0,f=f.updateQueue,f!==null&&(h.updateQueue=f,h.flags|=4),kf(E,!0),E.tail===null&&E.tailMode==="hidden"&&!B.alternate&&!gn)return Cr(h),null}else 2*mn()-E.renderingStartTime>K1&&w!==1073741824&&(h.flags|=128,A=!0,kf(E,!1),h.lanes=4194304);E.isBackwards?(B.sibling=h.child,h.child=B):(f=E.last,f!==null?f.sibling=B:h.child=B,E.last=B)}return E.tail!==null?(h=E.tail,E.rendering=h,E.tail=h.sibling,E.renderingStartTime=mn(),h.sibling=null,f=xn.current,Lt(xn,A?f&1|2:f&1),h):(Cr(h),null);case 22:case 23:return $1(),A=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==A&&(h.flags|=8192),A&&h.mode&1?Si&1073741824&&(Cr(h),Ce&&h.subtreeFlags&6&&(h.flags|=8192)):Cr(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var cb=a.ReactCurrentOwner,wi=!1;function Hr(f,h,w,A){h.child=f===null?c9(h,null,w,A):xc(h,f.child,w,A)}function k9(f,h,w,A,E){w=w.render;var B=h.ref;return rr(h,E),A=C1(f,h,w,A,B,E),w=E1(),f!==null&&!wi?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~E,lo(f,h,E)):(gn&&w&&m1(h),h.flags|=1,Hr(f,h,A,E),h.child)}function O9(f,h,w,A,E){if(f===null){var B=w.type;return typeof B=="function"&&!t5(B)&&B.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(h.tag=15,h.type=B,N9(f,h,B,A,E)):(f=z3(w.type,null,A,h,h.mode,E),f.ref=h.ref,f.return=h,h.child=f)}if(B=f.child,!(f.lanes&E)){var X=B.memoizedProps;if(w=w.compare,w=w!==null?w:Ja,w(X,A)&&f.ref===h.ref)return lo(f,h,E)}return h.flags|=1,f=qo(B,A),f.ref=h.ref,f.return=h,h.child=f}function N9(f,h,w,A,E){if(f!==null&&Ja(f.memoizedProps,A)&&f.ref===h.ref)if(wi=!1,(f.lanes&E)!==0)f.flags&131072&&(wi=!0);else return h.lanes=f.lanes,lo(f,h,E);return L1(f,h,w,A,E)}function U9(f,h,w){var A=h.pendingProps,E=A.children,B=f!==null?f.memoizedState:null;if(A.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},Lt(Ac,Si),Si|=w;else if(w&1073741824)h.memoizedState={baseLanes:0,cachePool:null},A=B!==null?B.baseLanes:w,Lt(Ac,Si),Si|=A;else return f=B!==null?B.baseLanes|w:w,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null},h.updateQueue=null,Lt(Ac,Si),Si|=f,null;else B!==null?(A=B.baseLanes|w,h.memoizedState=null):A=w,Lt(Ac,Si),Si|=A;return Hr(f,h,E,w),h.child}function z9(f,h){var w=h.ref;(f===null&&w!==null||f!==null&&f.ref!==w)&&(h.flags|=512,h.flags|=2097152)}function L1(f,h,w,A,E){var B=In(w)?Ur:zt.current;return B=gi(h,B),rr(h,E),w=C1(f,h,w,A,B,E),A=E1(),f!==null&&!wi?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~E,lo(f,h,E)):(gn&&A&&m1(h),h.flags|=1,Hr(f,h,w,E),h.child)}function G9(f,h,w,A,E){if(In(w)){var B=!0;Es(h)}else B=!1;if(rr(h,E),h.stateNode===null)f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),t9(h,w,A),p1(h,w,A,E),A=!0;else if(f===null){var X=h.stateNode,oe=h.memoizedProps;X.props=oe;var Ee=X.context,Xe=w.contextType;typeof Xe=="object"&&Xe!==null?Xe=$t(Xe):(Xe=In(w)?Ur:zt.current,Xe=gi(h,Xe));var it=w.getDerivedStateFromProps,vt=typeof it=="function"||typeof X.getSnapshotBeforeUpdate=="function";vt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(oe!==A||Ee!==Xe)&&n9(h,X,A,Xe),ss=!1;var ut=h.memoizedState;X.state=ut,s3(h,A,X,E),Ee=h.memoizedState,oe!==A||ut!==Ee||Ln.current||ss?(typeof it=="function"&&(h1(h,w,it,A),Ee=h.memoizedState),(oe=ss||e9(h,w,oe,A,ut,Ee,Xe))?(vt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(h.flags|=4194308)):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=A,h.memoizedState=Ee),X.props=A,X.state=Ee,X.context=Xe,A=oe):(typeof X.componentDidMount=="function"&&(h.flags|=4194308),A=!1)}else{X=h.stateNode,Zg(f,h),oe=h.memoizedProps,Xe=h.type===h.elementType?oe:Sr(h.type,oe),X.props=Xe,vt=h.pendingProps,ut=X.context,Ee=w.contextType,typeof Ee=="object"&&Ee!==null?Ee=$t(Ee):(Ee=In(w)?Ur:zt.current,Ee=gi(h,Ee));var en=w.getDerivedStateFromProps;(it=typeof en=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(oe!==vt||ut!==Ee)&&n9(h,X,A,Ee),ss=!1,ut=h.memoizedState,X.state=ut,s3(h,A,X,E);var lt=h.memoizedState;oe!==vt||ut!==lt||Ln.current||ss?(typeof en=="function"&&(h1(h,w,en,A),lt=h.memoizedState),(Xe=ss||e9(h,w,Xe,A,ut,lt,Ee)||!1)?(it||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(A,lt,Ee),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(A,lt,Ee)),typeof X.componentDidUpdate=="function"&&(h.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof X.componentDidUpdate!="function"||oe===f.memoizedProps&&ut===f.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||oe===f.memoizedProps&&ut===f.memoizedState||(h.flags|=1024),h.memoizedProps=A,h.memoizedState=lt),X.props=A,X.state=lt,X.context=Ee,A=Xe):(typeof X.componentDidUpdate!="function"||oe===f.memoizedProps&&ut===f.memoizedState||(h.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||oe===f.memoizedProps&&ut===f.memoizedState||(h.flags|=1024),A=!1)}return I1(f,h,w,A,B,E)}function I1(f,h,w,A,E,B){z9(f,h);var X=(h.flags&128)!==0;if(!A&&!X)return E&&qh(h,w,!1),lo(f,h,B);A=h.stateNode,cb.current=h;var oe=X&&typeof w.getDerivedStateFromError!="function"?null:A.render();return h.flags|=1,f!==null&&X?(h.child=xc(h,f.child,null,B),h.child=xc(h,null,oe,B)):Hr(f,h,oe,B),h.memoizedState=A.state,E&&qh(h,w,!0),h.child}function H9(f){var h=f.stateNode;h.pendingContext?lc(f,h.pendingContext,h.pendingContext!==h.context):h.context&&lc(f,h.context,!1),_1(f,h.containerInfo)}function V9(f,h,w,A,E){return yc(),x1(E),h.flags|=256,Hr(f,h,w,A),h.child}var _3={dehydrated:null,treeContext:null,retryLane:0};function w3(f){return{baseLanes:f,cachePool:null}}function W9(f,h,w){var A=h.pendingProps,E=xn.current,B=!1,X=(h.flags&128)!==0,oe;if((oe=X)||(oe=f!==null&&f.memoizedState===null?!1:(E&2)!==0),oe?(B=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(E|=1),Lt(xn,E&1),f===null)return y1(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(h.mode&1?yn(f)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(E=A.children,f=A.fallback,B?(A=h.mode,B=h.child,E={mode:"hidden",children:E},!(A&1)&&B!==null?(B.childLanes=0,B.pendingProps=E):B=G3(E,A,0,null),f=nl(f,A,w,null),B.return=h,f.return=h,B.sibling=f,h.child=B,h.child.memoizedState=w3(w),h.memoizedState=_3,f):D1(h,E));if(E=f.memoizedState,E!==null){if(oe=E.dehydrated,oe!==null){if(X)return h.flags&256?(h.flags&=-257,S3(f,h,w,Error(o(422)))):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(B=A.fallback,E=h.mode,A=G3({mode:"visible",children:A.children},E,0,null),B=nl(B,E,w,null),B.flags|=2,A.return=h,B.return=h,A.sibling=B,h.child=A,h.mode&1&&xc(h,f.child,null,w),h.child.memoizedState=w3(w),h.memoizedState=_3,B);if(!(h.mode&1))h=S3(f,h,w,null);else if(yn(oe))h=S3(f,h,w,Error(o(419)));else if(A=(w&f.childLanes)!==0,wi||A){if(A=Gn,A!==null){switch(w&-w){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}A=B&(A.suspendedLanes|w)?0:B,A!==0&&A!==E.retryLane&&(E.retryLane=A,zi(f,A,-1))}e5(),h=S3(f,h,w,Error(o(421)))}else jt(oe)?(h.flags|=128,h.child=f.child,h=Sb.bind(null,f),j(oe,h),h=null):(w=E.treeContext,de&&(_i=be(oe),xi=h,gn=!0,os=null,Cf=!1,w!==null&&(ki[Oi++]=so,ki[Oi++]=oo,ki[Oi++]=Ka,so=w.id,oo=w.overflow,Ka=h)),h=D1(h,h.pendingProps.children),h.flags|=4096);return h}return B?(A=J9(f,h,A.children,A.fallback,w),B=h.child,E=f.child.memoizedState,B.memoizedState=E===null?w3(w):{baseLanes:E.baseLanes|w,cachePool:null},B.childLanes=f.childLanes&~w,h.memoizedState=_3,A):(w=j9(f,h,A.children,w),h.memoizedState=null,w)}return B?(A=J9(f,h,A.children,A.fallback,w),B=h.child,E=f.child.memoizedState,B.memoizedState=E===null?w3(w):{baseLanes:E.baseLanes|w,cachePool:null},B.childLanes=f.childLanes&~w,h.memoizedState=_3,A):(w=j9(f,h,A.children,w),h.memoizedState=null,w)}function D1(f,h){return h=G3({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function j9(f,h,w,A){var E=f.child;return f=E.sibling,w=qo(E,{mode:"visible",children:w}),!(h.mode&1)&&(w.lanes=A),w.return=h,w.sibling=null,f!==null&&(A=h.deletions,A===null?(h.deletions=[f],h.flags|=16):A.push(f)),h.child=w}function J9(f,h,w,A,E){var B=h.mode;f=f.child;var X=f.sibling,oe={mode:"hidden",children:w};return!(B&1)&&h.child!==f?(w=h.child,w.childLanes=0,w.pendingProps=oe,h.deletions=null):(w=qo(f,oe),w.subtreeFlags=f.subtreeFlags&14680064),X!==null?A=qo(X,A):(A=nl(A,B,E,null),A.flags|=2),A.return=h,w.return=h,w.sibling=A,h.child=w,A}function S3(f,h,w,A){return A!==null&&x1(A),xc(h,f.child,null,w),f=D1(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function X9(f,h,w){f.lanes|=h;var A=f.alternate;A!==null&&(A.lanes|=h),zn(f.return,h,w)}function F1(f,h,w,A,E){var B=f.memoizedState;B===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:E}:(B.isBackwards=h,B.rendering=null,B.renderingStartTime=0,B.last=A,B.tail=w,B.tailMode=E)}function K9(f,h,w){var A=h.pendingProps,E=A.revealOrder,B=A.tail;if(Hr(f,h,A.children,w),A=xn.current,A&2)A=A&1|2,h.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&X9(f,w,h);else if(f.tag===19)X9(f,w,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}A&=1}if(Lt(xn,A),!(h.mode&1))h.memoizedState=null;else switch(E){case"forwards":for(w=h.child,E=null;w!==null;)f=w.alternate,f!==null&&u3(f)===null&&(E=w),w=w.sibling;w=E,w===null?(E=h.child,h.child=null):(E=w.sibling,w.sibling=null),F1(h,!1,E,w,B);break;case"backwards":for(w=null,E=h.child,h.child=null;E!==null;){if(f=E.alternate,f!==null&&u3(f)===null){h.child=E;break}f=E.sibling,E.sibling=w,w=E,E=f}F1(h,!0,w,null,B);break;case"together":F1(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function lo(f,h,w){if(f!==null&&(h.dependencies=f.dependencies),Mc|=h.lanes,!(w&h.childLanes))return null;if(f!==null&&h.child!==f.child)throw Error(o(153));if(h.child!==null){for(f=h.child,w=qo(f,f.pendingProps),h.child=w,w.return=h;f.sibling!==null;)f=f.sibling,w=w.sibling=qo(f,f.pendingProps),w.return=h;w.sibling=null}return h.child}function ub(f,h,w){switch(h.tag){case 3:H9(h),yc();break;case 5:u9(h);break;case 1:In(h.type)&&Es(h);break;case 4:_1(h,h.stateNode.containerInfo);break;case 10:r3(h,h.type._context,h.memoizedProps.value);break;case 13:var A=h.memoizedState;if(A!==null)return A.dehydrated!==null?(Lt(xn,xn.current&1),h.flags|=128,null):w&h.child.childLanes?W9(f,h,w):(Lt(xn,xn.current&1),f=lo(f,h,w),f!==null?f.sibling:null);Lt(xn,xn.current&1);break;case 19:if(A=(w&h.childLanes)!==0,f.flags&128){if(A)return K9(f,h,w);h.flags|=128}var E=h.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Lt(xn,xn.current),A)break;return null;case 22:case 23:return h.lanes=0,U9(f,h,w)}return lo(f,h,w)}function fb(f,h){switch(g1(h),h.tag){case 1:return In(h.type)&&Ho(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return wc(),gt(Ln),gt(zt),A1(),f=h.flags,f&65536&&!(f&128)?(h.flags=f&-65537|128,h):null;case 5:return w1(h),null;case 13:if(gt(xn),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(o(340));yc()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return gt(xn),null;case 4:return wc(),null;case 10:return Bs(h.type._context),null;case 22:case 23:return $1(),null;case 24:return null;default:return null}}var A3=!1,Qa=!1,db=typeof WeakSet=="function"?WeakSet:Set,$e=null;function M3(f,h){var w=f.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){ni(f,h,A)}else w.current=null}function k1(f,h,w){try{w()}catch(A){ni(f,h,A)}}var Y9=!1;function hb(f,h){for(W(f.containerInfo),$e=h;$e!==null;)if(f=$e,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,$e=h;else for(;$e!==null;){f=$e;try{var w=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var A=w.memoizedProps,E=w.memoizedState,B=f.stateNode,X=B.getSnapshotBeforeUpdate(f.elementType===f.type?A:Sr(f.type,A),E);B.__reactInternalSnapshotBeforeUpdate=X}break;case 3:Ce&&Ke(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(oe){ni(f,f.return,oe)}if(h=f.sibling,h!==null){h.return=f.return,$e=h;break}$e=f.return}return w=Y9,Y9=!1,w}function qa(f,h,w){var A=h.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var E=A=A.next;do{if((E.tag&f)===f){var B=E.destroy;E.destroy=void 0,B!==void 0&&k1(h,w,B)}E=E.next}while(E!==A)}}function Of(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var w=h=h.next;do{if((w.tag&f)===f){var A=w.create;w.destroy=A()}w=w.next}while(w!==h)}}function O1(f){var h=f.ref;if(h!==null){var w=f.stateNode;switch(f.tag){case 5:f=ee(w);break;default:f=w}typeof h=="function"?h(f):h.current=f}}function Z9(f,h,w){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(jo,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(f=h.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var A=f=f.next;do{var E=A,B=E.destroy;E=E.tag,B!==void 0&&(E&2||E&4)&&k1(h,w,B),A=A.next}while(A!==f)}break;case 1:if(M3(h,w),f=h.stateNode,typeof f.componentWillUnmount=="function")try{f.props=h.memoizedProps,f.state=h.memoizedState,f.componentWillUnmount()}catch(X){ni(h,w,X)}break;case 5:M3(h,w);break;case 4:Ce?n7(f,h,w):q&&q&&(h=h.stateNode.containerInfo,w=pt(h),Dt(h,w))}}function Q9(f,h,w){for(var A=h;;)if(Z9(f,A,w),A.child===null||Ce&&A.tag===4){if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function q9(f){var h=f.alternate;h!==null&&(f.alternate=null,q9(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&We(h)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function $9(f){return f.tag===5||f.tag===3||f.tag===4}function e7(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||$9(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function t7(f){if(Ce){e:{for(var h=f.return;h!==null;){if($9(h))break e;h=h.return}throw Error(o(160))}var w=h;switch(w.tag){case 5:h=w.stateNode,w.flags&32&&(Ae(h),w.flags&=-33),w=e7(f),U1(f,w,h);break;case 3:case 4:h=w.stateNode.containerInfo,w=e7(f),N1(f,w,h);break;default:throw Error(o(161))}}}function N1(f,h,w){var A=f.tag;if(A===5||A===6)f=f.stateNode,h?Ve(w,f,h):De(w,f);else if(A!==4&&(f=f.child,f!==null))for(N1(f,h,w),f=f.sibling;f!==null;)N1(f,h,w),f=f.sibling}function U1(f,h,w){var A=f.tag;if(A===5||A===6)f=f.stateNode,h?je(w,f,h):Oe(w,f);else if(A!==4&&(f=f.child,f!==null))for(U1(f,h,w),f=f.sibling;f!==null;)U1(f,h,w),f=f.sibling}function n7(f,h,w){for(var A=h,E=!1,B,X;;){if(!E){E=A.return;e:for(;;){if(E===null)throw Error(o(160));switch(B=E.stateNode,E.tag){case 5:X=!1;break e;case 3:B=B.containerInfo,X=!0;break e;case 4:B=B.containerInfo,X=!0;break e}E=E.return}E=!0}if(A.tag===5||A.tag===6)Q9(f,A,w),X?Q(B,A.stateNode):Ne(B,A.stateNode);else if(A.tag===18)X?an(B,A.stateNode):Ft(B,A.stateNode);else if(A.tag===4){if(A.child!==null){B=A.stateNode.containerInfo,X=!0,A.child.return=A,A=A.child;continue}}else if(Z9(f,A,w),A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return,A.tag===4&&(E=!1)}A.sibling.return=A.return,A=A.sibling}}function z1(f,h){if(Ce){switch(h.tag){case 0:case 11:case 14:case 15:qa(3,h,h.return),Of(3,h),qa(5,h,h.return);return;case 1:return;case 5:var w=h.stateNode;if(w!=null){var A=h.memoizedProps;f=f!==null?f.memoizedProps:A;var E=h.type,B=h.updateQueue;h.updateQueue=null,B!==null&&He(w,B,E,f,A,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));w=h.memoizedProps,ge(h.stateNode,f!==null?f.memoizedProps:w,w);return;case 3:de&&f!==null&&f.memoizedState.isDehydrated&&bt(h.stateNode.containerInfo);return;case 12:return;case 13:C3(h);return;case 19:C3(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:qa(3,h,h.return),Of(3,h),qa(5,h,h.return);return;case 12:return;case 13:C3(h);return;case 19:C3(h);return;case 3:de&&f!==null&&f.memoizedState.isDehydrated&&bt(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(q){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,Dt(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function C3(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var w=f.stateNode;w===null&&(w=f.stateNode=new db),h.forEach(function(A){var E=Ab.bind(null,f,A);w.has(A)||(w.add(A),A.then(E,E))})}}function pb(f,h){for($e=h;$e!==null;){h=$e;var w=h.deletions;if(w!==null)for(var A=0;A<w.length;A++){var E=w[A];try{var B=f;Ce?n7(B,E,h):Q9(B,E,h);var X=E.alternate;X!==null&&(X.return=null),E.return=null}catch(at){ni(E,h,at)}}if(w=h.child,h.subtreeFlags&12854&&w!==null)w.return=h,$e=w;else for(;$e!==null;){h=$e;try{var oe=h.flags;if(oe&32&&Ce&&Ae(h.stateNode),oe&512){var Ee=h.alternate;if(Ee!==null){var Xe=Ee.ref;Xe!==null&&(typeof Xe=="function"?Xe(null):Xe.current=null)}}if(oe&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var it=h.alternate;(it===null||it.memoizedState===null)&&(X1=mn())}break;case 22:var vt=h.memoizedState!==null,ut=h.alternate,en=ut!==null&&ut.memoizedState!==null;if(w=h,Ce){e:if(A=w,E=vt,B=null,Ce)for(var lt=A;;){if(lt.tag===5){if(B===null){B=lt;var Er=lt.stateNode;E?Je(Er):fe(lt.stateNode,lt.memoizedProps)}}else if(lt.tag===6){if(B===null){var Hi=lt.stateNode;E?K(Hi):Pe(Hi,lt.memoizedProps)}}else if((lt.tag!==22&&lt.tag!==23||lt.memoizedState===null||lt===A)&&lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===A)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===A)break e;B===lt&&(B=null),lt=lt.return}B===lt&&(B=null),lt.sibling.return=lt.return,lt=lt.sibling}}if(vt&&!en&&w.mode&1){$e=w;for(var me=w.child;me!==null;){for(w=$e=me;$e!==null;){A=$e;var ae=A.child;switch(A.tag){case 0:case 11:case 14:case 15:qa(4,A,A.return);break;case 1:M3(A,A.return);var _e=A.stateNode;if(typeof _e.componentWillUnmount=="function"){var et=A.return;try{_e.props=A.memoizedProps,_e.state=A.memoizedState,_e.componentWillUnmount()}catch(at){ni(A,et,at)}}break;case 5:M3(A,A.return);break;case 22:if(A.memoizedState!==null){s7(w);continue}}ae!==null?(ae.return=A,$e=ae):s7(w)}me=me.sibling}}}switch(oe&4102){case 2:t7(h),h.flags&=-3;break;case 6:t7(h),h.flags&=-3,z1(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,z1(h.alternate,h);break;case 4:z1(h.alternate,h)}}catch(at){ni(h,h.return,at)}if(w=h.sibling,w!==null){w.return=h.return,$e=w;break}$e=h.return}}}function mb(f,h,w){$e=f,r7(f)}function r7(f,h,w){for(var A=(f.mode&1)!==0;$e!==null;){var E=$e,B=E.child;if(E.tag===22&&A){var X=E.memoizedState!==null||A3;if(!X){var oe=E.alternate,Ee=oe!==null&&oe.memoizedState!==null||Qa;oe=A3;var Xe=Qa;if(A3=X,(Qa=Ee)&&!Xe)for($e=E;$e!==null;)X=$e,Ee=X.child,X.tag===22&&X.memoizedState!==null?o7(E):Ee!==null?(Ee.return=X,$e=Ee):o7(E);for(;B!==null;)$e=B,r7(B),B=B.sibling;$e=E,A3=oe,Qa=Xe}i7(f)}else E.subtreeFlags&8772&&B!==null?(B.return=E,$e=B):i7(f)}}function i7(f){for(;$e!==null;){var h=$e;if(h.flags&8772){var w=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Qa||Of(5,h);break;case 1:var A=h.stateNode;if(h.flags&4&&!Qa)if(w===null)A.componentDidMount();else{var E=h.elementType===h.type?w.memoizedProps:Sr(h.type,w.memoizedProps);A.componentDidUpdate(E,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var B=h.updateQueue;B!==null&&qg(h,B,A);break;case 3:var X=h.updateQueue;if(X!==null){if(w=null,h.child!==null)switch(h.child.tag){case 5:w=ee(h.child.stateNode);break;case 1:w=h.child.stateNode}qg(h,X,w)}break;case 5:var oe=h.stateNode;w===null&&h.flags&4&&Ze(oe,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(de&&h.memoizedState===null){var Ee=h.alternate;if(Ee!==null){var Xe=Ee.memoizedState;if(Xe!==null){var it=Xe.dehydrated;it!==null&&Tt(it)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Qa||h.flags&512&&O1(h)}catch(vt){ni(h,h.return,vt)}}if(h===f){$e=null;break}if(w=h.sibling,w!==null){w.return=h.return,$e=w;break}$e=h.return}}function s7(f){for(;$e!==null;){var h=$e;if(h===f){$e=null;break}var w=h.sibling;if(w!==null){w.return=h.return,$e=w;break}$e=h.return}}function o7(f){for(;$e!==null;){var h=$e;try{switch(h.tag){case 0:case 11:case 15:var w=h.return;try{Of(4,h)}catch(Ee){ni(h,w,Ee)}break;case 1:var A=h.stateNode;if(typeof A.componentDidMount=="function"){var E=h.return;try{A.componentDidMount()}catch(Ee){ni(h,E,Ee)}}var B=h.return;try{O1(h)}catch(Ee){ni(h,B,Ee)}break;case 5:var X=h.return;try{O1(h)}catch(Ee){ni(h,X,Ee)}}}catch(Ee){ni(h,h.return,Ee)}if(h===f){$e=null;break}var oe=h.sibling;if(oe!==null){oe.return=h.return,$e=oe;break}$e=h.return}}var E3=0,b3=1,T3=2,R3=3,B3=4;if(typeof Symbol=="function"&&Symbol.for){var Nf=Symbol.for;E3=Nf("selector.component"),b3=Nf("selector.has_pseudo_class"),T3=Nf("selector.role"),R3=Nf("selector.test_id"),B3=Nf("selector.text")}function G1(f){var h=Be(f);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(f=Te(f),f===null)throw Error(o(362));return f.stateNode.current}function H1(f,h){switch(h.$$typeof){case E3:if(f.type===h.value)return!0;break;case b3:e:{h=h.value,f=[f,0];for(var w=0;w<f.length;){var A=f[w++],E=f[w++],B=h[E];if(A.tag!==5||!re(A)){for(;B!=null&&H1(A,B);)E++,B=h[E];if(E===h.length){h=!0;break e}else for(A=A.child;A!==null;)f.push(A,E),A=A.sibling}}h=!1}return h;case T3:if(f.tag===5&&pe(f.stateNode,h.value))return!0;break;case B3:if((f.tag===5||f.tag===6)&&(f=I(f),f!==null&&0<=f.indexOf(h.value)))return!0;break;case R3:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function V1(f){switch(f.$$typeof){case E3:return"<"+(R(f.value)||"Unknown")+">";case b3:return":has("+(V1(f)||"")+")";case T3:return'[role="'+f.value+'"]';case B3:return'"'+f.value+'"';case R3:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function a7(f,h){var w=[];f=[f,0];for(var A=0;A<f.length;){var E=f[A++],B=f[A++],X=h[B];if(E.tag!==5||!re(E)){for(;X!=null&&H1(E,X);)B++,X=h[B];if(B===h.length)w.push(E);else for(E=E.child;E!==null;)f.push(E,B),E=E.sibling}}return w}function W1(f,h){if(!Ue)throw Error(o(363));f=G1(f),f=a7(f,h),h=[],f=Array.from(f);for(var w=0;w<f.length;){var A=f[w++];if(A.tag===5)re(A)||h.push(A.stateNode);else for(A=A.child;A!==null;)f.push(A),A=A.sibling}return h}var gb=Math.ceil,P3=a.ReactCurrentDispatcher,j1=a.ReactCurrentOwner,Dn=a.ReactCurrentBatchConfig,It=0,Gn=null,Hn=null,pr=0,Si=0,Ac=hr(0),Yn=0,Uf=null,Mc=0,L3=0,J1=0,zf=null,ei=null,X1=0,K1=1/0;function Cc(){K1=mn()+500}var I3=!1,Y1=null,Ko=null,D3=!1,Yo=null,F3=0,Gf=0,Z1=null,k3=-1,O3=0;function Vr(){return It&6?mn():k3!==-1?k3:k3=mn()}function Zo(f){return f.mode&1?It&2&&pr!==0?pr&-pr:ja.transition!==null?(O3===0&&(f=$s,$s<<=1,!($s&4194240)&&($s=64),O3=f),O3):(f=kt,f!==0?f:Se()):1}function zi(f,h,w){if(50<Gf)throw Gf=0,Z1=null,Error(o(185));var A=N3(f,h);return A===null?null:(bs(A,h,w),(!(It&2)||A!==Gn)&&(A===Gn&&(!(It&2)&&(L3|=h),Yn===4&&Qo(A,pr)),ti(A,w),h===1&&It===0&&!(f.mode&1)&&(Cc(),Rs&&$r())),A)}function N3(f,h){f.lanes|=h;var w=f.alternate;for(w!==null&&(w.lanes|=h),w=f,f=f.return;f!==null;)f.childLanes|=h,w=f.alternate,w!==null&&(w.childLanes|=h),w=f,f=f.return;return w.tag===3?w.stateNode:null}function ti(f,h){var w=f.callbackNode;yf(f,h);var A=Wa(f,f===Gn?pr:0);if(A===0)w!==null&&dc(w),f.callbackNode=null,f.callbackPriority=0;else if(h=A&-A,f.callbackPriority!==h){if(w!=null&&dc(w),h===1)f.tag===0?Mf(c7.bind(null,f)):Af(c7.bind(null,f)),ye?Fe(function(){It===0&&$r()}):ro(Wo,$r),w=null;else{switch(xf(A)){case 1:w=Wo;break;case 4:w=n3;break;case 16:w=zr;break;case 536870912:w=wf;break;default:w=zr}w=y7(w,l7.bind(null,f))}f.callbackPriority=h,f.callbackNode=w}}function l7(f,h){if(k3=-1,O3=0,It&6)throw Error(o(327));var w=f.callbackNode;if(tl()&&f.callbackNode!==w)return null;var A=Wa(f,f===Gn?pr:0);if(A===0)return null;if(A&30||A&f.expiredLanes||h)h=U3(f,A);else{h=A;var E=It;It|=2;var B=d7();(Gn!==f||pr!==h)&&(Cc(),$a(f,h));do try{xb();break}catch(oe){f7(f,oe)}while(1);mc(),P3.current=B,It=E,Hn!==null?h=0:(Gn=null,pr=0,h=Yn)}if(h!==0){if(h===2&&(E=no(f),E!==0&&(A=E,h=Q1(f,E))),h===1)throw w=Uf,$a(f,0),Qo(f,A),ti(f,mn()),w;if(h===6)Qo(f,A);else{if(E=f.current.alternate,!(A&30)&&!vb(E)&&(h=U3(f,A),h===2&&(B=no(f),B!==0&&(A=B,h=Q1(f,B))),h===1))throw w=Uf,$a(f,0),Qo(f,A),ti(f,mn()),w;switch(f.finishedWork=E,f.finishedLanes=A,h){case 0:case 1:throw Error(o(345));case 2:el(f,ei);break;case 3:if(Qo(f,A),(A&130023424)===A&&(h=X1+500-mn(),10<h)){if(Wa(f,0)!==0)break;if(E=f.suspendedLanes,(E&A)!==A){Vr(),f.pingedLanes|=f.suspendedLanes&E;break}f.timeoutHandle=ne(el.bind(null,f,ei),h);break}el(f,ei);break;case 4:if(Qo(f,A),(A&4194240)===A)break;for(h=f.eventTimes,E=-1;0<A;){var X=31-wr(A);B=1<<X,X=h[X],X>E&&(E=X),A&=~B}if(A=E,A=mn()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*gb(A/1960))-A,10<A){f.timeoutHandle=ne(el.bind(null,f,ei),A);break}el(f,ei);break;case 5:el(f,ei);break;default:throw Error(o(329))}}}return ti(f,mn()),f.callbackNode===w?l7.bind(null,f):null}function Q1(f,h){var w=zf;return f.current.memoizedState.isDehydrated&&($a(f,h).flags|=256),f=U3(f,h),f!==2&&(h=ei,ei=w,h!==null&&q1(h)),f}function q1(f){ei===null?ei=f:ei.push.apply(ei,f)}function vb(f){for(var h=f;;){if(h.flags&16384){var w=h.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var E=w[A],B=E.getSnapshot;E=E.value;try{if(!yi(B(),E))return!1}catch{return!1}}}if(w=h.child,h.subtreeFlags&16384&&w!==null)w.return=h,h=w;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Qo(f,h){for(h&=~J1,h&=~L3,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var w=31-wr(h),A=1<<w;f[w]=-1,h&=~A}}function c7(f){if(It&6)throw Error(o(327));tl();var h=Wa(f,0);if(!(h&1))return ti(f,mn()),null;var w=U3(f,h);if(f.tag!==0&&w===2){var A=no(f);A!==0&&(h=A,w=Q1(f,A))}if(w===1)throw w=Uf,$a(f,0),Qo(f,h),ti(f,mn()),w;if(w===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,el(f,ei),ti(f,mn()),null}function u7(f){Yo!==null&&Yo.tag===0&&!(It&6)&&tl();var h=It;It|=1;var w=Dn.transition,A=kt;try{if(Dn.transition=null,kt=1,f)return f()}finally{kt=A,Dn.transition=w,It=h,!(It&6)&&$r()}}function $1(){Si=Ac.current,gt(Ac)}function $a(f,h){f.finishedWork=null,f.finishedLanes=0;var w=f.timeoutHandle;if(w!==Me&&(f.timeoutHandle=Me,he(w)),Hn!==null)for(w=Hn.return;w!==null;){var A=w;switch(g1(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Ho();break;case 3:wc(),gt(Ln),gt(zt),A1();break;case 5:w1(A);break;case 4:wc();break;case 13:gt(xn);break;case 19:gt(xn);break;case 10:Bs(A.type._context);break;case 22:case 23:$1()}w=w.return}if(Gn=f,Hn=f=qo(f.current,null),pr=Si=h,Yn=0,Uf=null,J1=L3=Mc=0,ei=zf=null,Kn!==null){for(h=0;h<Kn.length;h++)if(w=Kn[h],A=w.interleaved,A!==null){w.interleaved=null;var E=A.next,B=w.pending;if(B!==null){var X=B.next;B.next=E,A.next=X}w.pending=A}Kn=null}return f}function f7(f,h){do{var w=Hn;try{if(mc(),f3.current=v3,d3){for(var A=Cn.memoizedState;A!==null;){var E=A.queue;E!==null&&(E.pending=null),A=A.next}d3=!1}if(Sc=0,ir=Ar=Cn=null,Bf=!1,Pf=0,j1.current=null,w===null||w.return===null){Yn=1,Uf=h,Hn=null;break}e:{var B=f,X=w.return,oe=w,Ee=h;if(h=pr,oe.flags|=32768,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Xe=Ee,it=oe,vt=it.tag;if(!(it.mode&1)&&(vt===0||vt===11||vt===15)){var ut=it.alternate;ut?(it.updateQueue=ut.updateQueue,it.memoizedState=ut.memoizedState,it.lanes=ut.lanes):(it.updateQueue=null,it.memoizedState=null)}var en=L9(X);if(en!==null){en.flags&=-257,I9(en,X,oe,B,h),en.mode&1&&P9(B,Xe,h),h=en,Ee=Xe;var lt=h.updateQueue;if(lt===null){var Er=new Set;Er.add(Ee),h.updateQueue=Er}else lt.add(Ee);break e}else{if(!(h&1)){P9(B,Xe,h),e5();break e}Ee=Error(o(426))}}else if(gn&&oe.mode&1){var Hi=L9(X);if(Hi!==null){!(Hi.flags&65536)&&(Hi.flags|=256),I9(Hi,X,oe,B,h),x1(Ee);break e}}B=Ee,Yn!==4&&(Yn=2),zf===null?zf=[B]:zf.push(B),Ee=B1(Ee,oe),oe=X;do{switch(oe.tag){case 3:oe.flags|=65536,h&=-h,oe.lanes|=h;var me=R9(oe,Ee,h);Qg(oe,me);break e;case 1:B=Ee;var ae=oe.type,_e=oe.stateNode;if(!(oe.flags&128)&&(typeof ae.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(Ko===null||!Ko.has(_e)))){oe.flags|=65536,h&=-h,oe.lanes|=h;var et=B9(oe,B,h);Qg(oe,et);break e}}oe=oe.return}while(oe!==null)}p7(w)}catch(at){h=at,Hn===w&&w!==null&&(Hn=w=w.return);continue}break}while(1)}function d7(){var f=P3.current;return P3.current=v3,f===null?v3:f}function e5(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),Gn===null||!(Mc&268435455)&&!(L3&268435455)||Qo(Gn,pr)}function U3(f,h){var w=It;It|=2;var A=d7();Gn===f&&pr===h||$a(f,h);do try{yb();break}catch(E){f7(f,E)}while(1);if(mc(),It=w,P3.current=A,Hn!==null)throw Error(o(261));return Gn=null,pr=0,Yn}function yb(){for(;Hn!==null;)h7(Hn)}function xb(){for(;Hn!==null&&!_f();)h7(Hn)}function h7(f){var h=v7(f.alternate,f,Si);f.memoizedProps=f.pendingProps,h===null?p7(f):Hn=h,j1.current=null}function p7(f){var h=f;do{var w=h.alternate;if(f=h.return,h.flags&32768){if(w=fb(w,h),w!==null){w.flags&=32767,Hn=w;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{Yn=6,Hn=null;return}}else if(w=lb(w,h,Si),w!==null){Hn=w;return}if(h=h.sibling,h!==null){Hn=h;return}Hn=h=f}while(h!==null);Yn===0&&(Yn=5)}function el(f,h){var w=kt,A=Dn.transition;try{Dn.transition=null,kt=1,_b(f,h,w)}finally{Dn.transition=A,kt=w}return null}function _b(f,h,w){do tl();while(Yo!==null);if(It&6)throw Error(o(327));var A=f.finishedWork,E=f.finishedLanes;if(A===null)return null;if(f.finishedWork=null,f.finishedLanes=0,A===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var B=A.lanes|A.childLanes;if(Vo(f,B),f===Gn&&(Hn=Gn=null,pr=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||D3||(D3=!0,y7(zr,function(){return tl(),null})),B=(A.flags&15990)!==0,A.subtreeFlags&15990||B){B=Dn.transition,Dn.transition=null;var X=kt;kt=1;var oe=It;It|=4,j1.current=null,hb(f,A),pb(f,A),J(f.containerInfo),f.current=A,mb(A),t3(),It=oe,kt=X,Dn.transition=B}else f.current=A;if(D3&&(D3=!1,Yo=f,F3=E),B=f.pendingLanes,B===0&&(Ko=null),Sf(A.stateNode),ti(f,mn()),h!==null)for(w=f.onRecoverableError,A=0;A<h.length;A++)w(h[A]);if(I3)throw I3=!1,f=Y1,Y1=null,f;return F3&1&&f.tag!==0&&tl(),B=f.pendingLanes,B&1?f===Z1?Gf++:(Gf=0,Z1=f):Gf=0,$r(),null}function tl(){if(Yo!==null){var f=xf(F3),h=Dn.transition,w=kt;try{if(Dn.transition=null,kt=16>f?16:f,Yo===null)var A=!1;else{if(f=Yo,Yo=null,F3=0,It&6)throw Error(o(331));var E=It;for(It|=4,$e=f.current;$e!==null;){var B=$e,X=B.child;if($e.flags&16){var oe=B.deletions;if(oe!==null){for(var Ee=0;Ee<oe.length;Ee++){var Xe=oe[Ee];for($e=Xe;$e!==null;){var it=$e;switch(it.tag){case 0:case 11:case 15:qa(8,it,B)}var vt=it.child;if(vt!==null)vt.return=it,$e=vt;else for(;$e!==null;){it=$e;var ut=it.sibling,en=it.return;if(q9(it),it===Xe){$e=null;break}if(ut!==null){ut.return=en,$e=ut;break}$e=en}}}var lt=B.alternate;if(lt!==null){var Er=lt.child;if(Er!==null){lt.child=null;do{var Hi=Er.sibling;Er.sibling=null,Er=Hi}while(Er!==null)}}$e=B}}if(B.subtreeFlags&2064&&X!==null)X.return=B,$e=X;else e:for(;$e!==null;){if(B=$e,B.flags&2048)switch(B.tag){case 0:case 11:case 15:qa(9,B,B.return)}var me=B.sibling;if(me!==null){me.return=B.return,$e=me;break e}$e=B.return}}var ae=f.current;for($e=ae;$e!==null;){X=$e;var _e=X.child;if(X.subtreeFlags&2064&&_e!==null)_e.return=X,$e=_e;else e:for(X=ae;$e!==null;){if(oe=$e,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:Of(9,oe)}}catch(at){ni(oe,oe.return,at)}if(oe===X){$e=null;break e}var et=oe.sibling;if(et!==null){et.return=oe.return,$e=et;break e}$e=oe.return}}if(It=E,$r(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(jo,f)}catch{}A=!0}return A}finally{kt=w,Dn.transition=h}}return!1}function m7(f,h,w){h=B1(w,h),h=R9(f,h,1),Xo(f,h),h=Vr(),f=N3(f,1),f!==null&&(bs(f,1,h),ti(f,h))}function ni(f,h,w){if(f.tag===3)m7(f,f,w);else for(;h!==null;){if(h.tag===3){m7(h,f,w);break}else if(h.tag===1){var A=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Ko===null||!Ko.has(A))){f=B1(w,f),f=B9(h,f,1),Xo(h,f),f=Vr(),h=N3(h,1),h!==null&&(bs(h,1,f),ti(h,f));break}}h=h.return}}function wb(f,h,w){var A=f.pingCache;A!==null&&A.delete(h),h=Vr(),f.pingedLanes|=f.suspendedLanes&w,Gn===f&&(pr&w)===w&&(Yn===4||Yn===3&&(pr&130023424)===pr&&500>mn()-X1?$a(f,0):J1|=w),ti(f,h)}function g7(f,h){h===0&&(f.mode&1?(h=eo,eo<<=1,!(eo&130023424)&&(eo=4194304)):h=1);var w=Vr();f=N3(f,h),f!==null&&(bs(f,h,w),ti(f,w))}function Sb(f){var h=f.memoizedState,w=0;h!==null&&(w=h.retryLane),g7(f,w)}function Ab(f,h){var w=0;switch(f.tag){case 13:var A=f.stateNode,E=f.memoizedState;E!==null&&(w=E.retryLane);break;case 19:A=f.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(h),g7(f,w)}var v7;v7=function(f,h,w){if(f!==null)if(f.memoizedProps!==h.pendingProps||Ln.current)wi=!0;else{if(!(f.lanes&w)&&!(h.flags&128))return wi=!1,ub(f,h,w);wi=!!(f.flags&131072)}else wi=!1,gn&&h.flags&1048576&&r9(h,l3,h.index);switch(h.lanes=0,h.tag){case 2:var A=h.type;f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps;var E=gi(h,zt.current);rr(h,w),E=C1(null,h,A,f,E,w);var B=E1();return h.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,In(A)?(B=!0,Es(h)):B=!1,h.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,d1(h),E.updater=o3,h.stateNode=E,E._reactInternals=h,p1(h,A,f,w),h=I1(null,h,A,!0,B,w)):(h.tag=0,gn&&B&&m1(h),Hr(null,h,E,w),h=h.child),h;case 16:A=h.elementType;e:{switch(f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),f=h.pendingProps,E=A._init,A=E(A._payload),h.type=A,E=h.tag=Cb(A),f=Sr(A,f),E){case 0:h=L1(null,h,A,f,w);break e;case 1:h=G9(null,h,A,f,w);break e;case 11:h=k9(null,h,A,f,w);break e;case 14:h=O9(null,h,A,Sr(A.type,f),w);break e}throw Error(o(306,A,""))}return h;case 0:return A=h.type,E=h.pendingProps,E=h.elementType===A?E:Sr(A,E),L1(f,h,A,E,w);case 1:return A=h.type,E=h.pendingProps,E=h.elementType===A?E:Sr(A,E),G9(f,h,A,E,w);case 3:e:{if(H9(h),f===null)throw Error(o(387));A=h.pendingProps,B=h.memoizedState,E=B.element,Zg(f,h),s3(h,A,null,w);var X=h.memoizedState;if(A=X.element,de&&B.isDehydrated)if(B={element:A,isDehydrated:!1,cache:X.cache,transitions:X.transitions},h.updateQueue.baseState=B,h.memoizedState=B,h.flags&256){E=Error(o(423)),h=V9(f,h,A,w,E);break e}else if(A!==E){E=Error(o(424)),h=V9(f,h,A,w,E);break e}else for(de&&(_i=le(h.stateNode.containerInfo),xi=h,gn=!0,os=null,Cf=!1),w=c9(h,null,A,w),h.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(yc(),A===E){h=lo(f,h,w);break e}Hr(f,h,A,w)}h=h.child}return h;case 5:return u9(h),f===null&&y1(h),A=h.type,E=h.pendingProps,B=f!==null?f.memoizedProps:null,X=E.children,te(A,E)?X=null:B!==null&&te(A,B)&&(h.flags|=32),z9(f,h),Hr(f,h,X,w),h.child;case 6:return f===null&&y1(h),null;case 13:return W9(f,h,w);case 4:return _1(h,h.stateNode.containerInfo),A=h.pendingProps,f===null?h.child=xc(h,null,A,w):Hr(f,h,A,w),h.child;case 11:return A=h.type,E=h.pendingProps,E=h.elementType===A?E:Sr(A,E),k9(f,h,A,E,w);case 7:return Hr(f,h,h.pendingProps,w),h.child;case 8:return Hr(f,h,h.pendingProps.children,w),h.child;case 12:return Hr(f,h,h.pendingProps.children,w),h.child;case 10:e:{if(A=h.type._context,E=h.pendingProps,B=h.memoizedProps,X=E.value,r3(h,A,X),B!==null)if(yi(B.value,X)){if(B.children===E.children&&!Ln.current){h=lo(f,h,w);break e}}else for(B=h.child,B!==null&&(B.return=h);B!==null;){var oe=B.dependencies;if(oe!==null){X=B.child;for(var Ee=oe.firstContext;Ee!==null;){if(Ee.context===A){if(B.tag===1){Ee=io(-1,w&-w),Ee.tag=2;var Xe=B.updateQueue;if(Xe!==null){Xe=Xe.shared;var it=Xe.pending;it===null?Ee.next=Ee:(Ee.next=it.next,it.next=Ee),Xe.pending=Ee}}B.lanes|=w,Ee=B.alternate,Ee!==null&&(Ee.lanes|=w),zn(B.return,w,h),oe.lanes|=w;break}Ee=Ee.next}}else if(B.tag===10)X=B.type===h.type?null:B.child;else if(B.tag===18){if(X=B.return,X===null)throw Error(o(341));X.lanes|=w,oe=X.alternate,oe!==null&&(oe.lanes|=w),zn(X,w,h),X=B.sibling}else X=B.child;if(X!==null)X.return=B;else for(X=B;X!==null;){if(X===h){X=null;break}if(B=X.sibling,B!==null){B.return=X.return,X=B;break}X=X.return}B=X}Hr(f,h,E.children,w),h=h.child}return h;case 9:return E=h.type,A=h.pendingProps.children,rr(h,w),E=$t(E),A=A(E),h.flags|=1,Hr(f,h,A,w),h.child;case 14:return A=h.type,E=Sr(A,h.pendingProps),E=Sr(A.type,E),O9(f,h,A,E,w);case 15:return N9(f,h,h.type,h.pendingProps,w);case 17:return A=h.type,E=h.pendingProps,E=h.elementType===A?E:Sr(A,E),f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,In(A)?(f=!0,Es(h)):f=!1,rr(h,w),t9(h,A,E),p1(h,A,E,w),I1(null,h,A,!0,f,w);case 19:return K9(f,h,w);case 22:return U9(f,h,w)}throw Error(o(156,h.tag))};function y7(f,h){return ro(f,h)}function Mb(f,h,w,A){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(f,h,w,A){return new Mb(f,h,w,A)}function t5(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Cb(f){if(typeof f=="function")return t5(f)?1:0;if(f!=null){if(f=f.$$typeof,f===v)return 11;if(f===_)return 14}return 2}function qo(f,h){var w=f.alternate;return w===null?(w=Gi(f.tag,h,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=h,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=f.flags&14680064,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,h=f.dependencies,w.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w}function z3(f,h,w,A,E,B){var X=2;if(A=f,typeof f=="function")t5(f)&&(X=1);else if(typeof f=="string")X=5;else e:switch(f){case u:return nl(w.children,E,B,h);case d:X=8,E|=8;break;case p:return f=Gi(12,w,h,E|2),f.elementType=p,f.lanes=B,f;case y:return f=Gi(13,w,h,E),f.elementType=y,f.lanes=B,f;case x:return f=Gi(19,w,h,E),f.elementType=x,f.lanes=B,f;case M:return G3(w,E,B,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case m:X=10;break e;case g:X=9;break e;case v:X=11;break e;case _:X=14;break e;case S:X=16,A=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return h=Gi(X,w,h,E),h.elementType=f,h.type=A,h.lanes=B,h}function nl(f,h,w,A){return f=Gi(7,f,A,h),f.lanes=w,f}function G3(f,h,w,A){return f=Gi(22,f,A,h),f.elementType=M,f.lanes=w,f.stateNode={},f}function n5(f,h,w){return f=Gi(6,f,null,h),f.lanes=w,f}function r5(f,h,w){return h=Gi(4,f.children!==null?f.children:[],f.key,h),h.lanes=w,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function Eb(f,h,w,A,E){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fc(0),this.expirationTimes=fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fc(0),this.identifierPrefix=A,this.onRecoverableError=E,de&&(this.mutableSourceEagerHydrationData=null)}function x7(f,h,w,A,E,B,X,oe,Ee){return f=new Eb(f,h,w,oe,Ee),h===1?(h=1,B===!0&&(h|=8)):h=0,B=Gi(3,null,null,h),f.current=B,B.stateNode=f,B.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null},d1(B),f}function _7(f){if(!f)return Nr;f=f._reactInternals;e:{if(P(f)!==f||f.tag!==1)throw Error(o(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(In(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(f.tag===1){var w=f.type;if(In(w))return cc(f,w,h)}return h}function w7(f){var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=G(h),f===null?null:f.stateNode}function S7(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<h?w:h}}function i5(f,h){S7(f,h),(f=f.alternate)&&S7(f,h)}function bb(f){return f=G(f),f===null?null:f.stateNode}function Tb(){return null}return t.attemptContinuousHydration=function(f){if(f.tag===13){var h=Vr();zi(f,134217728,h),i5(f,134217728)}},t.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var h=Vr(),w=Zo(f);zi(f,w,h),i5(f,w)}},t.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var w=to(h.pendingLanes);w!==0&&(Ts(h,w|1),ti(h,mn()),!(It&6)&&(Cc(),$r()))}break;case 13:var A=Vr();u7(function(){return zi(f,1,A)}),i5(f,1)}},t.batchedUpdates=function(f,h){var w=It;It|=1;try{return f(h)}finally{It=w,It===0&&(Cc(),Rs&&$r())}},t.createComponentSelector=function(f){return{$$typeof:E3,value:f}},t.createContainer=function(f,h,w,A,E,B,X){return x7(f,h,!1,null,w,A,E,B,X)},t.createHasPseudoClassSelector=function(f){return{$$typeof:b3,value:f}},t.createHydrationContainer=function(f,h,w,A,E,B,X,oe,Ee){return f=x7(w,A,!0,f,E,B,X,oe,Ee),f.context=_7(null),w=f.current,A=Vr(),E=Zo(w),B=io(A,E),B.callback=h??null,Xo(w,B),f.current.lanes=E,bs(f,E,A),ti(f,A),f},t.createPortal=function(f,h,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:f,containerInfo:h,implementation:w}},t.createRoleSelector=function(f){return{$$typeof:T3,value:f}},t.createTestNameSelector=function(f){return{$$typeof:R3,value:f}},t.createTextSelector=function(f){return{$$typeof:B3,value:f}},t.deferredUpdates=function(f){var h=kt,w=Dn.transition;try{return Dn.transition=null,kt=16,f()}finally{kt=h,Dn.transition=w}},t.discreteUpdates=function(f,h,w,A,E){var B=kt,X=Dn.transition;try{return Dn.transition=null,kt=1,f(h,w,A,E)}finally{kt=B,Dn.transition=X,It===0&&Cc()}},t.findAllNodes=W1,t.findBoundingRects=function(f,h){if(!Ue)throw Error(o(363));h=W1(f,h),f=[];for(var w=0;w<h.length;w++)f.push(U(h[w]));for(h=f.length-1;0<h;h--){w=f[h];for(var A=w.x,E=A+w.width,B=w.y,X=B+w.height,oe=h-1;0<=oe;oe--)if(h!==oe){var Ee=f[oe],Xe=Ee.x,it=Xe+Ee.width,vt=Ee.y,ut=vt+Ee.height;if(A>=Xe&&B>=vt&&E<=it&&X<=ut){f.splice(h,1);break}else if(A!==Xe||w.width!==Ee.width||ut<B||vt>X){if(!(B!==vt||w.height!==Ee.height||it<A||Xe>E)){Xe>A&&(Ee.width+=Xe-A,Ee.x=A),it<E&&(Ee.width=E-Xe),f.splice(h,1);break}}else{vt>B&&(Ee.height+=vt-B,Ee.y=B),ut<X&&(Ee.height=X-vt),f.splice(h,1);break}}}return f},t.findHostInstance=w7,t.findHostInstanceWithNoPortals=function(f){return f=z(f),f=f!==null?H(f):null,f===null?null:f.stateNode},t.findHostInstanceWithWarning=function(f){return w7(f)},t.flushControlled=function(f){var h=It;It|=1;var w=Dn.transition,A=kt;try{Dn.transition=null,kt=1,f()}finally{kt=A,Dn.transition=w,It=h,It===0&&(Cc(),$r())}},t.flushPassiveEffects=tl,t.flushSync=u7,t.focusWithin=function(f,h){if(!Ue)throw Error(o(363));for(f=G1(f),h=a7(f,h),h=Array.from(h),f=0;f<h.length;){var w=h[f++];if(!re(w)){if(w.tag===5&&Le(w.stateNode))return!0;for(w=w.child;w!==null;)h.push(w),w=w.sibling}}return!1},t.getCurrentUpdatePriority=function(){return kt},t.getFindAllNodesFailureDescription=function(f,h){if(!Ue)throw Error(o(363));var w=0,A=[];f=[G1(f),0];for(var E=0;E<f.length;){var B=f[E++],X=f[E++],oe=h[X];if((B.tag!==5||!re(B))&&(H1(B,oe)&&(A.push(V1(oe)),X++,X>w&&(w=X)),X<h.length))for(B=B.child;B!==null;)f.push(B,X),B=B.sibling}if(w<h.length){for(f=[];w<h.length;w++)f.push(V1(h[w]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},t.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return ee(f.child.stateNode);default:return f.child.stateNode}},t.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:bb,findFiberByHostInstance:f.findFiberByHostInstance||Tb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)f=!0;else{try{jo=h.inject(f),vi=h}catch{}f=!!h.checkDCE}}return f},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(f,h,w,A){if(!Ue)throw Error(o(363));f=W1(f,h);var E=ke(f,w,A).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(f,h){var w=h._getVersion;w=w(h._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[h,w]:f.mutableSourceEagerHydrationData.push(h,w)},t.runWithPriority=function(f,h){var w=kt;try{return kt=f,h()}finally{kt=w}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(f,h,w,A){var E=h.current,B=Vr(),X=Zo(E);return w=_7(w),h.context===null?h.context=w:h.pendingContext=w,h=io(B,X),h.payload={element:f},A=A===void 0?null:A,A!==null&&(h.callback=A),Xo(E,h),f=zi(E,X,B),f!==null&&i3(f,E,X),X},t};KC.exports=PG;var LG=KC.exports;const IG=h2(LG);function QC(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const wo=[];function qC(n,e,t=!1,r={}){for(const s of wo)if(QC(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=wo.indexOf(i);s!==-1&&wo.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(wo.push(i),!t)throw i.promise}const DG=(n,e,t)=>qC(n,e,!1,t),FG=(n,e,t)=>void qC(n,e,!0,t),kG=n=>{if(n===void 0||n.length===0)wo.splice(0,wo.length);else{const e=wo.find(t=>QC(n,t.keys,t.equal));if(e){const t=wo.indexOf(e);t!==-1&&wo.splice(t,1)}}},Gg={},$C=n=>void Object.assign(Gg,n);function OG(n,e){function t(u,{args:d=[],attach:p,...m},g){let v=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;y=Qc(x,{type:u,root:g,attach:p,primitive:!0})}else{const x=Gg[v];if(!x)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");y=Qc(new x(...d),{type:u,root:g,attach:p,memoizedProps:{args:d}})}return y.__r3f.attach===void 0&&(y instanceof _t?y.__r3f.attach="geometry":y instanceof Jn&&(y.__r3f.attach="material")),v!=="inject"&&Am(y,m),y}function r(u,d){let p=!1;if(d){var m,g;(m=d.__r3f)!=null&&m.attach?Sm(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),p=!0),p||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||Qc(d,{}),d.__r3f.parent=u,N8(d),qc(d)}}function i(u,d,p){let m=!1;if(d){var g,v;if((g=d.__r3f)!=null&&g.attach)Sm(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const y=u.children.filter(_=>_!==d),x=y.indexOf(p);u.children=[...y.slice(0,x),d,...y.slice(x)],m=!0}m||(v=u.__r3f)==null||v.objects.push(d),d.__r3f||Qc(d,{}),d.__r3f.parent=u,N8(d),qc(d)}}function s(u,d,p=!1){u&&[...u].forEach(m=>o(d,m,p))}function o(u,d,p){if(d){var m,g,v;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(M=>M!==d)),(g=d.__r3f)!=null&&g.attach)Nx(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var y;u.remove(d),(y=d.__r3f)!=null&&y.root&&jG(d.__r3f.root,d)}const _=(v=d.__r3f)==null?void 0:v.primitive,S=p===void 0?d.dispose!==null&&!_:p;if(!_){var x;s((x=d.__r3f)==null?void 0:x.objects,d,S),s(d.children,d,S)}d.__r3f&&(delete d.__r3f.root,delete d.__r3f.objects,delete d.__r3f.handlers,delete d.__r3f.memoizedProps,_||delete d.__r3f),S&&d.dispose&&d.type!=="Scene"&&k8.unstable_scheduleCallback(k8.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),qc(u)}}function a(u,d,p,m){var g;const v=(g=u.__r3f)==null?void 0:g.parent;if(!v)return;const y=t(d,p,u.__r3f.root);if(u.children){for(const x of u.children)x.__r3f&&r(y,x);u.children=u.children.filter(x=>!x.__r3f)}u.__r3f.objects.forEach(x=>r(y,x)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(v,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=y,x.ref&&(typeof x.ref=="function"?x.ref(y):x.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:IG({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,d))},removeChildFromContainer:(u,d)=>{d&&o(u.getState().scene,d)},insertInContainerBefore:(u,d,p)=>{if(!d||!p)return;const m=u.getState().scene;m.__r3f&&i(m,d,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,p,m){if(u.__r3f.primitive&&m.object&&m.object!==u)return[!0];{const{args:g=[],children:v,...y}=m,{args:x=[],children:_,...S}=p;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((b,T)=>b!==x[T]))return[!0];const M=oE(u,y,S,!0);return M.changes.length?[!1,M]:null}},commitUpdate(u,[d,p],m,g,v,y){d?a(u,m,v,y):Am(u,p)},commitMount(u,d,p,m){var g;const v=(g=u.__r3f)!=null?g:{};u.raycast&&v.handlers&&v.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Qc(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:p,parent:m}=(d=u.__r3f)!=null?d:{};p&&m&&Nx(m,u,p),u.isObject3D&&(u.visible=!1),qc(u)},unhideInstance(u,d){var p;const{attach:m,parent:g}=(p=u.__r3f)!=null?p:{};m&&g&&Sm(g,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),qc(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():gu.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&un.fun(performance.now)?performance.now:un.fun(Date.now)?Date.now:()=>0,scheduleTimeout:un.fun(setTimeout)?setTimeout:void 0,cancelTimeout:un.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Am}}var Dx,Fx;const wm=n=>"colorSpace"in n||"outputColorSpace"in n,eE=()=>{var n;return(n=Gg.ColorManagement)!=null?n:null},tE=n=>n&&n.isOrthographicCamera,NG=n=>n&&n.hasOwnProperty("current"),Yh=typeof window<"u"&&((Dx=window.document)!=null&&Dx.createElement||((Fx=window.navigator)==null?void 0:Fx.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function nE(n){const e=F.useRef(n);return Yh(()=>void(e.current=n),[n]),e}function UG({set:n}){return Yh(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class rE extends F.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}rE.getDerivedStateFromError=()=>({error:!0});const iE="__default",kx=new Map,zG=n=>n&&!!n.memoized&&!!n.changes;function sE(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const cd=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},un={obj:n=>n===Object(n)&&!un.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(un.str(n)||un.num(n))return n===e;const s=un.obj(n);if(s&&r==="reference")return n===e;const o=un.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!un.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(un.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function GG(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function HG(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Qc(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function O8(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const Ox=/-\d+$/;function Sm(n,e,t){if(un.str(t)){if(Ox.test(t)){const s=t.replace(Ox,""),{target:o,key:a}=O8(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=O8(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function Nx(n,e,t){var r,i;if(un.str(t)){const{target:s,key:o}=O8(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function oE(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const d=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||p.unshift([v[y],iE+"remove"])}p.forEach(([v,y])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||un.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,y,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),m.push([v,y,!1,_]);for(const S in i){const M=i[S];S.startsWith(`${v}-`)&&m.push([S,M,!1,S.split("-")])}});const g={...i};return d.memoizedProps&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:m}}function Am(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=zG(e)?e:oE(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,g,v,y]=c[p];if(wm(n)){const M="srgb",b="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?M:b):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?M:b)}let x=n,_=x[m];if(y.length&&(_=y.reduce((S,M)=>S[M],n),!(_&&_.set))){const[S,...M]=y.reverse();x=M.reverse().reduce((b,T)=>b[T],n),m=S}if(g===iE+"remove")if(x.constructor){let S=kx.get(x.constructor);S||(S=new x.constructor,kx.set(x.constructor,S)),g=S[m]}else g=0;if(v)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Nl)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&_.constructor===g.constructor)_.copy(g);else if(g!==void 0){const S=_ instanceof qe;!S&&_.setScalar?_.setScalar(g):_ instanceof Nl&&g instanceof Nl?_.mask=g.mask:_.set(g),!eE()&&!a.linear&&S&&_.convertSRGBToLinear()}}else if(x[m]=g,x[m]instanceof on&&x[m].format===oi&&x[m].type===Fo){const S=x[m];wm(S)&&wm(a.gl)?S.colorSpace=a.gl.outputColorSpace:S.encoding=a.gl.outputEncoding}qc(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&N8(n),n}function qc(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function N8(n){n.onUpdate==null||n.onUpdate(n)}function VG(n,e){n.manual||(tE(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function J0(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function WG(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return gu.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return gu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return gu.ContinuousEventPriority;default:return gu.DefaultEventPriority}}function aE(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function jG(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{aE(t.capturedMap,e,r,i)})}function JG(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),d=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let x=0;x<m.length;x++){const _=cd(m[x]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(x){const _=cd(x);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var S;_.events.compute==null||_.events.compute(l,_,(S=_.previousRoot)==null?void 0:S.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(x,!0):[]}let v=m.flatMap(g).sort((x,_)=>{const S=cd(x.object),M=cd(_.object);return!S||!M?x.distance-_.distance:M.events.priority-S.events.priority||x.distance-_.distance}).filter(x=>{const _=J0(x);return d.has(_)?!1:(d.add(_),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const x of v){let _=x.object;for(;_;){var y;(y=_.__r3f)!=null&&y.eventCount&&p.push({...x,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let x of u.internal.capturedMap.get(l.pointerId).values())d.has(J0(x.intersection))||p.push(x.intersection);return p}function i(l,c,u,d){const p=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const v=cd(g.object)||p,{raycaster:y,pointer:x,camera:_,internal:S}=v,M=new N(x.x,x.y,0).unproject(_),b=L=>{var z,G;return(z=(G=S.capturedMap.get(L))==null?void 0:G.has(g.eventObject))!=null?z:!1},T=L=>{const z={intersection:g,target:c.target};S.capturedMap.has(L)?S.capturedMap.get(L).set(g.eventObject,z):S.capturedMap.set(L,new Map([[g.eventObject,z]])),c.target.setPointerCapture(L)},R=L=>{const z=S.capturedMap.get(L);z&&aE(S.capturedMap,g.eventObject,z,L)};let C={};for(let L in c){let z=c[L];typeof z!="function"&&(C[L]=z)}let P={...g,...C,pointer:x,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:M,ray:y.ray,camera:_,stopPropagation(){const L="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!L||L.has(g.eventObject))&&(P.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(z=>z.eventObject===g.eventObject))){const z=l.slice(0,l.indexOf(g));s([...z,g])}},target:{hasPointerCapture:b,setPointerCapture:T,releasePointerCapture:R},currentTarget:{hasPointerCapture:b,setPointerCapture:T,releasePointerCapture:R},nativeEvent:c};if(d(P),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(J0(u)),p!=null&&p.eventCount){const g={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,m?t:void 0),x=g?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=y.map(S=>S.eventObject)),g&&!y.length&&x<=2&&(o(u,p.interaction),d&&d(u)),m&&s(y);function _(S){const M=S.eventObject,b=M.__r3f,T=b==null?void 0:b.handlers;if(b!=null&&b.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const R=J0(S),C=p.hovered.get(R);C?C.stopped&&S.stopPropagation():(p.hovered.set(R,S),T.onPointerOver==null||T.onPointerOver(S),T.onPointerEnter==null||T.onPointerEnter(S))}T.onPointerMove==null||T.onPointerMove(S)}else{const R=T[l];R?(!g||p.initialHits.includes(M))&&(o(u,p.interaction.filter(C=>!p.initialHits.includes(C))),R(S)):g&&p.initialHits.includes(M)&&o(u,p.interaction.filter(C=>!p.initialHits.includes(C)))}}i(y,u,x,_)}}return{handlePointer:a}}const lE=n=>!!(n!=null&&n.render),cE=F.createContext(null),XG=(n,e)=>{const t=BG((a,l)=>{const c=new N,u=new N,d=new N;function p(x=l().camera,_=u,S=l().size){const{width:M,height:b,top:T,left:R}=S,C=M/b;_ instanceof N?d.copy(_):d.set(..._);const P=x.getWorldPosition(c).distanceTo(d);if(tE(x))return{width:M/x.zoom,height:b/x.zoom,top:T,left:R,factor:1,distance:P,aspect:C};{const L=x.fov*Math.PI/180,z=2*Math.tan(L/2)*P,G=z*(M/b);return{width:G,height:z,top:T,left:R,factor:M/G,distance:P,aspect:C}}}let m;const g=x=>a(_=>({performance:{..._.performance,current:x}})),v=new Re;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(l(),x),advance:(x,_)=>e(x,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Og,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();m&&clearTimeout(m),x.performance.current!==x.performance.min&&g(x.performance.min),m=setTimeout(()=>g(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:x=>a(_=>({..._,events:{..._.events,...x}})),setSize:(x,_,S,M,b)=>{const T=l().camera,R={width:x,height:_,top:M||0,left:b||0,updateStyle:S};a(C=>({size:R,viewport:{...C.viewport,...p(T,u,R)}}))},setDpr:x=>a(_=>{const S=sE(x);return{viewport:{..._.viewport,dpr:S,initialDpr:_.viewport.initialDpr||S}}}),setFrameloop:(x="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,x!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:F.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,_,S)=>{const M=l().internal;return M.priority=M.priority+(_>0?1:0),M.subscribers.push({ref:x,priority:_,store:S}),M.subscribers=M.subscribers.sort((b,T)=>b.priority-T.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(_>0?1:0),b.subscribers=b.subscribers.filter(T=>T.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=t.getState();if(l!==i||c.dpr!==s){var p;i=l,s=c.dpr,VG(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};function Hg(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let X0,uE=new Set,fE=new Set,dE=new Set;const KG=n=>Hg(n,uE),YG=n=>Hg(n,fE),ZG=n=>Hg(n,dE);function Mm(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function ud(n,e){switch(n){case"before":return Mm(uE,e);case"after":return Mm(fE,e);case"tail":return Mm(dE,e)}}let Cm,Em;function bm(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Cm=e.internal.subscribers,X0=0;X0<Cm.length;X0++)Em=Cm[X0],Em.ref.current(Em.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function QG(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,ud("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=bm(l,i))}if(ud("after",l),t===0)return ud("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(d=>o(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,d){if(c&&ud("before",l),u)bm(l,u,d);else for(const p of n.values())bm(l,p.store.getState());c&&ud("after",l)}return{loop:s,invalidate:o,advance:a}}function hE(){const n=F.useContext(cE);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ei(n=t=>t,e){return hE()(n,e)}function gf(n,e=0){const t=hE(),r=t.getState().internal.subscribe,i=nE(n);return Yh(()=>r(i,e,t),[e,r,t]),null}function pE(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,GG(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Zh(n,e,t,r){const i=Array.isArray(e)?e:[e],s=DG(pE(t,r),[n,...i],{equal:un.equ});return Array.isArray(e)?s:s[0]}Zh.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return FG(pE(t),[n,...r])};Zh.clear=function(n,e){const t=Array.isArray(e)?e:[e];return kG([n,...t])};const qu=new Map,{invalidate:Ux,advance:zx}=QG(qu),{reconciler:d2,applyProps:Jc}=OG(qu,WG),Xc={objects:"shallow",strict:!1},qG=(n,e)=>{const t=typeof n=="function"?n(e):n;return lE(t)?t:new pg({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function $G(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function eH(n){const e=qu.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||XG(Ux,zx),o=t||d2.createContainer(s,gu.ConcurrentRoot,null,!1,null,"",i,null);e||qu.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:d,size:p,scene:m,events:g,onCreated:v,shadows:y=!1,linear:x=!1,flat:_=!1,legacy:S=!1,orthographic:M=!1,frameloop:b="always",dpr:T=[1,2],performance:R,raycaster:C,camera:P,onPointerMissed:L}=u,z=s.getState(),G=z.gl;z.gl||z.set({gl:G=qG(d,n)});let V=z.raycaster;V||z.set({raycaster:V=new WC});const{params:H,...Y}=C||{};if(un.equ(Y,V,Xc)||Jc(V,{...Y}),un.equ(H,V.params,Xc)||Jc(V,{params:{...V.params,...H}}),!z.camera||z.camera===c&&!un.equ(c,P,Xc)){c=P;const D=P instanceof Ih,O=D?P:M?new Us(0,0,0,0,.1,1e3):new wn(75,0,.1,1e3);D||(O.position.z=5,P&&Jc(O,P),!z.camera&&!(P!=null&&P.rotation)&&O.lookAt(0,0,0)),z.set({camera:O})}if(!z.scene){let D;m instanceof Ku?D=m:(D=new Ku,m&&Jc(D,m)),z.set({scene:Qc(D)})}if(!z.xr){const D=($,te)=>{const Z=s.getState();Z.frameloop!=="never"&&zx($,!0,Z,te)},O=()=>{const $=s.getState();$.gl.xr.enabled=$.gl.xr.isPresenting,$.gl.xr.setAnimationLoop($.gl.xr.isPresenting?D:null),$.gl.xr.isPresenting||Ux($)},ie={connect(){const $=s.getState().gl;$.xr.addEventListener("sessionstart",O),$.xr.addEventListener("sessionend",O)},disconnect(){const $=s.getState().gl;$.xr.removeEventListener("sessionstart",O),$.xr.removeEventListener("sessionend",O)}};G.xr&&ie.connect(),z.set({xr:ie})}if(G.shadowMap){const D=G.shadowMap.enabled,O=G.shadowMap.type;if(G.shadowMap.enabled=!!y,un.boo(y))G.shadowMap.type=Fd;else if(un.str(y)){var ee;const ie={basic:tM,percentage:W2,soft:Fd,variance:Ml};G.shadowMap.type=(ee=ie[y])!=null?ee:Fd}else un.obj(y)&&Object.assign(G.shadowMap,y);(D!==G.shadowMap.enabled||O!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const ue=eE();ue&&("enabled"in ue?ue.enabled=!S:"legacyMode"in ue&&(ue.legacyMode=S)),Jc(G,{outputEncoding:x?3e3:3001,toneMapping:_?xs:ig}),z.legacy!==S&&z.set(()=>({legacy:S})),z.linear!==x&&z.set(()=>({linear:x})),z.flat!==_&&z.set(()=>({flat:_})),d&&!un.fun(d)&&!lE(d)&&!un.equ(d,G,Xc)&&Jc(G,d),g&&!z.events.handlers&&z.set({events:g(s)});const J=$G(n,p);return un.equ(J,z.size,Xc)||z.setSize(J.width,J.height,J.updateStyle,J.top,J.left),T&&z.viewport.dpr!==sE(T)&&z.setDpr(T),z.frameloop!==b&&z.setFrameloop(b),z.onPointerMissed||z.set({onPointerMissed:L}),R&&!un.equ(R,z.performance,Xc)&&z.set(D=>({performance:{...D.performance,...R}})),a=v,l=!0,this},render(u){return l||this.configure(),d2.updateContainer(F.createElement(tH,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){mE(n)}}}function tH({store:n,children:e,onCreated:t,rootElement:r}){return Yh(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),F.createElement(cE.Provider,{value:n},e)}function mE(n,e){const t=qu.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),d2.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),HG(i),qu.delete(n),e&&e(n)}catch{}},500)})}}d2.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:F.version});function U8(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}U8.debounce=U8;var nH=U8;const Gx=h2(nH);function rH(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=F.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=F.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=F.useRef(!1);F.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[p,m,g]=F.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:S,top:M,width:b,height:T,bottom:R,right:C,x:P,y:L}=l.current.element.getBoundingClientRect(),z={left:S,top:M,width:b,height:T,bottom:R,right:C,x:P,y:L};l.current.element instanceof HTMLElement&&i&&(z.height=l.current.element.offsetHeight,z.width=l.current.element.offsetWidth),Object.freeze(z),d.current&&!aH(l.current.lastBounds,z)&&a(l.current.lastBounds=z)};return[_,u?Gx(_,u):_,c?Gx(_,c):_]},[a,i,c,u]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",g,{capture:!0,passive:!0})))}const x=_=>{!_||_===l.current.element||(v(),l.current.element=_,l.current.scrollContainers=gE(_),y())};return sH(g,!!t),iH(m),F.useEffect(()=>{v(),y()},[t,g,m]),F.useEffect(()=>v,[]),[x,o,p]}function iH(n){F.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function sH(n,e){F.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function gE(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...gE(n.parentElement)]}const oH=["x","y","top","bottom","left","right","width","height"],aH=(n,e)=>oH.every(t=>n[t]===e[t]);var lH=Object.defineProperty,cH=Object.defineProperties,uH=Object.getOwnPropertyDescriptors,Hx=Object.getOwnPropertySymbols,fH=Object.prototype.hasOwnProperty,dH=Object.prototype.propertyIsEnumerable,Vx=(n,e,t)=>e in n?lH(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Wx=(n,e)=>{for(var t in e||(e={}))fH.call(e,t)&&Vx(n,t,e[t]);if(Hx)for(var t of Hx(e))dH.call(e,t)&&Vx(n,t,e[t]);return n},hH=(n,e)=>cH(n,uH(e));function vE(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=vE(r,e,t);if(i)return i;r=e?null:r.sibling}}function yE(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Vg=yE(F.createContext(null));class xE extends F.Component{render(){return F.createElement(Vg.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:jx,ReactCurrentDispatcher:Jx}=F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function pH(){const n=F.useContext(Vg);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=F.useId();return F.useMemo(()=>{for(const r of[jx==null?void 0:jx.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=vE(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function mH(){var n,e;const t=pH(),[r]=F.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==Vg&&!r.has(s)&&r.set(s,(e=Jx==null?void 0:Jx.current)==null?void 0:e.readContext(yE(s))),i=i.return}return r}function gH(){const n=mH();return F.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>F.createElement(e,null,F.createElement(t.Provider,hH(Wx({},r),{value:n.get(t)}))),e=>F.createElement(xE,Wx({},e))),[n])}const Tm={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function vH(n){const{handlePointer:e}=JG(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(Tm).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=Tm[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=Tm[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const yH=F.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=vH,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:x,camera:_,onPointerMissed:S,onCreated:M,...b},T){F.useMemo(()=>$C(bG),[]);const R=gH(),[C,P]=rH({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=F.useRef(null),z=F.useRef(null);F.useImperativeHandle(T,()=>L.current);const G=nE(S),[V,H]=F.useState(!1),[Y,ee]=F.useState(!1);if(V)throw V;if(Y)throw Y;const ue=F.useRef(null);Yh(()=>{const W=L.current;P.width>0&&P.height>0&&W&&(ue.current||(ue.current=eH(W)),ue.current.configure({gl:s,events:o,shadows:c,linear:u,flat:d,legacy:p,orthographic:m,frameloop:g,dpr:v,performance:y,raycaster:x,camera:_,size:P,onPointerMissed:(...J)=>G.current==null?void 0:G.current(...J),onCreated:J=>{J.events.connect==null||J.events.connect(a?NG(a)?a.current:a:z.current),l&&J.setEvents({compute:(D,O)=>{const ie=D[l+"X"],$=D[l+"Y"];O.pointer.set(ie/O.size.width*2-1,-($/O.size.height)*2+1),O.raycaster.setFromCamera(O.pointer,O.camera)}}),M==null||M(J)}}),ue.current.render(F.createElement(R,null,F.createElement(rE,{set:ee},F.createElement(F.Suspense,{fallback:F.createElement(UG,{set:H})},e)))))}),F.useEffect(()=>{const W=L.current;if(W)return()=>mE(W)},[]);const k=a?"none":"auto";return F.createElement("div",Kl({ref:z,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:k,...i}},b),F.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},F.createElement("canvas",{ref:L,style:{display:"block"}},t)))}),_E=F.forwardRef(function(e,t){return F.createElement(xE,null,F.createElement(yH,Kl({},e,{ref:t})))});function xH(n){let e;const t=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const p=e;e=u?d:Object.assign({},e,d),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const g=u(e);if(!d(p,g)){const v=p;c(p=g,v)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const _H=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Xx=_H?F.useEffect:F.useLayoutEffect;function wH(n){const e=typeof n=="function"?xH(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=F.useReducer(y=>y+1,0),o=e.getState(),a=F.useRef(o),l=F.useRef(r),c=F.useRef(i),u=F.useRef(!1),d=F.useRef();d.current===void 0&&(d.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(d.current,p)),Xx(()=>{m&&(d.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const g=F.useRef(o);Xx(()=>{const y=()=>{try{const _=e.getState(),S=l.current(_);c.current(d.current,S)||(a.current=_,d.current=S,s())}catch{u.current=!0,s()}},x=e.subscribe(y);return e.getState()!==g.current&&y(),x},[]);const v=m?p:d.current;return F.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}let fd=0;const SH=wH(n=>(mu.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-fd)/(r-fd)*100})},mu.onLoad=()=>{n({active:!1})},mu.onError=e=>n(t=>({errors:[...t.errors,e]})),mu.onProgress=(e,t,r)=>{t===r&&(fd=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-fd)/(r-fd)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),AH=n=>`Loading ${n.toFixed(2)}%`;function MH({containerStyles:n,innerStyles:e,barStyles:t,dataStyles:r,dataInterpolation:i=AH,initialState:s=o=>o}){const{active:o,progress:a}=SH(),l=F.useRef(0),c=F.useRef(0),u=F.useRef(null),[d,p]=F.useState(s(o));F.useEffect(()=>{let g;return o!==d&&(g=setTimeout(()=>p(o),300)),()=>clearTimeout(g)},[d,o]);const m=F.useCallback(()=>{u.current&&(l.current+=(a-l.current)/2,(l.current>.95*a||a===100)&&(l.current=a),u.current.innerText=i(l.current),l.current<a&&(c.current=requestAnimationFrame(m)))},[i,a]);return F.useEffect(()=>(m(),()=>cancelAnimationFrame(c.current)),[m]),d?F.createElement("div",{style:{...K0.container,opacity:o?1:0,...n}},F.createElement("div",null,F.createElement("div",{style:{...K0.inner,...e}},F.createElement("div",{style:{...K0.bar,transform:`scaleX(${a/100})`,...t}}),F.createElement("span",{ref:u,style:{...K0.data,...r}})))):null}const K0={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}};function Wg(){}Wg.prototype.s2u=function(n){for(var e=this.s2uTable,t="",r=0;r<n.length;){var i=n[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<n.length&&(i=i<<8|n[r++]),e[i]===void 0)return console.error("unknown char code "+i+"."),t;t+=String.fromCharCode(e[i])}return t};Wg.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function Kx(n,e){this.dv=new DataView(n),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new Wg}Kx.prototype={constructor:Kx,getInt8:function(){var n=this.dv.getInt8(this.offset);return this.offset+=1,n},getInt8Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt8());return e},getUint8:function(){var n=this.dv.getUint8(this.offset);return this.offset+=1,n},getUint8Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint8());return e},getInt16:function(){var n=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,n},getInt16Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt16());return e},getUint16:function(){var n=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,n},getUint16Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint16());return e},getInt32:function(){var n=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,n},getInt32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getInt32());return e},getUint32:function(){var n=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,n},getUint32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getUint32());return e},getFloat32:function(){var n=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,n},getFloat32Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getFloat32());return e},getFloat64:function(){var n=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,n},getFloat64Array:function(n){for(var e=[],t=0;t<n;t++)e.push(this.getFloat64());return e},getIndex:function(n,e){switch(n){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+n+" exception."}},getIndexArray:function(n,e,t){for(var r=[],i=0;i<e;i++)r.push(this.getIndex(n,t));return r},getChars:function(n){for(var e="";n>0;){var t=this.getUint8();if(n--,t===0)break;e+=String.fromCharCode(t)}for(;n>0;)this.getUint8(),n--;return e},getSjisStringsAsUnicode:function(n){for(var e=[];n>0;){var t=this.getUint8();if(n--,t===0)break;e.push(t)}for(;n>0;)this.getUint8(),n--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(n){for(var e="";n>0;){var t=this.getUint16();if(n-=2,t===0)break;e+=String.fromCharCode(t)}for(;n>0;)this.getUint8(),n--;return e},getTextBuffer:function(){var n=this.getUint32();return this.getUnicodeStrings(n)}};function Yx(){}Yx.prototype={constructor:Yx,leftToRightVector3:function(n){n[2]=-n[2]},leftToRightQuaternion:function(n){n[0]=-n[0],n[1]=-n[1]},leftToRightEuler:function(n){n[0]=-n[0],n[1]=-n[1]},leftToRightIndexOrder:function(n){var e=n[2];n[2]=n[0],n[0]=e},leftToRightVector3Range:function(n,e){var t=-e[2];e[2]=-n[2],n[2]=t},leftToRightEulerRange:function(n,e){var t=-e[0],r=-e[1];e[0]=-n[0],e[1]=-n[1],n[0]=t,n[1]=r}};var CH=Object.defineProperty,EH=(n,e,t)=>e in n?CH(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ft=(n,e,t)=>(EH(n,typeof e!="symbol"?e+"":e,t),t);let dd;function oX(){var n;if(dd!==void 0)return dd;try{let e;const t=document.createElement("canvas");return dd=!!(window.WebGL2RenderingContext&&(e=t.getContext("webgl2"))),e&&((n=e.getExtension("WEBGL_lose_context"))==null||n.loseContext()),dd}catch{return dd=!1}}function bH(n){let e=0;for(let r in n.attributes){const i=n.getAttribute(r);e+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}const t=n.getIndex();return e+=t?t.count*t.itemSize*t.array.BYTES_PER_ELEMENT:0,e}function TH(n,e=1e-4){e=Math.max(e,Number.EPSILON);const t={},r=n.getIndex(),i=n.getAttribute("position"),s=r?r.count:i.count;let o=0;const a=Object.keys(n.attributes),l={},c={},u=[],d=["getX","getY","getZ","getW"];for(let v=0,y=a.length;v<y;v++){const x=a[v];l[x]=[];const _=n.morphAttributes[x];_&&(c[x]=new Array(_.length).fill(0).map(()=>[]))}const p=Math.log10(1/e),m=Math.pow(10,p);for(let v=0;v<s;v++){const y=r?r.getX(v):v;let x="";for(let _=0,S=a.length;_<S;_++){const M=a[_],b=n.getAttribute(M),T=b.itemSize;for(let R=0;R<T;R++)x+=`${~~(b[d[R]](y)*m)},`}if(x in t)u.push(t[x]);else{for(let _=0,S=a.length;_<S;_++){const M=a[_],b=n.getAttribute(M),T=n.morphAttributes[M],R=b.itemSize,C=l[M],P=c[M];for(let L=0;L<R;L++){const z=d[L];if(C.push(b[z](y)),T)for(let G=0,V=T.length;G<V;G++)P[G].push(T[G][z](y))}}t[x]=o,u.push(o),o++}}const g=n.clone();for(let v=0,y=a.length;v<y;v++){const x=a[v],_=n.getAttribute(x),S=new _.array.constructor(l[x]),M=new Vt(S,_.itemSize,_.normalized);if(g.setAttribute(x,M),x in c)for(let b=0;b<c[x].length;b++){const T=n.morphAttributes[x][b],R=new T.array.constructor(c[x][b]),C=new Vt(R,T.itemSize,T.normalized);g.morphAttributes[x][b]=C}}return g.setIndex(u),g}function Zx(n,e){if(e===jM)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===c2||e===ag){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===c2)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const wE=parseInt(Bh.replace(/\D+/g,"")),Rm={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new N},up:{value:new N(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${wE>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `};Rm.fragmentShader,Rm.vertexShader,Rm.uniforms;const Y0=new lf,Qx=new xo,RH=Math.cos(70*(Math.PI/180)),qx=(n,e)=>(n%e+e)%e;let BH=class extends Ks{constructor(e,t){super(),ft(this,"object"),ft(this,"domElement"),ft(this,"enabled",!0),ft(this,"target",new N),ft(this,"minDistance",0),ft(this,"maxDistance",1/0),ft(this,"minZoom",0),ft(this,"maxZoom",1/0),ft(this,"minPolarAngle",0),ft(this,"maxPolarAngle",Math.PI),ft(this,"minAzimuthAngle",-1/0),ft(this,"maxAzimuthAngle",1/0),ft(this,"enableDamping",!1),ft(this,"dampingFactor",.05),ft(this,"enableZoom",!0),ft(this,"zoomSpeed",1),ft(this,"enableRotate",!0),ft(this,"rotateSpeed",1),ft(this,"enablePan",!0),ft(this,"panSpeed",1),ft(this,"screenSpacePanning",!0),ft(this,"keyPanSpeed",7),ft(this,"zoomToCursor",!1),ft(this,"autoRotate",!1),ft(this,"autoRotateSpeed",2),ft(this,"reverseOrbit",!1),ft(this,"reverseHorizontalOrbit",!1),ft(this,"reverseVerticalOrbit",!1),ft(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ft(this,"mouseButtons",{LEFT:ml.ROTATE,MIDDLE:ml.DOLLY,RIGHT:ml.PAN}),ft(this,"touches",{ONE:gl.ROTATE,TWO:gl.DOLLY_PAN}),ft(this,"target0"),ft(this,"position0"),ft(this,"zoom0"),ft(this,"_domElementKeyEvents",null),ft(this,"getPolarAngle"),ft(this,"getAzimuthalAngle"),ft(this,"setPolarAngle"),ft(this,"setAzimuthalAngle"),ft(this,"getDistance"),ft(this,"listenToKeyEvents"),ft(this,"stopListenToKeyEvents"),ft(this,"saveState"),ft(this,"reset"),ft(this,"update"),ft(this,"connect"),ft(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Q=>{let Ae=qx(Q,2*Math.PI),Je=u.phi;Je<0&&(Je+=2*Math.PI),Ae<0&&(Ae+=2*Math.PI);let K=Math.abs(Ae-Je);2*Math.PI-K<K&&(Ae<Je?Ae+=2*Math.PI:Je+=2*Math.PI),d.phi=Ae-Je,r.update()},this.setAzimuthalAngle=Q=>{let Ae=qx(Q,2*Math.PI),Je=u.theta;Je<0&&(Je+=2*Math.PI),Ae<0&&(Ae+=2*Math.PI);let K=Math.abs(Ae-Je);2*Math.PI-K<K&&(Ae<Je?Ae+=2*Math.PI:Je+=2*Math.PI),d.theta=Ae-Je,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Q=>{Q.addEventListener("keydown",Oe),this._domElementKeyEvents=Q},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Oe),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Q=new N,Ae=new N(0,1,0),Je=new ur().setFromUnitVectors(e.up,Ae),K=Je.clone().invert(),fe=new N,Pe=new ur,Ke=2*Math.PI;return function(){const pt=r.object.position;Je.setFromUnitVectors(e.up,Ae),K.copy(Je).invert(),Q.copy(pt).sub(r.target),Q.applyQuaternion(Je),u.setFromVector3(Q),r.autoRotate&&l===a.NONE&&H(G()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let mt=r.minAzimuthAngle,wt=r.maxAzimuthAngle;isFinite(mt)&&isFinite(wt)&&(mt<-Math.PI?mt+=Ke:mt>Math.PI&&(mt-=Ke),wt<-Math.PI?wt+=Ke:wt>Math.PI&&(wt-=Ke),mt<=wt?u.theta=Math.max(mt,Math.min(wt,u.theta)):u.theta=u.theta>(mt+wt)/2?Math.max(mt,u.theta):Math.min(wt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&P||r.object.isOrthographicCamera?u.radius=O(u.radius):u.radius=O(u.radius*p),Q.setFromSpherical(u),Q.applyQuaternion(K),pt.copy(r.target).add(Q),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let Dt=!1;if(r.zoomToCursor&&P){let Pt=null;if(r.object instanceof wn&&r.object.isPerspectiveCamera){const Et=Q.length();Pt=O(Et*p);const St=Et-Pt;r.object.position.addScaledVector(R,St),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Et=new N(C.x,C.y,0);Et.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),Dt=!0;const St=new N(C.x,C.y,0);St.unproject(r.object),r.object.position.sub(St).add(Et),r.object.updateMatrixWorld(),Pt=Q.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Pt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Pt).add(r.object.position):(Y0.origin.copy(r.object.position),Y0.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Y0.direction))<RH?e.lookAt(r.target):(Qx.setFromNormalAndCoplanarPoint(r.object.up,r.target),Y0.intersectPlane(Qx,r.target))))}else r.object instanceof Us&&r.object.isOrthographicCamera&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),Dt=!0);return p=1,P=!1,Dt||fe.distanceToSquared(r.object.position)>c||8*(1-Pe.dot(r.object.quaternion))>c?(r.dispatchEvent(i),fe.copy(r.object.position),Pe.copy(r.object.quaternion),Dt=!1,!0):!1}})(),this.connect=Q=>{Q===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=Q,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ze),r.domElement.addEventListener("pointerdown",Te),r.domElement.addEventListener("pointercancel",re),r.domElement.addEventListener("wheel",ke)},this.dispose=()=>{var Q,Ae,Je,K,fe,Pe;(Q=r.domElement)==null||Q.removeEventListener("contextmenu",Ze),(Ae=r.domElement)==null||Ae.removeEventListener("pointerdown",Te),(Je=r.domElement)==null||Je.removeEventListener("pointercancel",re),(K=r.domElement)==null||K.removeEventListener("wheel",ke),(fe=r.domElement)==null||fe.removeEventListener("pointermove",U),(Pe=r.domElement)==null||Pe.removeEventListener("pointerup",I),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Oe)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new F8,d=new F8;let p=1;const m=new N,g=new Re,v=new Re,y=new Re,x=new Re,_=new Re,S=new Re,M=new Re,b=new Re,T=new Re,R=new N,C=new Re;let P=!1;const L=[],z={};function G(){return 2*Math.PI/60/60*r.autoRotateSpeed}function V(){return Math.pow(.95,r.zoomSpeed)}function H(Q){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=Q:d.theta-=Q}function Y(Q){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=Q:d.phi-=Q}const ee=(()=>{const Q=new N;return function(Je,K){Q.setFromMatrixColumn(K,0),Q.multiplyScalar(-Je),m.add(Q)}})(),ue=(()=>{const Q=new N;return function(Je,K){r.screenSpacePanning===!0?Q.setFromMatrixColumn(K,1):(Q.setFromMatrixColumn(K,0),Q.crossVectors(r.object.up,Q)),Q.multiplyScalar(Je),m.add(Q)}})(),k=(()=>{const Q=new N;return function(Je,K){const fe=r.domElement;if(fe&&r.object instanceof wn&&r.object.isPerspectiveCamera){const Pe=r.object.position;Q.copy(Pe).sub(r.target);let Ke=Q.length();Ke*=Math.tan(r.object.fov/2*Math.PI/180),ee(2*Je*Ke/fe.clientHeight,r.object.matrix),ue(2*K*Ke/fe.clientHeight,r.object.matrix)}else fe&&r.object instanceof Us&&r.object.isOrthographicCamera?(ee(Je*(r.object.right-r.object.left)/r.object.zoom/fe.clientWidth,r.object.matrix),ue(K*(r.object.top-r.object.bottom)/r.object.zoom/fe.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function W(Q){r.object instanceof wn&&r.object.isPerspectiveCamera||r.object instanceof Us&&r.object.isOrthographicCamera?p/=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function J(Q){r.object instanceof wn&&r.object.isPerspectiveCamera||r.object instanceof Us&&r.object.isOrthographicCamera?p*=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function D(Q){if(!r.zoomToCursor||!r.domElement)return;P=!0;const Ae=r.domElement.getBoundingClientRect(),Je=Q.clientX-Ae.left,K=Q.clientY-Ae.top,fe=Ae.width,Pe=Ae.height;C.x=Je/fe*2-1,C.y=-(K/Pe)*2+1,R.set(C.x,C.y,1).unproject(r.object).sub(r.object.position).normalize()}function O(Q){return Math.max(r.minDistance,Math.min(r.maxDistance,Q))}function ie(Q){g.set(Q.clientX,Q.clientY)}function $(Q){D(Q),M.set(Q.clientX,Q.clientY)}function te(Q){x.set(Q.clientX,Q.clientY)}function Z(Q){v.set(Q.clientX,Q.clientY),y.subVectors(v,g).multiplyScalar(r.rotateSpeed);const Ae=r.domElement;Ae&&(H(2*Math.PI*y.x/Ae.clientHeight),Y(2*Math.PI*y.y/Ae.clientHeight)),g.copy(v),r.update()}function ne(Q){b.set(Q.clientX,Q.clientY),T.subVectors(b,M),T.y>0?W(V()):T.y<0&&J(V()),M.copy(b),r.update()}function he(Q){_.set(Q.clientX,Q.clientY),S.subVectors(_,x).multiplyScalar(r.panSpeed),k(S.x,S.y),x.copy(_),r.update()}function Me(Q){D(Q),Q.deltaY<0?J(V()):Q.deltaY>0&&W(V()),r.update()}function xe(Q){let Ae=!1;switch(Q.code){case r.keys.UP:k(0,r.keyPanSpeed),Ae=!0;break;case r.keys.BOTTOM:k(0,-r.keyPanSpeed),Ae=!0;break;case r.keys.LEFT:k(r.keyPanSpeed,0),Ae=!0;break;case r.keys.RIGHT:k(-r.keyPanSpeed,0),Ae=!0;break}Ae&&(Q.preventDefault(),r.update())}function Ce(){if(L.length==1)g.set(L[0].pageX,L[0].pageY);else{const Q=.5*(L[0].pageX+L[1].pageX),Ae=.5*(L[0].pageY+L[1].pageY);g.set(Q,Ae)}}function q(){if(L.length==1)x.set(L[0].pageX,L[0].pageY);else{const Q=.5*(L[0].pageX+L[1].pageX),Ae=.5*(L[0].pageY+L[1].pageY);x.set(Q,Ae)}}function de(){const Q=L[0].pageX-L[1].pageX,Ae=L[0].pageY-L[1].pageY,Je=Math.sqrt(Q*Q+Ae*Ae);M.set(0,Je)}function Be(){r.enableZoom&&de(),r.enablePan&&q()}function we(){r.enableZoom&&de(),r.enableRotate&&Ce()}function Se(Q){if(L.length==1)v.set(Q.pageX,Q.pageY);else{const Je=Ne(Q),K=.5*(Q.pageX+Je.x),fe=.5*(Q.pageY+Je.y);v.set(K,fe)}y.subVectors(v,g).multiplyScalar(r.rotateSpeed);const Ae=r.domElement;Ae&&(H(2*Math.PI*y.x/Ae.clientHeight),Y(2*Math.PI*y.y/Ae.clientHeight)),g.copy(v)}function We(Q){if(L.length==1)_.set(Q.pageX,Q.pageY);else{const Ae=Ne(Q),Je=.5*(Q.pageX+Ae.x),K=.5*(Q.pageY+Ae.y);_.set(Je,K)}S.subVectors(_,x).multiplyScalar(r.panSpeed),k(S.x,S.y),x.copy(_)}function ye(Q){const Ae=Ne(Q),Je=Q.pageX-Ae.x,K=Q.pageY-Ae.y,fe=Math.sqrt(Je*Je+K*K);b.set(0,fe),T.set(0,Math.pow(b.y/M.y,r.zoomSpeed)),W(T.y),M.copy(b)}function Fe(Q){r.enableZoom&&ye(Q),r.enablePan&&We(Q)}function Ue(Q){r.enableZoom&&ye(Q),r.enableRotate&&Se(Q)}function Te(Q){var Ae,Je,K;r.enabled!==!1&&(L.length===0&&((Ae=r.domElement)==null||Ae.setPointerCapture(Q.pointerId),(Je=r.domElement)==null||Je.addEventListener("pointermove",U),(K=r.domElement)==null||K.addEventListener("pointerup",I)),He(Q),Q.pointerType==="touch"?De(Q):pe(Q))}function U(Q){r.enabled!==!1&&(Q.pointerType==="touch"?ge(Q):Le(Q))}function I(Q){var Ae,Je,K;je(Q),L.length===0&&((Ae=r.domElement)==null||Ae.releasePointerCapture(Q.pointerId),(Je=r.domElement)==null||Je.removeEventListener("pointermove",U),(K=r.domElement)==null||K.removeEventListener("pointerup",I)),r.dispatchEvent(o),l=a.NONE}function re(Q){je(Q)}function pe(Q){let Ae;switch(Q.button){case 0:Ae=r.mouseButtons.LEFT;break;case 1:Ae=r.mouseButtons.MIDDLE;break;case 2:Ae=r.mouseButtons.RIGHT;break;default:Ae=-1}switch(Ae){case ml.DOLLY:if(r.enableZoom===!1)return;$(Q),l=a.DOLLY;break;case ml.ROTATE:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(r.enablePan===!1)return;te(Q),l=a.PAN}else{if(r.enableRotate===!1)return;ie(Q),l=a.ROTATE}break;case ml.PAN:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(r.enableRotate===!1)return;ie(Q),l=a.ROTATE}else{if(r.enablePan===!1)return;te(Q),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Le(Q){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Z(Q);break;case a.DOLLY:if(r.enableZoom===!1)return;ne(Q);break;case a.PAN:if(r.enablePan===!1)return;he(Q);break}}function ke(Q){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Q.preventDefault(),r.dispatchEvent(s),Me(Q),r.dispatchEvent(o))}function Oe(Q){r.enabled===!1||r.enablePan===!1||xe(Q)}function De(Q){switch(Ve(Q),L.length){case 1:switch(r.touches.ONE){case gl.ROTATE:if(r.enableRotate===!1)return;Ce(),l=a.TOUCH_ROTATE;break;case gl.PAN:if(r.enablePan===!1)return;q(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case gl.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Be(),l=a.TOUCH_DOLLY_PAN;break;case gl.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;we(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function ge(Q){switch(Ve(Q),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Se(Q),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;We(Q),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(Q),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ue(Q),r.update();break;default:l=a.NONE}}function Ze(Q){r.enabled!==!1&&Q.preventDefault()}function He(Q){L.push(Q)}function je(Q){delete z[Q.pointerId];for(let Ae=0;Ae<L.length;Ae++)if(L[Ae].pointerId==Q.pointerId){L.splice(Ae,1);return}}function Ve(Q){let Ae=z[Q.pointerId];Ae===void 0&&(Ae=new Re,z[Q.pointerId]=Ae),Ae.set(Q.pageX,Q.pageY)}function Ne(Q){const Ae=Q.pointerId===L[0].pointerId?L[1]:L[0];return z[Ae.pointerId]}t!==void 0&&this.connect(t),this.update()}};class jg extends kr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new FH(t)}),this.register(function(t){return new VH(t)}),this.register(function(t){return new WH(t)}),this.register(function(t){return new jH(t)}),this.register(function(t){return new OH(t)}),this.register(function(t){return new NH(t)}),this.register(function(t){return new UH(t)}),this.register(function(t){return new zH(t)}),this.register(function(t){return new DH(t)}),this.register(function(t){return new GH(t)}),this.register(function(t){return new kH(t)}),this.register(function(t){return new HH(t)}),this.register(function(t){return new LH(t)}),this.register(function(t){return new JH(t)}),this.register(function(t){return new XH(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ws.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new di(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ws.decodeText(new Uint8Array(e.slice(0,4)))===SE){try{o[Ut.KHR_BINARY_GLTF]=new KH(e)}catch(u){i&&i(u);return}s=JSON.parse(o[Ut.KHR_BINARY_GLTF].content)}else s=JSON.parse(Ws.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new aV(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],d=s.extensionsRequired||[];switch(u){case Ut.KHR_MATERIALS_UNLIT:o[u]=new IH;break;case Ut.KHR_DRACO_MESH_COMPRESSION:o[u]=new YH(s,this.dracoLoader);break;case Ut.KHR_TEXTURE_TRANSFORM:o[u]=new ZH;break;case Ut.KHR_MESH_QUANTIZATION:o[u]=new QH;break;default:d.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function PH(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Ut={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class LH{constructor(e){this.parser=e,this.name=Ut.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new qe(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Dg(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Ig(u),c.distance=d;break;case"spot":c=new Lg(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,fa(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class IH{constructor(){this.name=Ut.KHR_MATERIALS_UNLIT}getMaterialType(){return hn}extendParams(e,t,r){const i=[];e.color=new qe(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class DH{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class FH{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Re(a,a)}return Promise.all(s)}}class kH{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class OH{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new qe(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class NH{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class UH{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new qe(a[0],a[1],a[2]),Promise.all(s)}}class zH{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zs}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class GH{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new qe(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class HH{constructor(e){this.parser=e,this.name=Ut.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Zs}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class VH{constructor(e){this.parser=e,this.name=Ut.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class WH{constructor(e){this.parser=e,this.name=Ut.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class jH{constructor(e){this.parser=e,this.name=Ut.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class JH{constructor(e){this.name=Ut.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,d,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*d);return o.decodeGltfBuffer(new Uint8Array(m),u,d,p,i.mode,i.filter),m})})}else return null}}class XH{constructor(e){this.name=Ut.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Ji.TRIANGLES&&c.mode!==Ji.TRIANGLE_STRIP&&c.mode!==Ji.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],p=c[0].count,m=[];for(const g of d){const v=new dt,y=new N,x=new ur,_=new N(1,1,1),S=new vg(g.geometry,g.material,p);for(let M=0;M<p;M++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,M),l.SCALE&&_.fromBufferAttribute(l.SCALE,M),S.setMatrixAt(M,v.compose(y,x,_));for(const M in l)M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&g.geometry.setAttribute(M,l[M]);xt.prototype.copy.call(S,g),this.parser.assignFinalMaterial(S),m.push(S)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const SE="glTF",hd=12,$x={JSON:1313821514,BIN:5130562};class KH{constructor(e){this.name=Ut.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,hd);if(this.header={magic:Ws.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==SE)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-hd,i=new DataView(e,hd);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===$x.JSON){const l=new Uint8Array(e,hd+s,o);this.content=Ws.decodeText(l)}else if(a===$x.BIN){const l=hd+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class YH{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ut.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=z8[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=z8[u]||u.toLowerCase();if(o[u]!==void 0){const p=r.accessors[e.attributes[u]],m=Tu[p.componentType];c[d]=m.name,l[d]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(d){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const g=p.attributes[m],v=l[m];v!==void 0&&(g.normalized=v)}d(p)},a,c)})})}}class ZH{constructor(){this.name=Ut.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class QH{constructor(){this.name=Ut.KHR_MESH_QUANTIZATION}}class AE extends mf{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,d=(r-t)/u,p=d*d,m=p*d,g=e*c,v=g-c,y=-2*m+3*p,x=m-p,_=1-y,S=x-p+d;for(let M=0;M!==a;M++){const b=o[v+M+a],T=o[v+M+l]*u,R=o[g+M+a],C=o[g+M]*u;s[M]=_*b+S*T+y*R+x*C}return s}}const qH=new ur;class $H extends AE{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return qH.fromArray(s).normalize().toArray(s),s}}const Ji={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Tu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},e_={9728:Tn,9729:fn,9984:uh,9985:J2,9986:Eu,9987:Js},t_={33071:vr,33648:Vu,10497:La},Bm={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},z8={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...wE>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},aa={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},eV={CUBICSPLINE:void 0,LINEAR:Zl,STEP:ju},Pm={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function tV(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Kh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:js})),n.DefaultMaterial}function fl(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function fa(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function nV(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(r){const p=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;o.push(p)}if(i){const p=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],p=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function rV(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function iV(n){let e;const t=n.extensions&&n.extensions[Ut.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Lm(t.attributes):e=n.indices+":"+Lm(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+Lm(n.targets[r]);return e}function Lm(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function G8(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function sV(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const oV=new dt;class aV{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new PH,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new DC(this.options.manager):this.textureLoader=new zC(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new di(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};fl(s,a,i),fa(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ut.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ws.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=Bm[i.type],a=Tu[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new Vt(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=Bm[i.type],c=Tu[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,y;if(m&&m!==d){const x=Math.floor(p/m),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let S=t.cache.get(_);S||(v=new c(a,x*m,i.count*m/u),S=new Fh(v,m/u),t.cache.add(_,S)),y=new Da(S,l,p%m/u,g)}else a===null?v=new c(i.count*l):v=new c(a,p,i.count*l),y=new Vt(v,l,g);if(i.sparse!==void 0){const x=Bm.SCALAR,_=Tu[i.sparse.indices.componentType],S=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,b=new _(o[1],S,i.sparse.count*x),T=new c(o[2],M,i.sparse.count*l);a!==null&&(y=new Vt(y.array.slice(),y.itemSize,y.normalized));for(let R=0,C=b.length;R<C;R++){const P=b[R];if(y.setX(P,T[R*l]),l>=2&&y.setY(P,T[R*l+1]),l>=3&&y.setZ(P,T[R*l+2]),l>=4&&y.setW(P,T[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=e_[p.magFilter]||fn,u.minFilter=e_[p.minFilter]||Js,u.wrapS=t_[p.wrapS]||La,u.wrapT=t_[p.wrapT]||La,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(d){c=!0;const p=new Blob([d],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(p,m){let g=p;t.isImageBitmapLoader===!0&&(g=function(v){const y=new on(v);y.needsUpdate=!0,p(y)}),t.load(Ws.resolveURL(d,s.path),g,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=o.mimeType||sV(o.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Ut.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Ut.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Ut.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new r1,Jn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new nn,Jn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Kh}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Ut.KHR_MATERIALS_UNLIT]){const d=i[Ut.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,t))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new qe(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",d.baseColorTexture,3001)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=rc);const u=s.alphaMode||Pm.OPAQUE;if(u===Pm.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===Pm.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==hn&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Re(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==hn&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==hn&&(a.emissive=new qe().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==hn&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const d=new o(a);return s.name&&(d.name=s.name),fa(d,s),t.associations.set(d,{materials:e}),s.extensions&&fl(i,d,s),d})}createUniqueName(e){const t=Gt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Ut.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return n_(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=iV(c),d=i[u];if(d)o.push(d.promise);else{let p;c.extensions&&c.extensions[Ut.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=n_(new _t,c,t),i[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?tV(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let m=0,g=u.length;m<g;m++){const v=u[m],y=o[m];let x;const _=c[m];if(y.mode===Ji.TRIANGLES||y.mode===Ji.TRIANGLE_STRIP||y.mode===Ji.TRIANGLE_FAN||y.mode===void 0)x=s.isSkinnedMesh===!0?new gg(v,_):new Rn(v,_),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),y.mode===Ji.TRIANGLE_STRIP?x.geometry=Zx(x.geometry,ag):y.mode===Ji.TRIANGLE_FAN&&(x.geometry=Zx(x.geometry,c2));else if(y.mode===Ji.LINES)x=new Pn(v,_);else if(y.mode===Ji.LINE_STRIP)x=new ko(v,_);else if(y.mode===Ji.LINE_LOOP)x=new yg(v,_);else if(y.mode===Ji.POINTS)x=new i1(v,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(x.geometry.morphAttributes).length>0&&rV(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),fa(x,s),y.extensions&&fl(i,x,y),t.assignFinalMaterial(x),d.push(x)}for(let m=0,g=d.length;m<g;m++)t.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return s.extensions&&fl(i,d[0],s),d[0];const p=new Eo;s.extensions&&fl(i,p,s),t.associations.set(p,{meshes:e});for(let m=0,g=d.length;m<g;m++)p.add(d[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new wn(bl.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Us(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),fa(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d){a.push(d);const p=new dt;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new kh(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,d=r.channels.length;u<d;u++){const p=r.channels[u],m=r.samplers[p.sampler],g=p.target,v=g.node,y=r.parameters!==void 0?r.parameters[m.input]:m.input,x=r.parameters!==void 0?r.parameters[m.output]:m.output;g.node!==void 0&&(s.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",x)),l.push(m),c.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const d=u[0],p=u[1],m=u[2],g=u[3],v=u[4],y=[];for(let x=0,_=d.length;x<_;x++){const S=d[x],M=p[x],b=m[x],T=g[x],R=v[x];if(S===void 0)continue;S.updateMatrix();let C;switch(aa[R.path]){case aa.weights:C=Yu;break;case aa.rotation:C=Fa;break;case aa.position:case aa.scale:default:C=Zu;break}const P=S.name?S.name:S.uuid,L=T.interpolation!==void 0?eV[T.interpolation]:Zl,z=[];aa[R.path]===aa.weights?S.traverse(function(V){V.morphTargetInfluences&&z.push(V.name?V.name:V.uuid)}):z.push(P);let G=b.array;if(b.normalized){const V=G8(G.constructor),H=new Float32Array(G.length);for(let Y=0,ee=G.length;Y<ee;Y++)H[Y]=G[Y]*V;G=H}for(let V=0,H=z.length;V<H;V++){const Y=new C(z[V]+"."+aa[R.path],M.array,G,L);T.interpolation==="CUBICSPLINE"&&(Y.createInterpolant=function(ue){const k=this instanceof Fa?$H:AE;return new k(this.times,this.values,this.getValueSize()/3,ue)},Y.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(Y)}}return new Qu(i,void 0,y)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],d=c[1],p=c[2];p!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(p,oV)});for(let m=0,g=d.length;m<g;m++)u.add(d[m]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new n1:c.length>1?u=new Eo:c.length===1?u=c[0]:u=new xt,u!==c[0])for(let d=0,p=c.length;d<p;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=o),fa(u,s),s.extensions&&fl(r,u,s),s.matrix!==void 0){const d=new dt;d.fromArray(s.matrix),u.applyMatrix4(d)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new Eo;r.name&&(s.name=i.createUniqueName(r.name)),fa(s,r),r.extensions&&fl(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);const c=u=>{const d=new Map;for(const[p,m]of i.associations)(p instanceof Jn||p instanceof on)&&d.set(p,m);return u.traverse(p=>{const m=i.associations.get(p);m!=null&&d.set(p,m)}),d};return i.associations=c(s),s})}}function lV(n,e,t){const r=e.attributes,i=new Ys;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new N(l[0],l[1],l[2]),new N(c[0],c[1],c[2])),a.normalized){const u=G8(Tu[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new N,l=new N;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const p=t.json.accessors[d.POSITION],m=p.min,g=p.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),p.normalized){const v=G8(Tu[p.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Uo;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function n_(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=z8[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return fa(n,e),lV(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?nV(n,e.targets,t):n})}class cV extends df{constructor(e,t={}){const{bevelEnabled:r=!1,bevelSize:i=8,bevelThickness:s=10,font:o,height:a=50,size:l=100,lineHeight:c=1,letterSpacing:u=0,...d}=t;if(o===void 0)super();else{const p=o.generateShapes(e,l,{lineHeight:c,letterSpacing:u});super(p,{...d,bevelEnabled:r,bevelSize:i,bevelThickness:s,depth:a})}this.type="TextGeometry"}}class uV extends kr{constructor(e){super(e)}load(e,t,r,i){const s=new di(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{if(typeof o!="string")throw new Error("unsupported data type");const a=JSON.parse(o),l=this.parse(a);t&&t(l)},r,i)}loadAsync(e,t){return super.loadAsync(e,t)}parse(e){return new fV(e)}}class fV{constructor(e){ft(this,"data"),this.data=e}generateShapes(e,t=100,r){const i=[],s={letterSpacing:0,lineHeight:1,...r},o=dV(e,t,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(i,o[a].toShapes(!1));return i}}function dV(n,e,t,r){const i=Array.from(n),s=e/t.resolution,o=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*s,a=[];let l=0,c=0;for(let u=0;u<i.length;u++){const d=i[u];if(d===`
`)l=0,c-=o*r.lineHeight;else{const p=hV(d,s,l,c,t);p&&(l+=p.offsetX+r.letterSpacing,a.push(p.path))}}return a}function hV(n,e,t,r,i){const s=i.glyphs[n]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+i.familyName+".");return}const o=new JC;let a,l,c,u,d,p,m,g;if(s.o){const v=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let y=0,x=v.length;y<x;)switch(v[y++]){case"m":a=parseInt(v[y++])*e+t,l=parseInt(v[y++])*e+r,o.moveTo(a,l);break;case"l":a=parseInt(v[y++])*e+t,l=parseInt(v[y++])*e+r,o.lineTo(a,l);break;case"q":c=parseInt(v[y++])*e+t,u=parseInt(v[y++])*e+r,d=parseInt(v[y++])*e+t,p=parseInt(v[y++])*e+r,o.quadraticCurveTo(d,p,c,u);break;case"b":c=parseInt(v[y++])*e+t,u=parseInt(v[y++])*e+r,d=parseInt(v[y++])*e+t,p=parseInt(v[y++])*e+r,m=parseInt(v[y++])*e+t,g=parseInt(v[y++])*e+r,o.bezierCurveTo(d,p,m,g,c,u);break}}return{offsetX:s.ha*e,path:o}}const Im=new WeakMap;class pV extends kr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new di(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(Im.has(e)){const l=Im.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),Im.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new _t;e.index&&t.setIndex(new Vt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Vt(o,a))}return t}_loadLibrary(e,t){const r=new di(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=mV.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function mV(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,p=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(d,p,m,c),v=g.attributes.map(y=>y.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{d.destroy(m),d.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let p,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(g===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const y in u){const x=self[d[y]];let _,S;if(c.useUniqueIDs)S=u[y],_=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[u[y]]),S===-1)continue;_=a.GetAttribute(p,S)}v.attributes.push(i(o,a,p,y,x,_))}return g===o.TRIANGULAR_MESH&&(v.index=r(o,a,p)),o.destroy(p),v}function r(o,a,l){const u=l.num_faces()*3,d=u*4,p=o._malloc(d);a.GetTrianglesUInt32Array(l,d,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,c,u,d){const p=d.num_components(),g=l.num_points()*p,v=g*u.BYTES_PER_ELEMENT,y=s(o,u),x=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,d,y,v,x);const _=new u(o.HEAPF32.buffer,x,g).slice();return o._free(x),{name:c,array:_,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Z0;const Dm=()=>{if(Z0)return Z0;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(d=>{s=d.instance,s.exports.__wasm_call_ctors()});function a(d){const p=new Uint8Array(d.length);for(let g=0;g<d.length;++g){const v=d.charCodeAt(g);p[g]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let m=0;for(let g=0;g<d.length;++g)p[m++]=p[g]<60?r[p[g]]:(p[g]-60)*64+p[++g];return p.buffer.slice(0,m)}function l(d,p,m,g,v,y){const x=s.exports.sbrk,_=m+3&-4,S=x(_*g),M=x(v.length),b=new Uint8Array(s.exports.memory.buffer);b.set(v,M);const T=d(S,m,g,M,v.length);if(T===0&&y&&y(S,_,g),p.set(b.subarray(S,S+m*g)),x(S-x(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Z0={ready:o,supported:!0,decodeVertexBuffer(d,p,m,g,v){l(s.exports.meshopt_decodeVertexBuffer,d,p,m,g,s.exports[c[v]])},decodeIndexBuffer(d,p,m,g){l(s.exports.meshopt_decodeIndexBuffer,d,p,m,g)},decodeIndexSequence(d,p,m,g){l(s.exports.meshopt_decodeIndexSequence,d,p,m,g)},decodeGltfBuffer(d,p,m,g,v,y){l(s.exports[u[v]],d,p,m,g,s.exports[c[y]])}},Z0};function gV(){var n=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!n[o])try{l=l.map(function(p){return p&&p.isWorkerModule&&(e(p,function(m){if(m instanceof Error)throw m}),p=n[p.id].value),p}),c=r("<"+a+">.init",c),u&&(u=r("<"+a+">.getTransferables",u));var d=null;typeof c=="function"?d=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:d,getTransferables:u},s(d)}catch(p){p&&p.noLog||console.error(p),s(p)}}function t(i,s){var o,a=i.id,l=i.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=n[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(d){return s(d instanceof Error?d:new Error(""+d))}):u(c)}catch(d){s(d)}function u(d){try{var p=n[a].getTransferables&&n[a].getTransferables(d);(!p||!Array.isArray(p)||!p.length)&&(p=void 0),s(d,p)}catch(m){console.error(m),s(m)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&t(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function vV(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(t).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var ME=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return ME=function(){return n},n},yV=0,xV=0,Fm=!1,Ud=Object.create(null),zd=Object.create(null),H8=Object.create(null);function Qh(n){if((!n||typeof n.init!="function")&&!Fm)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId;if(!ME())return vV(n);i==null&&(i="#default");var s="workerModule"+ ++yV,o=n.name||s,a=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(Fm=!0,c=Qh({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+Rp(c)+`
)}`}),Fm=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!a){a=r_(i,"registerModule",l.workerModuleData);var d=function(){a=null,zd[i].delete(d)};(zd[i]||(zd[i]=new Set)).add(d)}return a.then(function(p){var m=p.isCallable;if(m)return r_(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:Rp(t),getTransferables:r&&Rp(r)},l}function _V(n){zd[n]&&zd[n].forEach(function(e){e()}),Ud[n]&&(Ud[n].terminate(),delete Ud[n])}function Rp(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function wV(n){var e=Ud[n];if(!e){var t=Rp(gV);e=Ud[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=H8[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete H8[s],o(i)}}return e}function r_(n,e,t){return new Promise(function(r,i){var s=++xV;H8[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},wV(n).postMessage({messageId:s,action:e,data:t})})}function CE(){var n=function(e){function t(W,J,D,O,ie,$,te,Z){var ne=1-te;Z.x=ne*ne*W+2*ne*te*D+te*te*ie,Z.y=ne*ne*J+2*ne*te*O+te*te*$}function r(W,J,D,O,ie,$,te,Z,ne,he){var Me=1-ne;he.x=Me*Me*Me*W+3*Me*Me*ne*D+3*Me*ne*ne*ie+ne*ne*ne*te,he.y=Me*Me*Me*J+3*Me*Me*ne*O+3*Me*ne*ne*$+ne*ne*ne*Z}function i(W,J){for(var D=/([MLQCZ])([^MLQCZ]*)/g,O,ie,$,te,Z;O=D.exec(W);){var ne=O[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(he){return parseFloat(he)});switch(O[1]){case"M":te=ie=ne[0],Z=$=ne[1];break;case"L":(ne[0]!==te||ne[1]!==Z)&&J("L",te,Z,te=ne[0],Z=ne[1]);break;case"Q":{J("Q",te,Z,te=ne[2],Z=ne[3],ne[0],ne[1]);break}case"C":{J("C",te,Z,te=ne[4],Z=ne[5],ne[0],ne[1],ne[2],ne[3]);break}case"Z":(te!==ie||Z!==$)&&J("L",te,Z,ie,$);break}}}function s(W,J,D){D===void 0&&(D=16);var O={x:0,y:0};i(W,function(ie,$,te,Z,ne,he,Me,xe,Ce){switch(ie){case"L":J($,te,Z,ne);break;case"Q":{for(var q=$,de=te,Be=1;Be<D;Be++)t($,te,he,Me,Z,ne,Be/(D-1),O),J(q,de,O.x,O.y),q=O.x,de=O.y;break}case"C":{for(var we=$,Se=te,We=1;We<D;We++)r($,te,he,Me,xe,Ce,Z,ne,We/(D-1),O),J(we,Se,O.x,O.y),we=O.x,Se=O.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(W,J){var D=W.getContext?W.getContext("webgl",c):W,O=l.get(D);if(!O){let Me=function(we){var Se=$[we];if(!Se&&(Se=$[we]=D.getExtension(we),!Se))throw new Error(we+" not supported");return Se},xe=function(we,Se){var We=D.createShader(Se);return D.shaderSource(We,we),D.compileShader(We),We},Ce=function(we,Se,We,ye){if(!te[we]){var Fe={},Ue={},Te=D.createProgram();D.attachShader(Te,xe(Se,D.VERTEX_SHADER)),D.attachShader(Te,xe(We,D.FRAGMENT_SHADER)),D.linkProgram(Te),te[we]={program:Te,transaction:function(I){D.useProgram(Te),I({setUniform:function(pe,Le){for(var ke=[],Oe=arguments.length-2;Oe-- >0;)ke[Oe]=arguments[Oe+2];var De=Ue[Le]||(Ue[Le]=D.getUniformLocation(Te,Le));D["uniform"+pe].apply(D,[De].concat(ke))},setAttribute:function(pe,Le,ke,Oe,De){var ge=Fe[pe];ge||(ge=Fe[pe]={buf:D.createBuffer(),loc:D.getAttribLocation(Te,pe),data:null}),D.bindBuffer(D.ARRAY_BUFFER,ge.buf),D.vertexAttribPointer(ge.loc,Le,D.FLOAT,!1,0,0),D.enableVertexAttribArray(ge.loc),ie?D.vertexAttribDivisor(ge.loc,Oe):Me("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ge.loc,Oe),De!==ge.data&&(D.bufferData(D.ARRAY_BUFFER,De,ke),ge.data=De)}})}}}te[we].transaction(ye)},q=function(we,Se){ne++;try{D.activeTexture(D.TEXTURE0+ne);var We=Z[we];We||(We=Z[we]=D.createTexture(),D.bindTexture(D.TEXTURE_2D,We),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,D.NEAREST),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,D.NEAREST)),D.bindTexture(D.TEXTURE_2D,We),Se(We,ne)}finally{ne--}},de=function(we,Se,We){var ye=D.createFramebuffer();he.push(ye),D.bindFramebuffer(D.FRAMEBUFFER,ye),D.activeTexture(D.TEXTURE0+Se),D.bindTexture(D.TEXTURE_2D,we),D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,we,0);try{We(ye)}finally{D.deleteFramebuffer(ye),D.bindFramebuffer(D.FRAMEBUFFER,he[--he.length-1]||null)}},Be=function(){$={},te={},Z={},ne=-1,he.length=0};var ie=typeof WebGL2RenderingContext<"u"&&D instanceof WebGL2RenderingContext,$={},te={},Z={},ne=-1,he=[];D.canvas.addEventListener("webglcontextlost",function(we){Be(),we.preventDefault()},!1),l.set(D,O={gl:D,isWebGL2:ie,getExtension:Me,withProgram:Ce,withTexture:q,withTextureFramebuffer:de,handleContextLoss:Be})}J(O)}function d(W,J,D,O,ie,$,te,Z){te===void 0&&(te=15),Z===void 0&&(Z=null),u(W,function(ne){var he=ne.gl,Me=ne.withProgram,xe=ne.withTexture;xe("copy",function(Ce,q){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,ie,$,0,he.RGBA,he.UNSIGNED_BYTE,J),Me("copy",o,a,function(de){var Be=de.setUniform,we=de.setAttribute;we("aUV",2,he.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Be("1i","image",q),he.bindFramebuffer(he.FRAMEBUFFER,Z||null),he.disable(he.BLEND),he.colorMask(te&8,te&4,te&2,te&1),he.viewport(D,O,ie,$),he.scissor(D,O,ie,$),he.drawArrays(he.TRIANGLES,0,3)})})})}function p(W,J,D){var O=W.width,ie=W.height;u(W,function($){var te=$.gl,Z=new Uint8Array(O*ie*4);te.readPixels(0,0,O,ie,te.RGBA,te.UNSIGNED_BYTE,Z),W.width=J,W.height=D,d(te,Z,0,0,O,ie)})}var m=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:d,resizeWebGLCanvasWithoutClearing:p});function g(W,J,D,O,ie,$){$===void 0&&($=1);var te=new Uint8Array(W*J),Z=O[2]-O[0],ne=O[3]-O[1],he=[];s(D,function(we,Se,We,ye){he.push({x1:we,y1:Se,x2:We,y2:ye,minX:Math.min(we,We),minY:Math.min(Se,ye),maxX:Math.max(we,We),maxY:Math.max(Se,ye)})}),he.sort(function(we,Se){return we.maxX-Se.maxX});for(var Me=0;Me<W;Me++)for(var xe=0;xe<J;xe++){var Ce=de(O[0]+Z*(Me+.5)/W,O[1]+ne*(xe+.5)/J),q=Math.pow(1-Math.abs(Ce)/ie,$)/2;Ce<0&&(q=1-q),q=Math.max(0,Math.min(255,Math.round(q*255))),te[xe*W+Me]=q}return te;function de(we,Se){for(var We=1/0,ye=1/0,Fe=he.length;Fe--;){var Ue=he[Fe];if(Ue.maxX+ye<=we)break;if(we+ye>Ue.minX&&Se-ye<Ue.maxY&&Se+ye>Ue.minY){var Te=x(we,Se,Ue.x1,Ue.y1,Ue.x2,Ue.y2);Te<We&&(We=Te,ye=Math.sqrt(We))}}return Be(we,Se)&&(ye=-ye),ye}function Be(we,Se){for(var We=0,ye=he.length;ye--;){var Fe=he[ye];if(Fe.maxX<=we)break;var Ue=Fe.y1>Se!=Fe.y2>Se&&we<(Fe.x2-Fe.x1)*(Se-Fe.y1)/(Fe.y2-Fe.y1)+Fe.x1;Ue&&(We+=Fe.y1<Fe.y2?1:-1)}return We!==0}}function v(W,J,D,O,ie,$,te,Z,ne,he){$===void 0&&($=1),Z===void 0&&(Z=0),ne===void 0&&(ne=0),he===void 0&&(he=0),y(W,J,D,O,ie,$,te,null,Z,ne,he)}function y(W,J,D,O,ie,$,te,Z,ne,he,Me){$===void 0&&($=1),ne===void 0&&(ne=0),he===void 0&&(he=0),Me===void 0&&(Me=0);for(var xe=g(W,J,D,O,ie,$),Ce=new Uint8Array(xe.length*4),q=0;q<xe.length;q++)Ce[q*4+Me]=xe[q];d(te,Ce,ne,he,W,J,1<<3-Me,Z)}function x(W,J,D,O,ie,$){var te=ie-D,Z=$-O,ne=te*te+Z*Z,he=ne?Math.max(0,Math.min(1,((W-D)*te+(J-O)*Z)/ne)):0,Me=W-(D+he*te),xe=J-(O+he*Z);return Me*Me+xe*xe}var _=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:v,generateIntoFramebuffer:y}),S="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",M="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",b="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",T=new Float32Array([0,0,2,0,0,2]),R=null,C=!1,P={},L=new WeakMap;function z(W){if(!C&&!Y(W))throw new Error("WebGL generation not supported")}function G(W,J,D,O,ie,$,te){if($===void 0&&($=1),te===void 0&&(te=null),!te&&(te=R,!te)){var Z=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Z)throw new Error("OffscreenCanvas or DOM canvas not supported");te=R=Z.getContext("webgl",{depth:!1})}z(te);var ne=new Uint8Array(W*J*4);u(te,function(Ce){var q=Ce.gl,de=Ce.withTexture,Be=Ce.withTextureFramebuffer;de("readable",function(we,Se){q.texImage2D(q.TEXTURE_2D,0,q.RGBA,W,J,0,q.RGBA,q.UNSIGNED_BYTE,null),Be(we,Se,function(We){H(W,J,D,O,ie,$,q,We,0,0,0),q.readPixels(0,0,W,J,q.RGBA,q.UNSIGNED_BYTE,ne)})})});for(var he=new Uint8Array(W*J),Me=0,xe=0;Me<ne.length;Me+=4)he[xe++]=ne[Me];return he}function V(W,J,D,O,ie,$,te,Z,ne,he){$===void 0&&($=1),Z===void 0&&(Z=0),ne===void 0&&(ne=0),he===void 0&&(he=0),H(W,J,D,O,ie,$,te,null,Z,ne,he)}function H(W,J,D,O,ie,$,te,Z,ne,he,Me){$===void 0&&($=1),ne===void 0&&(ne=0),he===void 0&&(he=0),Me===void 0&&(Me=0),z(te);var xe=[];s(D,function(Ce,q,de,Be){xe.push(Ce,q,de,Be)}),xe=new Float32Array(xe),u(te,function(Ce){var q=Ce.gl,de=Ce.isWebGL2,Be=Ce.getExtension,we=Ce.withProgram,Se=Ce.withTexture,We=Ce.withTextureFramebuffer,ye=Ce.handleContextLoss;if(Se("rawDistances",function(Fe,Ue){(W!==Fe._lastWidth||J!==Fe._lastHeight)&&q.texImage2D(q.TEXTURE_2D,0,q.RGBA,Fe._lastWidth=W,Fe._lastHeight=J,0,q.RGBA,q.UNSIGNED_BYTE,null),we("main",S,M,function(Te){var U=Te.setAttribute,I=Te.setUniform,re=!de&&Be("ANGLE_instanced_arrays"),pe=!de&&Be("EXT_blend_minmax");U("aUV",2,q.STATIC_DRAW,0,T),U("aLineSegment",4,q.DYNAMIC_DRAW,1,xe),I.apply(void 0,["4f","uGlyphBounds"].concat(O)),I("1f","uMaxDistance",ie),I("1f","uExponent",$),We(Fe,Ue,function(Le){q.enable(q.BLEND),q.colorMask(!0,!0,!0,!0),q.viewport(0,0,W,J),q.scissor(0,0,W,J),q.blendFunc(q.ONE,q.ONE),q.blendEquationSeparate(q.FUNC_ADD,de?q.MAX:pe.MAX_EXT),q.clear(q.COLOR_BUFFER_BIT),de?q.drawArraysInstanced(q.TRIANGLES,0,3,xe.length/4):re.drawArraysInstancedANGLE(q.TRIANGLES,0,3,xe.length/4)})}),we("post",o,b,function(Te){Te.setAttribute("aUV",2,q.STATIC_DRAW,0,T),Te.setUniform("1i","tex",Ue),q.bindFramebuffer(q.FRAMEBUFFER,Z),q.disable(q.BLEND),q.colorMask(Me===0,Me===1,Me===2,Me===3),q.viewport(ne,he,W,J),q.scissor(ne,he,W,J),q.drawArrays(q.TRIANGLES,0,3)})}),q.isContextLost())throw ye(),new Error("webgl context lost")})}function Y(W){var J=!W||W===R?P:W.canvas||W,D=L.get(J);if(D===void 0){C=!0;var O=null;try{var ie=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],$=G(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,W);D=$&&ie.length===$.length&&$.every(function(te,Z){return te===ie[Z]}),D||(O="bad trial run results",console.info(ie,$))}catch(te){D=!1,O=te.message}O&&console.warn("WebGL SDF generation not supported:",O),C=!1,L.set(J,D)}return D}var ee=Object.freeze({__proto__:null,generate:G,generateIntoCanvas:V,generateIntoFramebuffer:H,isSupported:Y});function ue(W,J,D,O,ie,$){ie===void 0&&(ie=Math.max(O[2]-O[0],O[3]-O[1])/2),$===void 0&&($=1);try{return G.apply(ee,arguments)}catch(te){return console.info("WebGL SDF generation failed, falling back to JS",te),g.apply(_,arguments)}}function k(W,J,D,O,ie,$,te,Z,ne,he){ie===void 0&&(ie=Math.max(O[2]-O[0],O[3]-O[1])/2),$===void 0&&($=1),Z===void 0&&(Z=0),ne===void 0&&(ne=0),he===void 0&&(he=0);try{return V.apply(ee,arguments)}catch(Me){return console.info("WebGL SDF generation failed, falling back to JS",Me),v.apply(_,arguments)}}return e.forEachPathCommand=i,e.generate=ue,e.generateIntoCanvas=k,e.javascript=_,e.pathToLineSegments=s,e.webgl=ee,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function SV(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(ye,Fe){r[ye]=1<<Fe+1,i[r[ye]]=ye}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,u=null;function d(){if(!u){u=new Map;var ye=function(Ue){if(t.hasOwnProperty(Ue)){var Te=0;t[Ue].split(",").forEach(function(U){var I=U.split("+"),re=I[0],pe=I[1];re=parseInt(re,36),pe=pe?parseInt(pe,36):0,u.set(Te+=re,r[Ue]);for(var Le=0;Le<pe;Le++)u.set(++Te,r[Ue])})}};for(var Fe in t)ye(Fe)}}function p(ye){return d(),u.get(ye.codePointAt(0))||r.L}function m(ye){return i[p(ye)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(ye,Fe){var Ue=36,Te=0,U=new Map,I=Fe&&new Map,re;return ye.split(",").forEach(function pe(Le){if(Le.indexOf("+")!==-1)for(var ke=+Le;ke--;)pe(re);else{re=Le;var Oe=Le.split(">"),De=Oe[0],ge=Oe[1];De=String.fromCodePoint(Te+=parseInt(De,Ue)),ge=String.fromCodePoint(Te+=parseInt(ge,Ue)),U.set(De,ge),Fe&&I.set(ge,De)}}),{map:U,reverseMap:I}}var y,x,_;function S(){if(!y){var ye=v(g.pairs,!0),Fe=ye.map,Ue=ye.reverseMap;y=Fe,x=Ue,_=v(g.canonical,!1).map}}function M(ye){return S(),y.get(ye)||null}function b(ye){return S(),x.get(ye)||null}function T(ye){return S(),_.get(ye)||null}var R=r.L,C=r.R,P=r.EN,L=r.ES,z=r.ET,G=r.AN,V=r.CS,H=r.B,Y=r.S,ee=r.ON,ue=r.BN,k=r.NSM,W=r.AL,J=r.LRO,D=r.RLO,O=r.LRE,ie=r.RLE,$=r.PDF,te=r.LRI,Z=r.RLI,ne=r.FSI,he=r.PDI;function Me(ye,Fe){for(var Ue=125,Te=new Uint32Array(ye.length),U=0;U<ye.length;U++)Te[U]=p(ye[U]);var I=new Map;function re(zn,rr){var $t=Te[zn];Te[zn]=rr,I.set($t,I.get($t)-1),$t&a&&I.set(a,I.get(a)-1),I.set(rr,(I.get(rr)||0)+1),rr&a&&I.set(a,(I.get(a)||0)+1)}for(var pe=new Uint8Array(ye.length),Le=new Map,ke=[],Oe=null,De=0;De<ye.length;De++)Oe||ke.push(Oe={start:De,end:ye.length-1,level:Fe==="rtl"?1:Fe==="ltr"?0:mc(De,!1)}),Te[De]&H&&(Oe.end=De,Oe=null);for(var ge=ie|O|D|J|s|he|$|H,Ze=function(zn){return zn+(zn&1?1:2)},He=function(zn){return zn+(zn&1?2:1)},je=0;je<ke.length;je++){Oe=ke[je];var Ve=[{_level:Oe.level,_override:0,_isolate:0}],Ne=void 0,Q=0,Ae=0,Je=0;I.clear();for(var K=Oe.start;K<=Oe.end;K++){var fe=Te[K];if(Ne=Ve[Ve.length-1],I.set(fe,(I.get(fe)||0)+1),fe&a&&I.set(a,(I.get(a)||0)+1),fe&ge)if(fe&(ie|O)){pe[K]=Ne._level;var Pe=(fe===ie?He:Ze)(Ne._level);Pe<=Ue&&!Q&&!Ae?Ve.push({_level:Pe,_override:0,_isolate:0}):Q||Ae++}else if(fe&(D|J)){pe[K]=Ne._level;var Ke=(fe===D?He:Ze)(Ne._level);Ke<=Ue&&!Q&&!Ae?Ve.push({_level:Ke,_override:fe&D?C:R,_isolate:0}):Q||Ae++}else if(fe&s){fe&ne&&(fe=mc(K+1,!0)===1?Z:te),pe[K]=Ne._level,Ne._override&&re(K,Ne._override);var tt=(fe===Z?He:Ze)(Ne._level);tt<=Ue&&Q===0&&Ae===0?(Je++,Ve.push({_level:tt,_override:0,_isolate:1,_isolInitIndex:K})):Q++}else if(fe&he){if(Q>0)Q--;else if(Je>0){for(Ae=0;!Ve[Ve.length-1]._isolate;)Ve.pop();var pt=Ve[Ve.length-1]._isolInitIndex;pt!=null&&(Le.set(pt,K),Le.set(K,pt)),Ve.pop(),Je--}Ne=Ve[Ve.length-1],pe[K]=Ne._level,Ne._override&&re(K,Ne._override)}else fe&$?(Q===0&&(Ae>0?Ae--:!Ne._isolate&&Ve.length>1&&(Ve.pop(),Ne=Ve[Ve.length-1])),pe[K]=Ne._level):fe&H&&(pe[K]=Oe.level);else pe[K]=Ne._level,Ne._override&&fe!==ue&&re(K,Ne._override)}for(var mt=[],wt=null,Dt=Oe.start;Dt<=Oe.end;Dt++){var Pt=Te[Dt];if(!(Pt&l)){var Et=pe[Dt],St=Pt&s,_r=Pt===he;wt&&Et===wt._level?(wt._end=Dt,wt._endsWithIsolInit=St):mt.push(wt={_start:Dt,_end:Dt,_level:Et,_startsWithPDI:_r,_endsWithIsolInit:St})}}for(var fr=[],jt=0;jt<mt.length;jt++){var yn=mt[jt];if(!yn._startsWithPDI||yn._startsWithPDI&&!Le.has(yn._start)){for(var j=[wt=yn],ce=void 0;wt&&wt._endsWithIsolInit&&(ce=Le.get(wt._end))!=null;)for(var ve=jt+1;ve<mt.length;ve++)if(mt[ve]._start===ce){j.push(wt=mt[ve]);break}for(var le=[],be=0;be<j.length;be++)for(var rt=j[be],ct=rt._start;ct<=rt._end;ct++)le.push(ct);for(var At=pe[le[0]],Mt=Oe.level,bt=le[0]-1;bt>=0;bt--)if(!(Te[bt]&l)){Mt=pe[bt];break}var Tt=le[le.length-1],Ft=pe[Tt],an=Oe.level;if(!(Te[Tt]&s)){for(var Un=Tt+1;Un<=Oe.end;Un++)if(!(Te[Un]&l)){an=pe[Un];break}}fr.push({_seqIndices:le,_sosType:Math.max(Mt,At)%2?C:R,_eosType:Math.max(an,Ft)%2?C:R})}}for(var Or=0;Or<fr.length;Or++){var mi=fr[Or],Ye=mi._seqIndices,ht=mi._sosType,qs=mi._eosType;if(I.get(k))for(var qt=0;qt<Ye.length;qt++){var Di=Ye[qt];if(Te[Di]&k){for(var Cs=ht,dr=qt-1;dr>=0;dr--)if(!(Te[Ye[dr]]&l)){Cs=Te[Ye[dr]];break}re(Di,Cs&(s|he)?ee:Cs)}}if(I.get(P))for(var hr=0;hr<Ye.length;hr++){var gt=Ye[hr];if(Te[gt]&P)for(var Lt=hr-1;Lt>=-1;Lt--){var Nr=Lt===-1?ht:Te[Ye[Lt]];if(Nr&o){Nr===W&&re(gt,G);break}}}if(I.get(W))for(var zt=0;zt<Ye.length;zt++){var Ln=Ye[zt];Te[Ln]&W&&re(Ln,C)}if(I.get(L)||I.get(V))for(var Ur=1;Ur<Ye.length-1;Ur++){var gi=Ye[Ur];if(Te[gi]&(L|V)){for(var In=0,Ho=0,lc=Ur-1;lc>=0&&(In=Te[Ye[lc]],!!(In&l));lc--);for(var cc=Ur+1;cc<Ye.length&&(Ho=Te[Ye[cc]],!!(Ho&l));cc++);In===Ho&&(Te[gi]===L?In===P:In&(P|G))&&re(gi,In)}}if(I.get(P))for(var Es=0;Es<Ye.length;Es++){var qh=Ye[Es];if(Te[qh]&P){for(var wr=Es-1;wr>=0&&Te[Ye[wr]]&(z|l);wr--)re(Ye[wr],P);for(var uc=Es+1;uc<Ye.length&&Te[Ye[uc]]&(z|l);uc++)re(Ye[uc],P)}}if(I.get(z)||I.get(L)||I.get(V))for(var Va=0;Va<Ye.length;Va++){var $h=Ye[Va];if(Te[$h]&(z|L|V)){re($h,ee);for(var $s=Va-1;$s>=0&&Te[Ye[$s]]&l;$s--)re(Ye[$s],ee);for(var eo=Va+1;eo<Ye.length&&Te[Ye[eo]]&l;eo++)re(Ye[eo],ee)}}if(I.get(P))for(var to=0,Wa=ht;to<Ye.length;to++){var e3=Ye[to],yf=Te[e3];yf&P?Wa===R&&re(e3,R):yf&o&&(Wa=yf)}if(I.get(a)){var no=C|P|G,fc=no|R,bs=[];{for(var Vo=[],Ts=0;Ts<Ye.length;Ts++)if(Te[Ye[Ts]]&a){var kt=ye[Ye[Ts]],xf=void 0;if(M(kt)!==null)if(Vo.length<63)Vo.push({char:kt,seqIndex:Ts});else break;else if((xf=b(kt))!==null)for(var ro=Vo.length-1;ro>=0;ro--){var dc=Vo[ro].char;if(dc===xf||dc===b(T(kt))||M(T(dc))===kt){bs.push([Vo[ro].seqIndex,Ts]),Vo.length=ro;break}}}bs.sort(function(zn,rr){return zn[0]-rr[0]})}for(var _f=0;_f<bs.length;_f++){for(var t3=bs[_f],mn=t3[0],Wo=t3[1],n3=!1,zr=0,wf=mn+1;wf<Wo;wf++){var jo=Ye[wf];if(Te[jo]&fc){n3=!0;var vi=Te[jo]&no?C:R;if(vi===Bs(jo)){zr=vi;break}}}if(n3&&!zr){zr=ht;for(var Sf=mn-1;Sf>=0;Sf--){var hc=Ye[Sf];if(Te[hc]&fc){var yi=Te[hc]&no?C:R;yi!==Bs(hc)?zr=yi:zr=Bs(hc);break}}}if(zr){if(Te[Ye[mn]]=Te[Ye[Wo]]=zr,zr!==Bs(Ye[mn])){for(var Gr=mn+1;Gr<Ye.length;Gr++)if(!(Te[Ye[Gr]]&l)){p(ye[Ye[Gr]])&k&&(Te[Ye[Gr]]=zr);break}}if(zr!==Bs(Ye[Wo])){for(var Rs=Wo+1;Rs<Ye.length;Rs++)if(!(Te[Ye[Rs]]&l)){p(ye[Ye[Rs]])&k&&(Te[Ye[Rs]]=zr);break}}}}for(var Fi=0;Fi<Ye.length;Fi++)if(Te[Ye[Fi]]&a){for(var Af=Fi,Mf=Fi,$r=ht,ja=Fi-1;ja>=0;ja--)if(Te[Ye[ja]]&l)Af=ja;else{$r=Te[Ye[ja]]&no?C:R;break}for(var Ja=qs,Xa=Fi+1;Xa<Ye.length;Xa++)if(Te[Ye[Xa]]&(a|l))Mf=Xa;else{Ja=Te[Ye[Xa]]&no?C:R;break}for(var Sr=Af;Sr<=Mf;Sr++)Te[Ye[Sr]]=$r===Ja?$r:Bs(Ye[Sr]);Fi=Mf}}}for(var nr=Oe.start;nr<=Oe.end;nr++){var pc=pe[nr],is=Te[nr];if(pc&1?is&(R|P|G)&&pe[nr]++:is&C?pe[nr]++:is&(G|P)&&(pe[nr]+=2),is&l&&(pe[nr]=nr===0?Oe.level:pe[nr-1]),nr===Oe.end||p(ye[nr])&(Y|H))for(var Jo=nr;Jo>=0&&p(ye[Jo])&c;Jo--)pe[Jo]=Oe.level}}return{levels:pe,paragraphs:ke};function mc(zn,rr){for(var $t=zn;$t<ye.length;$t++){var Kn=Te[$t];if(Kn&(C|W))return 1;if(Kn&(H|R)||rr&&Kn===he)return 0;if(Kn&s){var ss=r3($t);$t=ss===-1?ye.length:ss}}return 0}function r3(zn){for(var rr=1,$t=zn+1;$t<ye.length;$t++){var Kn=Te[$t];if(Kn&H)break;if(Kn&he){if(--rr===0)return $t}else Kn&s&&rr++}return-1}function Bs(zn){return pe[zn]&1?C:R}}var xe="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Ce;function q(){if(!Ce){var ye=v(xe,!0),Fe=ye.map,Ue=ye.reverseMap;Ue.forEach(function(Te,U){Fe.set(U,Te)}),Ce=Fe}}function de(ye){return q(),Ce.get(ye)||null}function Be(ye,Fe,Ue,Te){var U=ye.length;Ue=Math.max(0,Ue==null?0:+Ue),Te=Math.min(U-1,Te==null?U-1:+Te);for(var I=new Map,re=Ue;re<=Te;re++)if(Fe[re]&1){var pe=de(ye[re]);pe!==null&&I.set(re,pe)}return I}function we(ye,Fe,Ue,Te){var U=ye.length;Ue=Math.max(0,Ue==null?0:+Ue),Te=Math.min(U-1,Te==null?U-1:+Te);var I=[];return Fe.paragraphs.forEach(function(re){var pe=Math.max(Ue,re.start),Le=Math.min(Te,re.end);if(pe<Le){for(var ke=Fe.levels.slice(pe,Le+1),Oe=Le;Oe>=pe&&p(ye[Oe])&c;Oe--)ke[Oe]=re.level;for(var De=re.level,ge=1/0,Ze=0;Ze<ke.length;Ze++){var He=ke[Ze];He>De&&(De=He),He<ge&&(ge=He|1)}for(var je=De;je>=ge;je--)for(var Ve=0;Ve<ke.length;Ve++)if(ke[Ve]>=je){for(var Ne=Ve;Ve+1<ke.length&&ke[Ve+1]>=je;)Ve++;Ve>Ne&&I.push([Ne+Ue,Ve+Ue])}}}),I}function Se(ye,Fe,Ue,Te){var U=We(ye,Fe,Ue,Te),I=[].concat(ye);return U.forEach(function(re,pe){I[pe]=(Fe.levels[re]&1?de(ye[re]):null)||ye[re]}),I.join("")}function We(ye,Fe,Ue,Te){for(var U=we(ye,Fe,Ue,Te),I=[],re=0;re<ye.length;re++)I[re]=re;return U.forEach(function(pe){for(var Le=pe[0],ke=pe[1],Oe=I.slice(Le,ke+1),De=Oe.length;De--;)I[ke-De]=Oe[De]}),I}return e.closingToOpeningBracket=b,e.getBidiCharType=p,e.getBidiCharTypeName=m,e.getCanonicalBracket=T,e.getEmbeddingLevels=Me,e.getMirroredCharacter=de,e.getMirroredCharactersMap=Be,e.getReorderSegments=we,e.getReorderedIndices=We,e.getReorderedString=Se,e.openingToClosingBracket=M,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const EE=/\bvoid\s+main\s*\(\s*\)\s*{/g;function V8(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let s=Ct[i];return s?V8(s):r}return n.replace(e,t)}const mr=[];for(let n=0;n<256;n++)mr[n]=(n<16?"0":"")+n.toString(16);function AV(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(mr[n&255]+mr[n>>8&255]+mr[n>>16&255]+mr[n>>24&255]+"-"+mr[e&255]+mr[e>>8&255]+"-"+mr[e>>16&15|64]+mr[e>>24&255]+"-"+mr[t&63|128]+mr[t>>8&255]+"-"+mr[t>>16&255]+mr[t>>24&255]+mr[r&255]+mr[r>>8&255]+mr[r>>16&255]+mr[r>>24&255]).toUpperCase()}const dl=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},MV=Date.now(),i_=new WeakMap,s_=new Map;let CV=1e10;function W8(n,e){const t=RV(e);let r=i_.get(n);if(r||i_.set(n,r=Object.create(null)),r[t])return new r[t];const i=`_onBeforeCompile${t}`,s=function(c,u){n.onBeforeCompile.call(this,c,u);const d=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let p=s_[d];if(!p){const m=EV(this,c,e,t);p=s_[d]=m}c.vertexShader=p.vertexShader,c.fragmentShader=p.fragmentShader,dl(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-MV}}),this[i]&&this[i](c)},o=function(){return a(e.chained?n:n.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:n}),Object.defineProperty(u,"id",{value:CV++}),u.uuid=AV(),u.uniforms=dl({},c.uniforms,e.uniforms),u.defines=dl({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=dl({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(dl(this.extensions,c.extensions),dl(this.defines,c.defines),dl(this.uniforms,Y2.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=W8(n.isDerivedMaterial?n.getDepthMaterial():new q2({depthPacking:lg}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=W8(n.isDerivedMaterial?n.getDistanceMaterial():new $2,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),n.dispose.call(this)}}};return r[t]=o,new o}function EV(n,{vertexShader:e,fragmentShader:t},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:d,fragmentColorTransform:p,customRewriter:m,timeUniform:g}=r;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",d=d||"",(l||m)&&(e=V8(e)),(p||m)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=V8(t)),m){let v=m({vertexShader:e,fragmentShader:t});e=v.vertexShader,t=v.fragmentShader}if(p){let v=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(v.push(y),"")),d=`${p}
${v.join(`
`)}
${d}`}if(g){const v=`
uniform float ${g};
`;s=v+s,c=v+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(v,y,x,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,x))?y:`troika_${y}_${i}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=o_(e,i,s,o,a),t=o_(t,i,c,u,d),{vertexShader:e,fragmentShader:t}}function o_(n,e,t,r,i){return(r||i||t)&&(n=n.replace(EE,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function bV(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let TV=0;const a_=new Map;function RV(n){const e=JSON.stringify(n,bV);let t=a_.get(e);return t==null&&a_.set(e,t=++TV),t}function BV(n,e,t){const{defaultFontURL:r}=t,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c(_,S){function M(){const b=T=>{console.error(`Failure loading font ${_}${_===r?"":"; trying fallback"}`,T),_!==r&&(_=r,M())};try{const T=new XMLHttpRequest;T.open("get",_,!0),T.responseType="arraybuffer",T.onload=function(){if(T.status>=400)b(new Error(T.statusText));else if(T.status>0)try{const R=n(T.response);S(R)}catch(R){b(R)}},T.onerror=b,T.send()}catch(T){b(T)}}M()}function u(_,S){_||(_=r);let M=i[_];M?M.pending?M.pending.push(S):S(M):(i[_]={pending:[S]},c(_,b=>{let T=i[_].pending;i[_]=b,T.forEach(R=>R(b))}))}function d({text:_="",font:S=r,sdfGlyphSize:M=64,fontSize:b=1,letterSpacing:T=0,lineHeight:R="normal",maxWidth:C=s,direction:P,textAlign:L="left",textIndent:z=0,whiteSpace:G="normal",overflowWrap:V="normal",anchorX:H=0,anchorY:Y=0,includeCaretPositions:ee=!1,chunkedBoundsSize:ue=8192,colorRanges:k=null},W,J=!1){const D=v(),O={fontLoad:0,typesetting:0};_.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),_=_.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),b=+b,T=+T,C=+C,R=R||"normal",z=+z,u(S,ie=>{const $=isFinite(C);let te=null,Z=null,ne=null,he=null,Me=null,xe=null,Ce=null,q=0,de=0,Be=G!=="nowrap";const{ascender:we,descender:Se,unitsPerEm:We,lineGap:ye,capHeight:Fe,xHeight:Ue}=ie;O.fontLoad=v()-D;const Te=v(),U=b/We;R==="normal"&&(R=(we-Se+ye)/We),R=R*b;const I=(R-(we-Se)*U)/2,re=-(we*U+I),pe=Math.min(R,(we-Se)*U),Le=(we+Se)/2*U-pe/2;let ke=z,Oe=new y;const De=[Oe];ie.forEachGlyph(_,b,T,(He,je,Ve)=>{const Ne=_.charAt(Ve),Q=He.advanceWidth*U,Ae=Oe.count;let Je;if("isEmpty"in He||(He.isWhitespace=!!Ne&&new RegExp(a).test(Ne),He.canBreakAfter=!!Ne&&l.test(Ne),He.isEmpty=He.xMin===He.xMax||He.yMin===He.yMax||o.test(Ne)),!He.isWhitespace&&!He.isEmpty&&de++,Be&&$&&!He.isWhitespace&&je+Q+ke>C&&Ae){if(Oe.glyphAt(Ae-1).glyphObj.canBreakAfter)Je=new y,ke=-je;else for(let fe=Ae;fe--;)if(fe===0&&V==="break-word"){Je=new y,ke=-je;break}else if(Oe.glyphAt(fe).glyphObj.canBreakAfter){Je=Oe.splitAt(fe+1);const Pe=Je.glyphAt(0).x;ke-=Pe;for(let Ke=Je.count;Ke--;)Je.glyphAt(Ke).x-=Pe;break}Je&&(Oe.isSoftWrapped=!0,Oe=Je,De.push(Oe),q=C)}let K=Oe.glyphAt(Oe.count);K.glyphObj=He,K.x=je+ke,K.width=Q,K.charIndex=Ve,Ne===`
`&&(Oe=new y,De.push(Oe),ke=-(je+Q+T*b)+z)}),De.forEach(He=>{for(let je=He.count;je--;){let{glyphObj:Ve,x:Ne,width:Q}=He.glyphAt(je);if(!Ve.isWhitespace){He.width=Ne+Q,He.width>q&&(q=He.width);return}}});let ge=0,Ze=0;if(H&&(typeof H=="number"?ge=-H:typeof H=="string"&&(ge=-q*(H==="left"?0:H==="center"?.5:H==="right"?1:m(H)))),Y){if(typeof Y=="number")Ze=-Y;else if(typeof Y=="string"){let He=De.length*R;Ze=Y==="top"?0:Y==="top-baseline"?-re:Y==="top-cap"?-re-Fe*U:Y==="top-ex"?-re-Ue*U:Y==="middle"?He/2:Y==="bottom"?He:Y==="bottom-baseline"?He-I+Se*U:m(Y)*He}}if(!J){const He=e.getEmbeddingLevels(_,P);te=new Uint16Array(de),Z=new Float32Array(de*2),ne={},xe=[s,s,-s,-s],Ce=[];let je=re;ee&&(Me=new Float32Array(_.length*3)),k&&(he=new Uint8Array(de*3));let Ve=0,Ne=-1,Q=-1,Ae,Je;if(De.forEach((K,fe)=>{let{count:Pe,width:Ke}=K;if(Pe>0){let tt=0;for(let Et=Pe;Et--&&K.glyphAt(Et).glyphObj.isWhitespace;)tt++;let pt=0,mt=0;if(L==="center")pt=(q-Ke)/2;else if(L==="right")pt=q-Ke;else if(L==="justify"&&K.isSoftWrapped){let Et=0;for(let St=Pe-tt;St--;)K.glyphAt(St).glyphObj.isWhitespace&&Et++;mt=(q-Ke)/Et}if(mt||pt){let Et=0;for(let St=0;St<Pe;St++){let _r=K.glyphAt(St);const fr=_r.glyphObj;_r.x+=pt+Et,mt!==0&&fr.isWhitespace&&St<Pe-tt&&(Et+=mt,_r.width+=mt)}}const wt=e.getReorderSegments(_,He,K.glyphAt(0).charIndex,K.glyphAt(K.count-1).charIndex);for(let Et=0;Et<wt.length;Et++){const[St,_r]=wt[Et];let fr=1/0,jt=-1/0;for(let yn=0;yn<Pe;yn++)if(K.glyphAt(yn).charIndex>=St){let j=yn,ce=yn;for(;ce<Pe;ce++){let ve=K.glyphAt(ce);if(ve.charIndex>_r)break;ce<Pe-tt&&(fr=Math.min(fr,ve.x),jt=Math.max(jt,ve.x+ve.width))}for(let ve=j;ve<ce;ve++){const le=K.glyphAt(ve);le.x=jt-(le.x+le.width-fr)}break}}let Dt;const Pt=Et=>Dt=Et;for(let Et=0;Et<Pe;Et++){let St=K.glyphAt(Et);Dt=St.glyphObj;const _r=Dt.index,fr=He.levels[St.charIndex]&1;if(fr){const jt=e.getMirroredCharacter(_[St.charIndex]);jt&&ie.forEachGlyph(jt,0,0,Pt)}if(ee){const{charIndex:jt}=St,yn=St.x+ge,j=St.x+St.width+ge;Me[jt*3]=fr?j:yn,Me[jt*3+1]=fr?yn:j,Me[jt*3+2]=je+Le+Ze;const ce=jt-Ne;ce>1&&g(Me,Ne,ce),Ne=jt}if(k){const{charIndex:jt}=St;for(;jt>Q;)Q++,k.hasOwnProperty(Q)&&(Je=k[Q])}if(!Dt.isWhitespace&&!Dt.isEmpty){const jt=Ve++;ne[_r]||(ne[_r]={path:Dt.path,pathBounds:[Dt.xMin,Dt.yMin,Dt.xMax,Dt.yMax]});const yn=St.x+ge,j=je+Ze;Z[jt*2]=yn,Z[jt*2+1]=j;const ce=yn+Dt.xMin*U,ve=j+Dt.yMin*U,le=yn+Dt.xMax*U,be=j+Dt.yMax*U;ce<xe[0]&&(xe[0]=ce),ve<xe[1]&&(xe[1]=ve),le>xe[2]&&(xe[2]=le),be>xe[3]&&(xe[3]=be),jt%ue===0&&(Ae={start:jt,end:jt,rect:[s,s,-s,-s]},Ce.push(Ae)),Ae.end++;const rt=Ae.rect;if(ce<rt[0]&&(rt[0]=ce),ve<rt[1]&&(rt[1]=ve),le>rt[2]&&(rt[2]=le),be>rt[3]&&(rt[3]=be),te[jt]=_r,k){const ct=jt*3;he[ct]=Je>>16&255,he[ct+1]=Je>>8&255,he[ct+2]=Je&255}}}}je-=R}),Me){const K=_.length-Ne;K>1&&g(Me,Ne,K)}}O.typesetting=v()-Te,W({glyphIds:te,glyphPositions:Z,glyphData:ne,caretPositions:Me,caretHeight:pe,glyphColors:he,chunkedBounds:Ce,fontSize:b,unitsPerEm:We,ascender:we*U,descender:Se*U,capHeight:Fe*U,xHeight:Ue*U,lineHeight:R,topBaseline:re,blockBounds:[ge,Ze-De.length*R,ge+q,Ze],visibleBounds:xe,timings:O})})}function p(_,S){d(_,M=>{const[b,T,R,C]=M.blockBounds;S({width:R-b,height:C-T})},{metricsOnly:!0})}function m(_){let S=_.match(/^([\d.]+)%$/),M=S?parseFloat(S[1]):NaN;return isNaN(M)?0:M/100}function g(_,S,M){const b=_[S*3],T=_[S*3+1],R=_[S*3+2],C=(T-b)/M;for(let P=0;P<M;P++){const L=(S+P)*3;_[L]=b+C*P,_[L+1]=b+C*(P+1),_[L+2]=R}}function v(){return(self.performance||Date).now()}function y(){this.data=[]}const x=["glyphObj","x","width","charIndex"];return y.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/x.length)},glyphAt(_){let S=y.flyweight;return S.data=this.data,S.index=_,S},splitAt(_){let S=new y;return S.data=this.data.splice(_*x.length),S}},y.flyweight=x.reduce((_,S,M,b)=>(Object.defineProperty(_,S,{get(){return this.data[this.index*x.length+M]},set(T){this.data[this.index*x.length+M]=T}}),_),{data:null,index:0}),{typeset:d,measure:p,loadFont:u}}const zl=()=>(self.performance||Date).now(),u1=CE();let l_;function PV(n,e,t,r,i,s,o,a,l,c,u=!0){return u?IV(n,e,t,r,i,s,o,a,l,c).then(null,d=>(l_||(console.warn("WebGL SDF generation failed, falling back to JS",d),l_=!0),u_(n,e,t,r,i,s,o,a,l,c))):u_(n,e,t,r,i,s,o,a,l,c)}const Bp=[],LV=5;let j8=0;function bE(){const n=zl();for(;Bp.length&&zl()-n<LV;)Bp.shift()();j8=Bp.length?setTimeout(bE,0):0}const IV=(...n)=>new Promise((e,t)=>{Bp.push(()=>{const r=zl();try{u1.webgl.generateIntoCanvas(...n),e({timing:zl()-r})}catch(i){t(i)}}),j8||(j8=setTimeout(bE,0))}),DV=4,FV=2e3,c_={};let kV=0;function u_(n,e,t,r,i,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+kV++%DV;let d=c_[u];return d||(d=c_[u]={workerModule:Qh({name:u,workerId:u,dependencies:[CE,zl],init(p,m){const g=p().javascript.generate;return function(...v){const y=m();return{textureData:g(...v),timing:m()-y}}},getTransferables(p){return[p.textureData.buffer]}}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(n,e,t,r,i,s).then(({textureData:p,timing:m})=>{const g=zl(),v=new Uint8Array(p.length*4);for(let y=0;y<p.length;y++)v[y*4+c]=p[y];return u1.webglUtils.renderImageData(o,v,a,l,n,e,1<<3-c),m+=zl()-g,--d.requests===0&&(d.idleTimer=setTimeout(()=>{_V(u)},FV)),{timing:m}})}function OV(n){n._warm||(u1.webgl.isSupported(n),n._warm=!0)}const NV=u1.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function UV(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var d=s.readUint(o,a);a+=4,c.push(e._readFont(o,d))}return c}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:i,_offset:a},d={},p=0;p<l;p++){var m=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var g=o.readUint(i,s);s+=4;var v=o.readUint(i,s);s+=4,d[m]={offset:g,length:v}}for(p=0;p<c.length;p++){var y=c[p];d[y]&&(u[y.trim()]=e[y.trim()].parse(i,d[y].offset,d[y].length,u))}return u},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),c=o+12,u=0;u<l;u++){var d=a.readASCII(i,c,4);c+=4,a.readUint(i,c),c+=4;var p=a.readUint(i,c);if(c+=4,a.readUint(i,c),c+=4,d==s)return p}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var c=i[s++]<<8|i[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var c=e._bin,u={},d=s;c.readFixed(i,s),s+=4;var p=c.readUshort(i,s);s+=2;var m=c.readUshort(i,s);s+=2;var g=c.readUshort(i,s);return s+=2,u.scriptList=e._lctf.readScriptList(i,d+p),u.featureList=e._lctf.readFeatureList(i,d+m),u.lookupList=e._lctf.readLookupList(i,d+g,l),u},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var d=0;d<u;d++){var p=a.readUshort(i,s);s+=2;var m=e._lctf.readLookupTable(i,l+p,o);c.push(m)}return c},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(i,s),s+=2,c.flag=a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;for(var d=c.ltype,p=0;p<u;p++){var m=a.readUshort(i,s);s+=2;var g=o(i,d,l+m,c);c.tabs.push(g)}return c},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var c=o.readUshort(i,s);s+=2;var u=o.readUshort(i,s);s+=2;for(var d=0;d<u;d++)a.push(c+d),a.push(c+d),a.push(o.readUshort(i,s)),s+=2}if(l==2){var p=o.readUshort(i,s);for(s+=2,d=0;d<p;d++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2;var m=e._lctf.readFeatureTable(i,a+p);m.tag=d.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(i,s);s+=2,l.tab=[];for(var d=0;d<u;d++)l.tab.push(o.readUshort(i,s+2*d));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readScriptTable(i,a+p)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,a+c);var u=o.readUshort(i,s);s+=2;for(var d=0;d<u;d++){var p=o.readASCII(i,s,4);s+=4;var m=o.readUshort(i,s);s+=2,l[p.trim()]=e._lctf.readLangSysTable(i,a+m)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(i,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var d=[];s=e.CFF.readIndex(i,s,d);var p=[];for(u=0;u<d.length-1;u++)p.push(e.CFF.readDict(i,s+d[u],s+d[u+1]));s+=d[d.length-1];var m=p[0],g=[];s=e.CFF.readIndex(i,s,g);var v=[];for(u=0;u<g.length-1;u++)v.push(a.readASCII(i,s+g[u],g[u+1]-g[u]));if(s+=g[g.length-1],e.CFF.readSubrs(i,s,m),m.CharStrings){s=m.CharStrings,g=[],s=e.CFF.readIndex(i,s,g);var y=[];for(u=0;u<g.length-1;u++)y.push(a.readBytes(i,s+g[u],g[u+1]-g[u]));m.CharStrings=y}if(m.ROS){s=m.FDArray;var x=[];for(s=e.CFF.readIndex(i,s,x),m.FDArray=[],u=0;u<x.length-1;u++){var _=e.CFF.readDict(i,s+x[u],s+x[u+1]);e.CFF._readFDict(i,_,v),m.FDArray.push(_)}s+=x[x.length-1],s=m.FDSelect,m.FDSelect=[];var S=i[s];if(s++,S!=3)throw S;var M=a.readUshort(i,s);for(s+=2,u=0;u<M+1;u++)m.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(i,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(i,m.charset,m.CharStrings.length)),e.CFF._readFDict(i,m,v),m},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var d=0;d<l.length-1;d++)o.Subrs.push(a.readBytes(i,s+l[d],l[d+1]-l[d]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var u=0;u<c;u++)a.push(i[s+u]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var u=0;u<o;u++){var d=a.readUshort(i,s);s+=2,l.push(d)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){d=a.readUshort(i,s),s+=2;var p=0;for(c==1?(p=i[s],s++):(p=a.readUshort(i,s),s+=2),u=0;u<=p;u++)l.push(d),d++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(i[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(i,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(i,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var u=1,d=null,p=null;l<=20&&(d=l,u=1),l==12&&(d=100*l+c,u=2),21<=l&&l<=27&&(d=l,u=1),l==28&&(p=a.readShort(i,s+1),u=3),29<=l&&l<=31&&(d=l,u=1),32<=l&&l<=246&&(p=l-139,u=1),247<=l&&l<=250&&(p=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(p=256*-(l-251)-c-108,u=2),l==255&&(p=a.readInt(i,s+1)/65535,u=5),o.val=p??"o"+d,o.size=u},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var p=1,m=null,g=null;u<=20&&(m=u,p=1),u==12&&(m=100*u+d,p=2),u!=19&&u!=20||(m=u,p=2),21<=u&&u<=27&&(m=u,p=1),u==28&&(g=l.readShort(i,s+1),p=3),29<=u&&u<=31&&(m=u,p=1),32<=u&&u<=246&&(g=u-139,p=1),247<=u&&u<=250&&(g=256*(u-247)+d+108,p=2),251<=u&&u<=254&&(g=256*-(u-251)-d-108,p=2),u==255&&(g=l.readInt(i,s+1)/65535,p=5),c.push(g??"o"+m),s+=p}return c},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var p=1,m=null,g=null;if(u==28&&(g=a.readShort(i,s+1),p=3),u==29&&(g=a.readInt(i,s+1),p=5),32<=u&&u<=246&&(g=u-139,p=1),247<=u&&u<=250&&(g=256*(u-247)+d+108,p=2),251<=u&&u<=254&&(g=256*-(u-251)-d-108,p=2),u==255)throw g=a.readInt(i,s+1)/65535,p=5,"unknown number";if(u==30){var v=[];for(p=1;;){var y=i[s+p];p++;var x=y>>4,_=15&y;if(x!=15&&v.push(x),_!=15&&v.push(_),_==15)break}for(var S="",M=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],b=0;b<v.length;b++)S+=M[v[b]];g=parseFloat(S)}u<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],p=1,u==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][d],p=2)),m!=null?(l[m]=c.length==1?c[0]:c,c=[]):c.push(g),s+=p}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;var u=[];l.tables=[];for(var d=0;d<c;d++){var p=a.readUshort(i,s);s+=2;var m=a.readUshort(i,s);s+=2;var g=a.readUint(i,s);s+=4;var v="p"+p+"e"+m,y=u.indexOf(g);if(y==-1){var x;y=l.tables.length,u.push(g);var _=a.readUshort(i,g);_==0?x=e.cmap.parse0(i,g):_==4?x=e.cmap.parse4(i,g):_==6?x=e.cmap.parse6(i,g):_==12?x=e.cmap.parse12(i,g):console.debug("unknown format: "+_,p,m,g),l.tables.push(x)}if(l[v]!=null)throw"multiple tables for one platform+encoding";l[v]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(i[s+c]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2;var d=u/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,d),s+=2*d,s+=2,l.startCount=o.readUshorts(i,s,d),s+=2*d,l.idDelta=[];for(var p=0;p<d;p++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,d),s+=2*d,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,d=o.readUint(i,u+0),p=o.readUint(i,u+4),m=o.readUint(i,u+8);a.groups.push([d,p,m])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var d=o.readUshort(a,l);if(l+=2,a.length-l<d)return null;c.instructions=o.readBytes(a,l,d),l+=d;var p=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<p;u++){var m=a[l];if(l++,c.flags.push(m),(8&m)!=0){var g=a[l];l++;for(var v=0;v<g;v++)c.flags.push(m),u++}}for(c.xs=[],u=0;u<p;u++){var y=(2&c.flags[u])!=0,x=(16&c.flags[u])!=0;y?(c.xs.push(x?a[l]:-a[l]),l++):x?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<p;u++)y=(4&c.flags[u])!=0,x=(32&c.flags[u])!=0,y?(c.ys.push(x?a[l]:-a[l]),l++):x?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var _=0,S=0;for(u=0;u<p;u++)_+=c.xs[u],S+=c.ys[u],c.xs[u]=_,c.ys[u]=S}else{var M;c.parts=[];do{M=o.readUshort(a,l),l+=2;var b={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(b),b.glyphIndex=o.readUshort(a,l),l+=2,1&M){var T=o.readShort(a,l);l+=2;var R=o.readShort(a,l);l+=2}else T=o.readInt8(a,l),l++,R=o.readInt8(a,l),l++;2&M?(b.m.tx=T,b.m.ty=R):(b.p1=T,b.p2=R),8&M?(b.m.a=b.m.d=o.readF2dot14(a,l),l+=2):64&M?(b.m.a=o.readF2dot14(a,l),l+=2,b.m.d=o.readF2dot14(a,l),l+=2):128&M&&(b.m.a=o.readF2dot14(a,l),l+=2,b.m.b=o.readF2dot14(a,l),l+=2,b.m.c=o.readF2dot14(a,l),l+=2,b.m.d=o.readF2dot14(a,l),l+=2)}while(32&M);if(256&M){var C=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<C;u++)c.instr.push(a[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var d=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,d+c)}if(s==1&&u.fmt==1){var p=l.readUshort(i,o);o+=2;var m=e._lctf.numOfOnes(p);p!=0&&(u.pos=e.GPOS.readValueRecord(i,o,p))}else if(s==2&&u.fmt>=1&&u.fmt<=2){p=l.readUshort(i,o),o+=2;var g=l.readUshort(i,o);o+=2,m=e._lctf.numOfOnes(p);var v=e._lctf.numOfOnes(g);if(u.fmt==1){u.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var x=0;x<y;x++){var _=c+l.readUshort(i,o);o+=2;var S=l.readUshort(i,_);_+=2;for(var M=[],b=0;b<S;b++){var T=l.readUshort(i,_);_+=2,p!=0&&(G=e.GPOS.readValueRecord(i,_,p),_+=2*m),g!=0&&(V=e.GPOS.readValueRecord(i,_,g),_+=2*v),M.push({gid2:T,val1:G,val2:V})}u.pairsets.push(M)}}if(u.fmt==2){var R=l.readUshort(i,o);o+=2;var C=l.readUshort(i,o);o+=2;var P=l.readUshort(i,o);o+=2;var L=l.readUshort(i,o);for(o+=2,u.classDef1=e._lctf.readClassDef(i,c+R),u.classDef2=e._lctf.readClassDef(i,c+C),u.matrix=[],x=0;x<P;x++){var z=[];for(b=0;b<L;b++){var G=null,V=null;p!=0&&(G=e.GPOS.readValueRecord(i,o,p),o+=2*m),g!=0&&(V=e.GPOS.readValueRecord(i,o,g),o+=2*v),z.push({val1:G,val2:V})}u.matrix.push(z)}}}else{if(s==9&&u.fmt==1){var H=l.readUshort(i,o);o+=2;var Y=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=H;else if(a.ltype!=H)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,c+Y)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var d=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,c+d)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,o),o+=2;else if(u.fmt==2){var p=l.readUshort(i,o);o+=2,u.newg=l.readUshorts(i,o,p),o+=2*u.newg.length}}else if(s==4){u.vals=[],p=l.readUshort(i,o),o+=2;for(var m=0;m<p;m++){var g=l.readUshort(i,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+g))}}else if(s==5&&u.fmt==2){if(u.fmt==2){var v=l.readUshort(i,o);o+=2,u.cDef=e._lctf.readClassDef(i,c+v),u.scset=[];var y=l.readUshort(i,o);for(o+=2,m=0;m<y;m++){var x=l.readUshort(i,o);o+=2,u.scset.push(x==0?null:e.GSUB.readSubClassSet(i,c+x))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(m=0;m<3;m++){p=l.readUshort(i,o),o+=2;for(var _=[],S=0;S<p;S++)_.push(e._lctf.readCoverage(i,c+l.readUshort(i,o+2*S)));o+=2*p,m==0&&(u.backCvg=_),m==1&&(u.inptCvg=_),m==2&&(u.ahedCvg=_)}p=l.readUshort(i,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,o,p)}}else{if(s==7&&u.fmt==1){var M=l.readUshort(i,o);o+=2;var b=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=M;else if(a.ltype!=M)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,c+b)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],c=o(i,s);s+=2;for(var u=0;u<c;u++){var d=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+d))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),c=o(i,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+d))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(i,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(i,s,u),s+=2*a[l[c]].length}return u=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+d))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,d=0,p=0;p<a.maxp.numGlyphs;p++)p<a.hhea.numberOfHMetrics&&(u=l.readUshort(i,s),s+=2,d=l.readShort(i,s),s+=2),c.aWidth.push(u),c.lsBearing.push(d);return c},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,o,a);var u=l.readUshort(i,s);s+=2;for(var d={glyph1:[],rval:[]},p=0;p<u;p++){s+=2,o=l.readUshort(i,s),s+=2;var m=l.readUshort(i,s);s+=2;var g=m>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;s=e.kern.readFormat0(i,s,d)}return d},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var u={glyph1:[],rval:[]},d=0;d<c;d++){l.readUint(i,s),s+=4;var p=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var m=p>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,u)}return u},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var u=0;u<c;u++){var d=a.readUshort(i,s);s+=2;var p=a.readUshort(i,s);s+=2;var m=a.readShort(i,s);s+=2,d!=l&&(o.glyph1.push(d),o.rval.push({glyph2:[],vals:[]}));var g=o.rval[o.rval.length-1];g.glyph2.push(p),g.vals.push(m),l=d}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,d=a.maxp.numGlyphs+1;if(u==0)for(var p=0;p<d;p++)c.push(l.readUshort(i,s+(p<<1))<<1);if(u==1)for(p=0;p<d;p++)c.push(l.readUint(i,s+(p<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},c=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var u,d=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],p=s+=2,m=0;m<c;m++){var g=a.readUshort(i,s);s+=2;var v=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var S=a.readUshort(i,s);s+=2;var M,b=d[x],T=p+12*c+S;if(g==0)M=a.readUnicode(i,T,_/2);else if(g==3&&v==0)M=a.readUnicode(i,T,_/2);else if(v==0)M=a.readASCII(i,T,_);else if(v==1)M=a.readUnicode(i,T,_/2);else if(v==3)M=a.readUnicode(i,T,_/2);else{if(g!=1)throw"unknown encoding "+v+", platformID: "+g;M=a.readASCII(i,T,_),console.debug("reading unknown MAC encoding "+v+" as ASCII")}var R="p"+g+","+y.toString(16);l[R]==null&&(l[R]={}),l[R][b!==void 0?b:x]=M,l[R]._lang=y}for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==1033)return l[C];for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==0)return l[C];for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==3084)return l[C];for(var C in l)if(l[C].postScriptName!=null)return l[C];for(var C in l){u=C;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var d=l.groups[u];if(d[0]<=s&&s<=d[1])return d[2]+(s-d[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var d=0;c.FDSelect[d+2]<=s;)d+=2;u=c.FDArray[c.FDSelect[d+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,u,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,d=c==l?a:c+1,p=1&i.flags[c],m=1&i.flags[u],g=1&i.flags[d],v=i.xs[c],y=i.ys[c];if(c==a)if(p){if(!m){e.U.P.moveTo(s,v,y);continue}e.U.P.moveTo(s,i.xs[u],i.ys[u])}else m?e.U.P.moveTo(s,i.xs[u],i.ys[u]):e.U.P.moveTo(s,(i.xs[u]+v)/2,(i.ys[u]+y)/2);p?m&&e.U.P.lineTo(s,v,y):g?e.U.P.qcurveTo(s,v,y,i.xs[d],i.ys[d]):e.U.P.qcurveTo(s,v,y,(v+i.xs[d])/2,(y+i.ys[d])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},c=i.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,d=0;d<l.crds.length;d+=2){var p=l.crds[d],m=l.crds[d+1];o.crds.push(p*u.a+m*u.b+u.tx),o.crds.push(p*u.c+m*u.d+u.ty)}for(d=0;d<l.cmds.length;d++)o.cmds.push(l.cmds[d])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var a=!1;if(i.GPOS)for(var l=i.GPOS,c=l.lookupList,u=l.featureList,d=[],p=0;p<u.length;p++){var m=u[p];if(m.tag=="kern"){a=!0;for(var g=0;g<m.tab.length;g++)if(!d[m.tab[g]]){d[m.tab[g]]=!0;for(var v=c[m.tab[g]],y=0;y<v.tabs.length;y++)if(v.tabs[y]!=null){var x,_=v.tabs[y];if((!_.coverage||(x=e._lctf.coverageIndex(_.coverage,s))!=-1)&&v.ltype!=1){if(v.ltype==2){var S=null;if(_.fmt==1){var M=_.pairsets[x];for(p=0;p<M.length;p++)M[p].gid2==o&&(S=M[p])}else if(_.fmt==2){var b=e.U._getGlyphClass(s,_.classDef1),T=e.U._getGlyphClass(o,_.classDef2);S=_.matrix[b][T]}if(S){var R=0;return S.val1&&S.val1[2]&&(R+=S.val1[2]),S.val2&&S.val2[0]&&(R+=S.val2[0]),R}}}}}}}if(i.kern&&!a){var C=i.kern.glyph1.indexOf(s);if(C!=-1){var P=i.kern.rval[C].glyph2.indexOf(o);if(P!=-1)return i.kern.rval[C].vals[P]}}return 0},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,d=o.tabs[c];if(!d.coverage||(u=e._lctf.coverageIndex(d.coverage,i[s]))!=-1){if(o.ltype==1)i[s],d.fmt==1?i[s]=i[s]+d.delta:i[s]=d.newg[u];else if(o.ltype==4)for(var p=d.vals[u],m=0;m<p.length;m++){var g=p[m],v=g.chain.length;if(!(v>l)){for(var y=!0,x=0,_=0;_<v;_++){for(;i[s+x+(1+_)]==-1;)x++;g.chain[_]!=i[s+x+(1+_)]&&(y=!1)}if(y){for(i[s]=g.nglyph,_=0;_<v+x;_++)i[s+_+1]=-1;break}}}else if(o.ltype==5&&d.fmt==2)for(var S=e._lctf.getInterval(d.cDef,i[s]),M=d.cDef[S+2],b=d.scset[M],T=0;T<b.length;T++){var R=b[T],C=R.input;if(!(C.length>l)){for(y=!0,_=0;_<C.length;_++){var P=e._lctf.getInterval(d.cDef,i[s+1+_]);if(S==-1&&d.cDef[P+2]!=C[_]){y=!1;break}}if(y){var L=R.substLookupRecords;for(m=0;m<L.length;m+=2)L[m],L[m+1]}}}else if(o.ltype==6&&d.fmt==3){if(!e.U._glsCovered(i,d.backCvg,s-d.backCvg.length)||!e.U._glsCovered(i,d.inptCvg,s)||!e.U._glsCovered(i,d.ahedCvg,s+d.inptCvg.length))continue;var z=d.lookupRec;for(T=0;T<z.length;T+=2){S=z[T];var G=a[z[T+1]];e.U._applySubs(i,s+S,G,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var d=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,p=e.U.glyphToPath(i,u),m=0;m<p.crds.length;m+=2)a.crds.push(p.crds[m]+l),a.crds.push(p.crds[m+1]);for(o&&a.cmds.push(o),m=0;m<p.cmds.length;m++)a.cmds.push(p.cmds[m]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(i,u,d))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,c,u){i.cmds.push("C"),i.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var c=s.stack,u=s.nStems,d=s.haveWidth,p=s.width,m=s.open,g=0,v=s.x,y=s.y,x=0,_=0,S=0,M=0,b=0,T=0,R=0,C=0,P=0,L=0,z={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,z);var G=z.val;if(g+=z.size,G=="o1"||G=="o18")c.length%2!=0&&!d&&(p=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,d=!0;else if(G=="o3"||G=="o23")c.length%2!=0&&!d&&(p=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,d=!0;else if(G=="o4")c.length>1&&!d&&(p=c.shift()+a.nominalWidthX,d=!0),m&&e.U.P.closePath(l),y+=c.pop(),e.U.P.moveTo(l,v,y),m=!0;else if(G=="o5")for(;c.length>0;)v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y);else if(G=="o6"||G=="o7")for(var V=c.length,H=G=="o6",Y=0;Y<V;Y++){var ee=c.shift();H?v+=ee:y+=ee,H=!H,e.U.P.lineTo(l,v,y)}else if(G=="o8"||G=="o24"){V=c.length;for(var ue=0;ue+6<=V;)x=v+c.shift(),_=y+c.shift(),S=x+c.shift(),M=_+c.shift(),v=S+c.shift(),y=M+c.shift(),e.U.P.curveTo(l,x,_,S,M,v,y),ue+=6;G=="o24"&&(v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y))}else{if(G=="o11")break;if(G=="o1234"||G=="o1235"||G=="o1236"||G=="o1237")G=="o1234"&&(_=y,S=(x=v+c.shift())+c.shift(),L=M=_+c.shift(),T=M,C=y,v=(R=(b=(P=S+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,x,_,S,M,P,L),e.U.P.curveTo(l,b,T,R,C,v,y)),G=="o1235"&&(x=v+c.shift(),_=y+c.shift(),S=x+c.shift(),M=_+c.shift(),P=S+c.shift(),L=M+c.shift(),b=P+c.shift(),T=L+c.shift(),R=b+c.shift(),C=T+c.shift(),v=R+c.shift(),y=C+c.shift(),c.shift(),e.U.P.curveTo(l,x,_,S,M,P,L),e.U.P.curveTo(l,b,T,R,C,v,y)),G=="o1236"&&(x=v+c.shift(),_=y+c.shift(),S=x+c.shift(),L=M=_+c.shift(),T=M,R=(b=(P=S+c.shift())+c.shift())+c.shift(),C=T+c.shift(),v=R+c.shift(),e.U.P.curveTo(l,x,_,S,M,P,L),e.U.P.curveTo(l,b,T,R,C,v,y)),G=="o1237"&&(x=v+c.shift(),_=y+c.shift(),S=x+c.shift(),M=_+c.shift(),P=S+c.shift(),L=M+c.shift(),b=P+c.shift(),T=L+c.shift(),R=b+c.shift(),C=T+c.shift(),Math.abs(R-v)>Math.abs(C-y)?v=R+c.shift():y=C+c.shift(),e.U.P.curveTo(l,x,_,S,M,P,L),e.U.P.curveTo(l,b,T,R,C,v,y));else if(G=="o14"){if(c.length>0&&!d&&(p=c.shift()+o.nominalWidthX,d=!0),c.length==4){var k=c.shift(),W=c.shift(),J=c.shift(),D=c.shift(),O=e.CFF.glyphBySE(o,J),ie=e.CFF.glyphBySE(o,D);e.U._drawCFF(o.CharStrings[O],s,o,a,l),s.x=k,s.y=W,e.U._drawCFF(o.CharStrings[ie],s,o,a,l)}m&&(e.U.P.closePath(l),m=!1)}else if(G=="o19"||G=="o20")c.length%2!=0&&!d&&(p=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,d=!0,g+=u+7>>3;else if(G=="o21")c.length>2&&!d&&(p=c.shift()+a.nominalWidthX,d=!0),y+=c.pop(),v+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),m=!0;else if(G=="o22")c.length>1&&!d&&(p=c.shift()+a.nominalWidthX,d=!0),v+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),m=!0;else if(G=="o25"){for(;c.length>6;)v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y);x=v+c.shift(),_=y+c.shift(),S=x+c.shift(),M=_+c.shift(),v=S+c.shift(),y=M+c.shift(),e.U.P.curveTo(l,x,_,S,M,v,y)}else if(G=="o26")for(c.length%2&&(v+=c.shift());c.length>0;)x=v,_=y+c.shift(),v=S=x+c.shift(),y=(M=_+c.shift())+c.shift(),e.U.P.curveTo(l,x,_,S,M,v,y);else if(G=="o27")for(c.length%2&&(y+=c.shift());c.length>0;)_=y,S=(x=v+c.shift())+c.shift(),M=_+c.shift(),v=S+c.shift(),y=M,e.U.P.curveTo(l,x,_,S,M,v,y);else if(G=="o10"||G=="o29"){var $=G=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var te=c.pop(),Z=$.Subrs[te+$.Bias];s.x=v,s.y=y,s.nStems=u,s.haveWidth=d,s.width=p,s.open=m,e.U._drawCFF(Z,s,o,a,l),v=s.x,y=s.y,u=s.nStems,d=s.haveWidth,p=s.width,m=s.open}}else if(G=="o30"||G=="o31"){var ne=c.length,he=(ue=0,G=="o31");for(ue+=ne-(V=-3&ne);ue<V;)he?(_=y,S=(x=v+c.shift())+c.shift(),y=(M=_+c.shift())+c.shift(),V-ue==5?(v=S+c.shift(),ue++):v=S,he=!1):(x=v,_=y+c.shift(),S=x+c.shift(),M=_+c.shift(),v=S+c.shift(),V-ue==5?(y=M+c.shift(),ue++):y=M,he=!0),e.U.P.curveTo(l,x,_,S,M,v,y),ue+=4}else{if((G+"").charAt(0)=="o")throw console.debug("Unknown operation: "+G,i),G;c.push(G)}}}s.x=v,s.y=y,s.nStems=u,s.haveWidth=d,s.width=p,s.open=m};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function zV(){return function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(G,V){for(var H=new t(31),Y=0;Y<31;++Y)H[Y]=V+=1<<G[Y-1];var ee=new r(H[30]);for(Y=1;Y<30;++Y)for(var ue=H[Y];ue<H[Y+1];++ue)ee[ue]=ue-H[Y]<<5|Y;return[H,ee]},l=a(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var d=a(s,0)[0],p=new t(32768),m=0;m<32768;++m){var g=(43690&m)>>>1|(21845&m)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,p[m]=((65280&g)>>>8|(255&g)<<8)>>>1}var v=function(G,V,H){for(var Y=G.length,ee=0,ue=new t(V);ee<Y;++ee)++ue[G[ee]-1];var k,W=new t(V);for(ee=0;ee<V;++ee)W[ee]=W[ee-1]+ue[ee-1]<<1;if(H){k=new t(1<<V);var J=15-V;for(ee=0;ee<Y;++ee)if(G[ee])for(var D=ee<<4|G[ee],O=V-G[ee],ie=W[G[ee]-1]++<<O,$=ie|(1<<O)-1;ie<=$;++ie)k[p[ie]>>>J]=D}else for(k=new t(Y),ee=0;ee<Y;++ee)G[ee]&&(k[ee]=p[W[G[ee]-1]++]>>>15-G[ee]);return k},y=new e(288);for(m=0;m<144;++m)y[m]=8;for(m=144;m<256;++m)y[m]=9;for(m=256;m<280;++m)y[m]=7;for(m=280;m<288;++m)y[m]=8;var x=new e(32);for(m=0;m<32;++m)x[m]=5;var _=v(y,9,1),S=v(x,5,1),M=function(G){for(var V=G[0],H=1;H<G.length;++H)G[H]>V&&(V=G[H]);return V},b=function(G,V,H){var Y=V/8|0;return(G[Y]|G[Y+1]<<8)>>(7&V)&H},T=function(G,V){var H=V/8|0;return(G[H]|G[H+1]<<8|G[H+2]<<16)>>(7&V)},R=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],C=function(G,V,H){var Y=new Error(V||R[G]);if(Y.code=G,Error.captureStackTrace&&Error.captureStackTrace(Y,C),!H)throw Y;return Y},P=function(G,V,H){var Y=G.length;if(!Y||H&&!H.l&&Y<5)return V||new e(0);var ee=!V||H,ue=!H||H.i;H||(H={}),V||(V=new e(3*Y));var k,W=function(Ne){var Q=V.length;if(Ne>Q){var Ae=new e(Math.max(2*Q,Ne));Ae.set(V),V=Ae}},J=H.f||0,D=H.p||0,O=H.b||0,ie=H.l,$=H.d,te=H.m,Z=H.n,ne=8*Y;do{if(!ie){H.f=J=b(G,D,1);var he=b(G,D+1,3);if(D+=3,!he){var Me=G[(Ue=((k=D)/8|0)+(7&k&&1)+4)-4]|G[Ue-3]<<8,xe=Ue+Me;if(xe>Y){ue&&C(0);break}ee&&W(O+Me),V.set(G.subarray(Ue,xe),O),H.b=O+=Me,H.p=D=8*xe;continue}if(he==1)ie=_,$=S,te=9,Z=5;else if(he==2){var Ce=b(G,D,31)+257,q=b(G,D+10,15)+4,de=Ce+b(G,D+5,31)+1;D+=14;for(var Be=new e(de),we=new e(19),Se=0;Se<q;++Se)we[o[Se]]=b(G,D+3*Se,7);D+=3*q;var We=M(we),ye=(1<<We)-1,Fe=v(we,We,1);for(Se=0;Se<de;){var Ue,Te=Fe[b(G,D,ye)];if(D+=15&Te,(Ue=Te>>>4)<16)Be[Se++]=Ue;else{var U=0,I=0;for(Ue==16?(I=3+b(G,D,3),D+=2,U=Be[Se-1]):Ue==17?(I=3+b(G,D,7),D+=3):Ue==18&&(I=11+b(G,D,127),D+=7);I--;)Be[Se++]=U}}var re=Be.subarray(0,Ce),pe=Be.subarray(Ce);te=M(re),Z=M(pe),ie=v(re,te,1),$=v(pe,Z,1)}else C(1);if(D>ne){ue&&C(0);break}}ee&&W(O+131072);for(var Le=(1<<te)-1,ke=(1<<Z)-1,Oe=D;;Oe=D){var De=(U=ie[T(G,D)&Le])>>>4;if((D+=15&U)>ne){ue&&C(0);break}if(U||C(2),De<256)V[O++]=De;else{if(De==256){Oe=D,ie=null;break}var ge=De-254;if(De>264){var Ze=i[Se=De-257];ge=b(G,D,(1<<Ze)-1)+c[Se],D+=Ze}var He=$[T(G,D)&ke],je=He>>>4;if(He||C(3),D+=15&He,pe=d[je],je>3&&(Ze=s[je],pe+=T(G,D)&(1<<Ze)-1,D+=Ze),D>ne){ue&&C(0);break}ee&&W(O+131072);for(var Ve=O+ge;O<Ve;O+=4)V[O]=V[O-pe],V[O+1]=V[O+1-pe],V[O+2]=V[O+2-pe],V[O+3]=V[O+3-pe];O=Ve}}H.l=ie,H.p=Oe,H.b=O,ie&&(J=1,H.m=te,H.d=$,H.n=Z)}while(!J);return O==V.length?V:function(Ne,Q,Ae){(Q==null||Q<0)&&(Q=0),(Ae==null||Ae>Ne.length)&&(Ae=Ne.length);var Je=new(Ne instanceof t?t:Ne instanceof r?r:e)(Ae-Q);return Je.set(Ne.subarray(Q,Ae)),Je}(V,0,O)},L=new e(0),z=typeof TextDecoder<"u"&&new TextDecoder;try{z.decode(L,{stream:!0})}catch{}return n.convert_streams=function(G){var V=new DataView(G),H=0;function Y(){var Ce=V.getUint16(H);return H+=2,Ce}function ee(){var Ce=V.getUint32(H);return H+=4,Ce}function ue(Ce){Me.setUint16(xe,Ce),xe+=2}function k(Ce){Me.setUint32(xe,Ce),xe+=4}for(var W={signature:ee(),flavor:ee(),length:ee(),numTables:Y(),reserved:Y(),totalSfntSize:ee(),majorVersion:Y(),minorVersion:Y(),metaOffset:ee(),metaLength:ee(),metaOrigLength:ee(),privOffset:ee(),privLength:ee()},J=0;Math.pow(2,J)<=W.numTables;)J++;J--;for(var D=16*Math.pow(2,J),O=16*W.numTables-D,ie=12,$=[],te=0;te<W.numTables;te++)$.push({tag:ee(),offset:ee(),compLength:ee(),origLength:ee(),origChecksum:ee()}),ie+=16;var Z,ne=new Uint8Array(12+16*$.length+$.reduce(function(Ce,q){return Ce+q.origLength+4},0)),he=ne.buffer,Me=new DataView(he),xe=0;return k(W.flavor),ue(W.numTables),ue(D),ue(J),ue(O),$.forEach(function(Ce){k(Ce.tag),k(Ce.origChecksum),k(ie),k(Ce.origLength),Ce.outOffset=ie,(ie+=Ce.origLength)%4!=0&&(ie+=4-ie%4)}),$.forEach(function(Ce){var q,de=G.slice(Ce.offset,Ce.offset+Ce.compLength);if(Ce.compLength!=Ce.origLength){var Be=new Uint8Array(Ce.origLength);q=new Uint8Array(de,2),P(q,Be)}else Be=new Uint8Array(de);ne.set(Be,Ce.outOffset);var we=0;(ie=Ce.outOffset+Ce.origLength)%4!=0&&(we=4-ie%4),ne.set(new Uint8Array(we).buffer,Ce.outOffset+Ce.origLength),Z=ie+we}),he.slice(0,Z)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function GV(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,c=32;let u;function d(b){if(!u){const T={R:s,L:i,D:o,C:l,U:c,T:a};u=new Map;for(let R in r){let C=0;r[R].split(",").forEach(P=>{let[L,z]=P.split("+");L=parseInt(L,36),z=z?parseInt(z,36):0,u.set(C+=L,T[R]);for(let G=z;G--;)u.set(++C,T[R])})}}return u.get(b)||c}const p=1,m=2,g=3,v=4,y=[null,"isol","init","fina","medi"];function x(b){const T=new Uint8Array(b.length);let R=c,C=p,P=-1;for(let L=0;L<b.length;L++){const z=b.codePointAt(L);let G=d(z)|0,V=p;G&a||(R&(i|o|l)?G&(s|o|l)?(V=g,(C===p||C===g)&&T[P]++):G&(i|c)&&(C===m||C===v)&&T[P]--:R&(s|c)&&(C===m||C===v)&&T[P]--,C=T[L]=V,R=G,P=L,z>65535&&L++)}return T}function _(b,T){const R=[];for(let P=0;P<T.length;P++){const L=T.codePointAt(P);L>65535&&P++,R.push(n.U.codeToGlyph(b,L))}const C=b.GSUB;if(C){const{lookupList:P,featureList:L}=C;let z;const G=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,V=[];L.forEach(H=>{if(G.test(H.tag))for(let Y=0;Y<H.tab.length;Y++){if(V[H.tab[Y]])continue;V[H.tab[Y]]=!0;const ee=P[H.tab[Y]],ue=/^(isol|init|fina|medi)$/.test(H.tag);ue&&!z&&(z=x(T));for(let k=0;k<R.length;k++)(!z||!ue||y[z[k]]===H.tag)&&n.U._applySubs(R,k,ee,P)}})}return R}function S(...b){for(let T=0;T<b.length;T++)if(typeof b[T]=="number")return b[T]}function M(b){const T=Object.create(null),R=b["OS/2"],C=b.hhea,P=b.head.unitsPerEm,L=S(R&&R.sTypoAscender,C&&C.ascender,P),z={unitsPerEm:P,ascender:L,descender:S(R&&R.sTypoDescender,C&&C.descender,0),capHeight:S(R&&R.sCapHeight,L),xHeight:S(R&&R.sxHeight,L),lineGap:S(R&&R.sTypoLineGap,C&&C.lineGap),forEachGlyph(G,V,H,Y){let ee=0;const ue=1/z.unitsPerEm*V,k=_(b,G);let W=0,J=-1;return k.forEach((D,O)=>{if(D!==-1){let ie=T[D];if(!ie){const{cmds:$,crds:te}=n.U.glyphToPath(b,D);let Z="",ne=0;for(let q=0,de=$.length;q<de;q++){const Be=t[$[q]];Z+=$[q];for(let we=1;we<=Be;we++)Z+=(we>1?",":"")+te[ne++]}let he,Me,xe,Ce;if(te.length){he=Me=1/0,xe=Ce=-1/0;for(let q=0,de=te.length;q<de;q+=2){let Be=te[q],we=te[q+1];Be<he&&(he=Be),we<Me&&(Me=we),Be>xe&&(xe=Be),we>Ce&&(Ce=we)}}else he=xe=Me=Ce=0;ie=T[D]={index:D,advanceWidth:b.hmtx.aWidth[D],xMin:he,yMin:Me,xMax:xe,yMax:Ce,path:Z,pathCommandCount:$.length}}J!==-1&&(ee+=n.U.getPairAdjustment(b,J,D)*ue),Y.call(null,ie,ee,W),ie.advanceWidth&&(ee+=ie.advanceWidth*ue),H&&(ee+=H*V),J=D}W+=G.codePointAt(W)>65535?2:1}),ee}};return z}return function(T){const R=new Uint8Array(T,0,4),C=n._bin.readASCII(R,0,4);if(C==="wOFF")T=e(T);else if(C==="wOF2")throw new Error("woff2 fonts not supported");return M(n.parse(T)[0])}}const HV=Qh({name:"Typr Font Parser",dependencies:[UV,zV,GV],init(n,e,t){const r=n(),i=e();return t(r,i)}}),vu={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},VV=new qe;function Kc(){return(self.performance||Date).now()}const f_=Object.create(null);function TE(n,e){n=JV({},n);const t=Kc();if(n.font=XV(n.font||vu.defaultFontURL),n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||vu.sdfGlyphSize,n.colorRanges!=null){let d={};for(let p in n.colorRanges)if(n.colorRanges.hasOwnProperty(p)){let m=n.colorRanges[p];typeof m!="number"&&(m=VV.set(m).getHex()),d[p]=m}n.colorRanges=d}Object.freeze(n);const{textureWidth:r,sdfExponent:i}=vu,{sdfGlyphSize:s}=n,o=r/s*4;let a=f_[s];if(!a){const d=document.createElement("canvas");d.width=r,d.height=s*256/o,a=f_[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:d,sdfTexture:new on(d,void 0,void 0,void 0,fn,fn),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,WV(a)}const{sdfTexture:l,sdfCanvas:c}=a;let u=a.glyphsByFont.get(n.font);u||a.glyphsByFont.set(n.font,u=new Map),YV(n).then(d=>{const{glyphIds:p,glyphPositions:m,fontSize:g,unitsPerEm:v,timings:y}=d,x=[],_=new Float32Array(p.length*4),S=g/v;let M=0,b=0;const T=Kc();p.forEach((z,G)=>{let V=u.get(z);if(!V){const{path:ue,pathBounds:k}=d.glyphData[z],W=Math.max(k[2]-k[0],k[3]-k[1])/s*(vu.sdfMargin*s+.5),J=a.glyphCount++,D=[k[0]-W,k[1]-W,k[2]+W,k[3]+W];u.set(z,V={path:ue,atlasIndex:J,sdfViewBox:D}),x.push(V)}const{sdfViewBox:H}=V,Y=m[b++],ee=m[b++];_[M++]=Y+H[0]*S,_[M++]=ee+H[1]*S,_[M++]=Y+H[2]*S,_[M++]=ee+H[3]*S,p[G]=V.atlasIndex}),y.quads=(y.quads||0)+(Kc()-T);const R=Kc();y.sdf={};const C=c.height,P=Math.ceil(a.glyphCount/o),L=Math.pow(2,Math.ceil(Math.log2(P*s)));L>C&&(console.info(`Increasing SDF texture size ${C}->${L}`),NV(c,r,L),l.dispose()),Promise.all(x.map(z=>RE(z,a,n.gpuAccelerateSDF).then(({timing:G})=>{y.sdf[z.atlasIndex]=G}))).then(()=>{x.length&&!a.contextLost&&(BE(a),l.needsUpdate=!0),y.sdfTotal=Kc()-R,y.total=Kc()-t,e(Object.freeze({parameters:n,sdfTexture:l,sdfGlyphSize:s,sdfExponent:i,glyphBounds:_,glyphAtlasIndices:p,glyphColors:d.glyphColors,caretPositions:d.caretPositions,caretHeight:d.caretHeight,chunkedBounds:d.chunkedBounds,ascender:d.ascender,descender:d.descender,lineHeight:d.lineHeight,capHeight:d.capHeight,xHeight:d.xHeight,topBaseline:d.topBaseline,blockBounds:d.blockBounds,visibleBounds:d.visibleBounds,timings:d.timings}))})}),Promise.resolve().then(()=>{a.contextLost||OV(c)})}function RE({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=vu,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4),d=u%(a/r)*r,p=Math.floor(u/(a/r))*r,m=e%4;return PV(r,r,n,t,c,l,i,d,p,m,o)}function WV(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const r=[];n.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(RE(s,n,!0))})}),Promise.all(r).then(()=>{BE(n),n.sdfTexture.needsUpdate=!0})})}function jV({font:n,characters:e,sdfGlyphSize:t},r){let i=Array.isArray(e)?e.join(`
`):""+e;TE({font:n,sdfGlyphSize:t,text:i},r)}function JV(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let Q0;function XV(n){return Q0||(Q0=typeof document>"u"?{}:document.createElement("a")),Q0.href=n,Q0.href}function BE(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:r,height:i}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),t.image={width:r,height:i,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const KV=Qh({name:"Typesetter",dependencies:[vu,HV,BV,SV],init(n,e,t,r){const{defaultFontURL:i}=n;return t(e,r(),{defaultFontURL:i})}}),YV=Qh({name:"Typesetter",dependencies:[KV],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[n.glyphPositions.buffer,n.glyphIds.buffer];return n.caretPositions&&e.push(n.caretPositions.buffer),n.glyphColors&&e.push(n.glyphColors.buffer),e}}),d_={};function ZV(n){let e=d_[n];if(!e){const t=new zo(1,1,n,n),r=t.clone(),i=t.attributes,s=r.attributes,o=new _t,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new ot([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...t.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=d_[n]=o}return e}const QV="aTroikaGlyphBounds",h_="aTroikaGlyphIndex",qV="aTroikaGlyphColor";class $V extends Fg{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Uo,this.boundingBox=new Ys}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===Zr?t/2:0,e===rc?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=ZV(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=t.attributes[r].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,i,s){km(this,QV,e,4),km(this,h_,t,1),km(this,qV,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:i,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=i/2,d=i*2,p=Math.abs(t),m=e[0]/p,g=e[2]/p,v=s((m+u)/d)!==s((g+u)/d)?-p:o(l(m)*p,l(g)*p),y=s((m-u)/d)!==s((g-u)/d)?p:a(l(m)*p,l(g)*p),x=s((m+i)/d)!==s((g+i)/d)?p*2:a(p-c(m)*p,p-c(g)*p);r.min.set(v,e[1],t<0?-x:0),r.max.set(y,e[3],t<0?0:x)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(h_).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){t=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}}function km(n,e,t,r){const i=n.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(n.setAttribute(e,new Ql(t,r)),delete n._maxInstanceCount,n.dispose()):i&&n.deleteAttribute(e)}const eW=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,tW=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,nW=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,rW=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function iW(n){const e=W8(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Re},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Kt(0,0,0,0)},uTroikaClipRect:{value:new Kt(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Re},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new qe},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Dr},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:eW,vertexTransform:tW,fragmentDefs:nW,fragmentColorTransform:rW,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(EE,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const Jg=new hn({color:16777215,side:rc,transparent:!0}),p_=8421504,m_=new dt,q0=new N,Om=new N,pd=[],sW=new N,Nm="+x+y";function g_(n){return Array.isArray(n)?n[0]:n}let PE=()=>{const n=new Rn(new zo(1,1),Jg);return PE=()=>n,n},LE=()=>{const n=new Rn(new zo(1,1,32,1),Jg);return LE=()=>n,n};const oW={type:"syncstart"},aW={type:"synccomplete"},IE=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],lW=IE.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let DE=class extends Rn{constructor(){const e=new $V;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=p_,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Nm,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(oW),TE({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(aW),e&&e()})))}onBeforeRender(e,t,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=js}onAfterRender(e,t,r,i,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Jg.clone());if((!e||e.baseMaterial!==t)&&(e=this._derivedMaterial=iW(t),t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return g_(this.material).getDepthMaterial()}get customDistanceMaterial(){return g_(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let c=0,u=0,d=0,p,m,g,v=0,y=0;if(t){let{outlineWidth:_,outlineOffsetX:S,outlineOffsetY:M,outlineBlur:b,outlineOpacity:T}=this;c=this._parsePercent(_)||0,u=Math.max(0,this._parsePercent(b)||0),p=T,v=this._parsePercent(S)||0,y=this._parsePercent(M)||0}else d=Math.max(0,this._parsePercent(this.strokeWidth)||0),d&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??p_),m=this.strokeOpacity,m==null&&(m=1)),p=this.fillOpacity;r.uTroikaDistanceOffset.value=c,r.uTroikaPositionOffset.value.set(v,y),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=d,r.uTroikaStrokeOpacity.value=m,r.uTroikaFillOpacity.value=p??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let x=this.clipRect;if(x&&Array.isArray(x)&&x.length===4)r.uTroikaClipRect.value.fromArray(x);else{const _=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-_,l[1]-_,l[2]+_,l[3]+_)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new qe;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||Nm;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==Nm&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,d,p]=l;q0.set(0,0,0)[u]=c==="-"?1:-1,Om.set(0,0,0)[p]=d==="-"?-1:1,m_.lookAt(sW,q0.cross(Om),Om),a.setFromMatrix4(m_)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new Re){t.copy(e);const r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new Re){return q0.copy(e),this.localPositionToTextCoords(this.worldToLocal(q0),t)}raycast(e,t){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?LE():PE(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let d=s[0]+c.getX(u)*(s[2]-s[0]);const p=s[1]+c.getY(u)*(s[3]-s[1]);let m=0;i&&(m=i-Math.cos(d/i)*i,d=Math.sin(d/i)*i),l.setXYZ(u,d,p,m)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,pd.length=0,o.raycast(e,pd);for(let u=0;u<pd.length;u++)pd[u].object=this,t.push(pd[u])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,lW.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};IE.forEach(n=>{const e="_private_"+n;Object.defineProperty(DE.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});const cW=n=>typeof n=="object"&&typeof n.then=="function",Bl=[];function FE(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function kE(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Bl)if(FE(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Bl.indexOf(i);s!==-1&&Bl.splice(s,1)},promise:(cW(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Bl.push(i),!t)throw i.promise}const OE=(n,e,t)=>kE(n,e,!1,t),uW=(n,e,t)=>void kE(n,e,!0,t),fW=n=>{if(n===void 0||n.length===0)Bl.splice(0,Bl.length);else{const e=Bl.find(t=>FE(n,t.keys,t.equal));e&&e.remove()}},v_=F.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},c)=>{const u=Ei(({invalidate:g})=>g),[d]=F.useState(()=>new DE),[p,m]=F.useMemo(()=>{const g=[];let v="";return F.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?v+=y:g.push(y)}),[g,v]},[s]);return OE(()=>new Promise(g=>jV({font:r,characters:o},g)),["troika-text",r,o]),F.useLayoutEffect(()=>void d.sync(()=>{u(),a&&a(d)})),F.useEffect(()=>()=>d.dispose(),[d]),F.createElement("primitive",Kl({object:d,ref:c,font:r,text:m,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:n},l),p)});let Um=null;async function NE(n){Um||(Um=new uV);let e=typeof n=="string"?await(await fetch(n)).json():n;return Um.parse(e)}function Xg(n){return OE(NE,[n])}Xg.preload=n=>uW(NE,[n]);Xg.clear=n=>fW([n]);const dW=["string","number"],hW=n=>{let e="";const t=[];return F.Children.forEach(n,r=>{dW.includes(typeof r)?e+=r+"":t.push(r)}),[e,...t]},Qs=F.forwardRef(({font:n,letterSpacing:e=0,lineHeight:t=1,size:r=1,height:i=.2,bevelThickness:s=.1,bevelSize:o=.01,bevelEnabled:a=!1,bevelOffset:l=0,bevelSegments:c=4,curveSegments:u=8,smooth:d,children:p,...m},g)=>{F.useMemo(()=>$C({RenamedTextGeometry:cV}),[]);const v=F.useRef(null),y=Xg(n),x=F.useMemo(()=>({font:y,size:r,height:i,bevelThickness:s,bevelSize:o,bevelEnabled:a,bevelSegments:c,bevelOffset:l,curveSegments:u,letterSpacing:e,lineHeight:t}),[y,r,i,s,o,a,c,l,u,e,t]),[_,...S]=F.useMemo(()=>hW(p),[p]),M=F.useMemo(()=>[_,x],[_,x]);return F.useLayoutEffect(()=>{d&&(v.current.geometry=TH(v.current.geometry,d),v.current.geometry.computeVertexNormals())},[M,d]),F.useImperativeHandle(g,()=>v.current,[]),F.createElement("mesh",Kl({},m,{ref:v}),F.createElement("renamedTextGeometry",{args:M}),S)});let $0=null,UE="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function zE(n,e,t){return r=>{t&&t(r),n&&($0||($0=new pV),$0.setDecoderPath(typeof n=="string"?n:UE),r.setDRACOLoader($0)),e&&r.setMeshoptDecoder(typeof Dm=="function"?Dm():Dm)}}function pi(n,e=!0,t=!0,r){return Zh(jg,n,zE(e,t,r))}pi.preload=(n,e=!0,t=!0,r)=>Zh.preload(jg,n,zE(e,t,r));pi.clear=n=>Zh.clear(jg,n);pi.setDecoderPath=n=>{UE=n};const pW=F.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const d=Ei(T=>T.invalidate),p=Ei(T=>T.camera),m=Ei(T=>T.gl),g=Ei(T=>T.events),v=Ei(T=>T.setEvents),y=Ei(T=>T.set),x=Ei(T=>T.get),_=Ei(T=>T.performance),S=e||p,M=r||g.connected||m.domElement,b=F.useMemo(()=>new BH(S),[S]);return gf(()=>{b.enabled&&b.update()},-1),F.useEffect(()=>(s&&b.connect(s===!0?M:s),b.connect(M),()=>void b.dispose()),[s,M,t,b,d]),F.useEffect(()=>{const T=P=>{d(),t&&_.regress(),o&&o(P)},R=P=>{a&&a(P)},C=P=>{l&&l(P)};return b.addEventListener("change",T),b.addEventListener("start",R),b.addEventListener("end",C),()=>{b.removeEventListener("start",R),b.removeEventListener("end",C),b.removeEventListener("change",T)}},[o,a,l,b,d,v]),F.useEffect(()=>{if(n){const T=x().controls;return y({controls:b}),()=>y({controls:T})}},[n,b]),F.createElement("primitive",Kl({ref:u,object:b,enableDamping:i},c))});function Ms(n,e){const t=F.useRef(),[r]=F.useState(()=>e?e instanceof xt?{current:e}:e:t),[i]=F.useState(()=>new VC(void 0));F.useLayoutEffect(()=>{e&&(r.current=e instanceof xt?e:e.current),i._root=r.current});const s=F.useRef({}),o=F.useMemo(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:n,actions:a,names:n.map(l=>l.name),mixer:i}},[n]);return gf((a,l)=>i.update(l)),F.useEffect(()=>{const a=r.current;return()=>{s.current={},i.stopAllAction(),Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[n]),o}const Yc=n=>n&&n.isOrthographicCamera,mW=n=>n&&n.isBox3,GE=F.createContext(null);function gW({children:n,damping:e=6,fit:t,clip:r,observe:i,margin:s=1.2,eps:o=.01,onFit:a}){const l=F.useRef(null),{camera:c,invalidate:u,size:d,controls:p}=Ei(),m=p,g=F.useRef(a);g.current=a;function v(T,R){return Math.abs(T.x-R.x)<o&&Math.abs(T.y-R.y)<o&&Math.abs(T.z-R.z)<o}function y(T,R,C,P){T.x=bl.damp(T.x,R.x,C,P),T.y=bl.damp(T.y,R.y,C,P),T.z=bl.damp(T.z,R.z,C,P)}const[x]=F.useState(()=>({animating:!1,focus:new N,camera:new N,zoom:1})),[_]=F.useState(()=>({focus:new N,camera:new N,zoom:1})),[S]=F.useState(()=>new Ys),M=F.useMemo(()=>{function T(){const R=S.getSize(new N),C=S.getCenter(new N),P=Math.max(R.x,R.y,R.z),L=Yc(c)?P*4:P/(2*Math.atan(Math.PI*c.fov/360)),z=Yc(c)?P*4:L/c.aspect,G=s*Math.max(L,z);return{box:S,size:R,center:C,distance:G}}return{getSize:T,refresh(R){if(mW(R))S.copy(R);else{const C=R||l.current;if(!C)return this;C.updateWorldMatrix(!0,!0),S.setFromObject(C)}if(S.isEmpty()){const C=c.position.length()||10;S.setFromCenterAndSize(new N,new N(C,C,C))}if((m==null?void 0:m.constructor.name)==="OrthographicTrackballControls"){const{distance:C}=T(),P=c.position.clone().sub(m.target).normalize().multiplyScalar(C),L=m.target.clone().add(P);c.position.copy(L)}return this},clip(){const{distance:R}=T();return m&&(m.maxDistance=R*10),c.near=R/100,c.far=R*100,c.updateProjectionMatrix(),m&&m.update(),u(),this},to({position:R,target:C}){x.camera.copy(c.position);const{center:P}=T();return _.camera.set(...R),C?_.focus.set(...C):_.focus.copy(P),e?x.animating=!0:c.position.set(...R),this},fit(){x.camera.copy(c.position),m&&x.focus.copy(m.target);const{center:R,distance:C}=T(),P=R.clone().sub(c.position).normalize().multiplyScalar(C);if(_.camera.copy(R).sub(P),_.focus.copy(R),Yc(c)){x.zoom=c.zoom;let L=0,z=0;const G=[new N(S.min.x,S.min.y,S.min.z),new N(S.min.x,S.max.y,S.min.z),new N(S.min.x,S.min.y,S.max.z),new N(S.min.x,S.max.y,S.max.z),new N(S.max.x,S.max.y,S.max.z),new N(S.max.x,S.max.y,S.min.z),new N(S.max.x,S.min.y,S.max.z),new N(S.max.x,S.min.y,S.min.z)];R.applyMatrix4(c.matrixWorldInverse);for(const Y of G)Y.applyMatrix4(c.matrixWorldInverse),L=Math.max(L,Math.abs(Y.y-R.y)),z=Math.max(z,Math.abs(Y.x-R.x));L*=2,z*=2;const V=(c.top-c.bottom)/L,H=(c.right-c.left)/z;_.zoom=Math.min(V,H)/s,e||(c.zoom=_.zoom,c.updateProjectionMatrix())}return e?x.animating=!0:(c.position.copy(_.camera),c.lookAt(_.focus),m&&(m.target.copy(_.focus),m.update())),g.current&&g.current(this.getSize()),u(),this}}},[S,c,m,s,e,u]);F.useLayoutEffect(()=>{if(m){const T=()=>x.animating=!1;return m.addEventListener("start",T),()=>m.removeEventListener("start",T)}},[m]);const b=F.useRef(0);return F.useLayoutEffect(()=>{(i||b.current++===0)&&(M.refresh(),t&&M.fit(),r&&M.clip())},[d,r,t,i,c,m]),gf((T,R)=>{if(x.animating){if(y(x.focus,_.focus,e,R),y(x.camera,_.camera,e,R),x.zoom=bl.damp(x.zoom,_.zoom,e,R),c.position.copy(x.camera),Yc(c)&&(c.zoom=x.zoom,c.updateProjectionMatrix()),m?(m.target.copy(x.focus),m.update()):c.lookAt(x.focus),u(),Yc(c)&&!(Math.abs(x.zoom-_.zoom)<o)||!Yc(c)&&!v(x.camera,_.camera)||m&&!v(x.focus,_.focus))return;x.animating=!1}}),F.createElement("group",{ref:l},F.createElement(GE.Provider,{value:M},n))}function cX(){return F.useContext(GE)}function vW(){const n=pi("../FirstTestHowTo.glb"),e=Ms(n.animations,n.scene);let{setClickedPath:t}=F.useContext(hi);const r=new hn({color:16777215});var i=new nn({color:4210752,linewidth:10});return F.useEffect(()=>{t("H1"),n.scene.traverse(o=>{if(o.isMesh){o.material=r,o.frustumCulled=!1;var a=new Ii(o.geometry,20),l=new Pn(a,i);o.add(l),a.dispose(),r.dispose(),o.geometry.dispose()}}),e.actions.Animation.play()},[]),se(pn,{children:se("primitive",{object:n.scene})})}function yW(){const n=pi("../FirstTestHowTo.glb"),e=Ms(n.animations,n.scene);let{setClickedPath:t}=F.useContext(hi);const r=new hn({color:16777215});var i=new nn({color:4210752,linewidth:10});return F.useEffect(()=>{t("H2"),n.scene.traverse(o=>{if(o.isMesh){o.material=r,o.frustumCulled=!1;var a=new Ii(o.geometry,20),l=new Pn(a,i);o.add(l),a.dispose(),r.dispose(),o.geometry.dispose()}}),e.actions.Animation.play()},[]),ze(pn,{children:["        ",ze(Qs,{font:"../helvetiker_regular.typeface.json",size:.75,"position-x":-4,children:["under construction",se("meshBasicMaterial",{color:0})]})]})}function xW(){const n=pi("../FirstTestHowTo.glb"),e=Ms(n.animations,n.scene);let{setClickedPath:t}=F.useContext(hi);const r=new hn({color:16777215});var i=new nn({color:4210752,linewidth:10});return F.useEffect(()=>{t("H3"),n.scene.traverse(o=>{if(o.isMesh){o.material=r,o.frustumCulled=!1;var a=new Ii(o.geometry,20),l=new Pn(a,i);o.add(l),a.dispose(),r.dispose(),o.geometry.dispose()}}),e.actions.Animation.play()},[]),ze(pn,{children:["        ",ze(Qs,{font:"../helvetiker_regular.typeface.json",size:.75,"position-x":-4,children:["under construction",se("meshBasicMaterial",{color:0})]})]})}function _W(){const n=pi("../FirstTestHowTo.glb"),e=Ms(n.animations,n.scene);let{setClickedPath:t}=F.useContext(hi);const r=new hn({color:16777215});var i=new nn({color:4210752,linewidth:10});return F.useEffect(()=>{t("H4"),n.scene.traverse(o=>{if(o.isMesh){o.material=r,o.frustumCulled=!1;var a=new Ii(o.geometry,20),l=new Pn(a,i);o.add(l),a.dispose(),r.dispose(),o.geometry.dispose()}}),e.actions.Animation.play()},[]),ze(pn,{children:["        ",ze(Qs,{font:"../helvetiker_regular.typeface.json",size:.75,"position-x":-4,children:["under construction",se("meshBasicMaterial",{color:0})]})]})}function wW(){const n=pi("../FirstTestHowTo.glb"),e=Ms(n.animations,n.scene);let{setClickedPath:t}=F.useContext(hi);const r=new hn({color:16777215});var i=new nn({color:4210752,linewidth:10});return F.useEffect(()=>{t("H5"),n.scene.traverse(o=>{if(o.isMesh){o.material=r,o.frustumCulled=!1;var a=new Ii(o.geometry,20),l=new Pn(a,i);o.add(l),a.dispose(),r.dispose(),o.geometry.dispose()}}),e.actions.Animation.play()},[]),ze(pn,{children:["        ",ze(Qs,{font:"../helvetiker_regular.typeface.json",size:.75,"position-x":-4,children:["under construction",se("meshBasicMaterial",{color:0})]})]})}function SW(){const n=pi("../FirstTestHowTo.glb"),e=Ms(n.animations,n.scene);let{setClickedPath:t}=F.useContext(hi);const r=new hn({color:16777215});var i=new nn({color:4210752,linewidth:10});return F.useEffect(()=>{t("H6"),n.scene.traverse(o=>{if(o.isMesh){o.material=r,o.frustumCulled=!1;var a=new Ii(o.geometry,20),l=new Pn(a,i);o.add(l),a.dispose(),r.dispose(),o.geometry.dispose()}}),e.actions.Animation.play()},[]),ze(pn,{children:["        ",ze(Qs,{font:"../helvetiker_regular.typeface.json",size:.75,"position-x":-4,children:["under construction",se("meshBasicMaterial",{color:0})]})]})}function AW(){const n=pi("../FirstTestHowTo.glb"),e=Ms(n.animations,n.scene);let{setClickedPath:t}=F.useContext(hi);const r=new hn({color:16777215});var i=new nn({color:4210752,linewidth:10});return F.useEffect(()=>{t("H7"),n.scene.traverse(o=>{if(o.isMesh){o.material=r,o.frustumCulled=!1;var a=new Ii(o.geometry,20),l=new Pn(a,i);o.add(l),a.dispose(),r.dispose(),o.geometry.dispose()}}),e.actions.Animation.play()},[]),ze(pn,{children:["        ",ze(Qs,{font:"../helvetiker_regular.typeface.json",size:.75,"position-x":-4,children:["under construction",se("meshBasicMaterial",{color:0})]})]})}function MW(){const n=pi("../FirstTestHowTo.glb"),e=Ms(n.animations,n.scene);let{setClickedPath:t}=F.useContext(hi);const r=new hn({color:16777215});var i=new nn({color:4210752,linewidth:10});return F.useEffect(()=>{t("H8"),n.scene.traverse(o=>{if(o.isMesh){o.material=r,o.frustumCulled=!1;var a=new Ii(o.geometry,20),l=new Pn(a,i);o.add(l),a.dispose(),r.dispose(),o.geometry.dispose()}}),e.actions.Animation.play()},[]),ze(pn,{children:["        ",ze(Qs,{font:"../helvetiker_regular.typeface.json",size:.75,"position-x":-4,children:["under construction",se("meshBasicMaterial",{color:0})]})]})}function CW(){const n=pi("../FirstTestHowTo.glb"),e=Ms(n.animations,n.scene);let{setClickedPath:t}=F.useContext(hi);const r=new hn({color:16777215});var i=new nn({color:4210752,linewidth:10});return F.useEffect(()=>{t("H9"),n.scene.traverse(o=>{if(o.isMesh){o.material=r,o.frustumCulled=!1;var a=new Ii(o.geometry,20),l=new Pn(a,i);o.add(l),a.dispose(),r.dispose(),o.geometry.dispose()}}),e.actions.Animation.play()},[]),ze(pn,{children:["        ",ze(Qs,{font:"../helvetiker_regular.typeface.json",size:.75,"position-x":-4,children:["under construction",se("meshBasicMaterial",{color:0})]})]})}function EW(){const n=pi("../FirstTestHowTo.glb"),e=Ms(n.animations,n.scene);let{setClickedPath:t}=F.useContext(hi);const r=new hn({color:16777215});var i=new nn({color:4210752,linewidth:10});return F.useEffect(()=>{t("H10"),n.scene.traverse(o=>{if(o.isMesh){o.material=r,o.frustumCulled=!1;var a=new Ii(o.geometry,20),l=new Pn(a,i);o.add(l),a.dispose(),r.dispose(),o.geometry.dispose()}}),e.actions.Animation.play()},[]),ze(pn,{children:["        ",ze(Qs,{font:"../helvetiker_regular.typeface.json",size:.75,"position-x":-4,children:["under construction",se("meshBasicMaterial",{color:0})]})]})}function bW(){const n=pi("../FirstTestHowTo.glb"),e=Ms(n.animations,n.scene);let{setClickedPath:t}=F.useContext(hi);const r=new hn({color:16777215});var i=new nn({color:4210752,linewidth:10});return F.useEffect(()=>{t("H11"),n.scene.traverse(o=>{if(o.isMesh){o.material=r,o.frustumCulled=!1;var a=new Ii(o.geometry,20),l=new Pn(a,i);o.add(l),a.dispose(),r.dispose(),o.geometry.dispose()}}),e.actions.Animation.play()},[]),ze(pn,{children:["        ",ze(Qs,{font:"../helvetiker_regular.typeface.json",size:.75,"position-x":-4,children:["under construction",se("meshBasicMaterial",{color:0})]})]})}function TW(){const[n,e]=F.useState([]);let{path:t,setHowToTitle:r,howToTitle:i}=F.useContext(hi);return F.useEffect(()=>{let s=0,o=new Array;qA.get("https://sheets.googleapis.com/v4/spreadsheets/1grTucZ2sqLgZ4AtJq8EkyO__kLg-pazRVl3sbLNMaIY/values/Blad1?key=AIzaSyCqcO7MQv4dsj76ps3nNJnMwTT8Cvqv-eM").then(a=>{let l=new Array;const c=a.data.values||[];for(const p of c)s>0&&p[0]!=""?(l=new Array,l.push(p),o.push(l)):l.push(p),++s;let u=[];const d=o.reduce((p,m)=>{if(m[0].includes(`${t}`)){const g=m[0][1];p.push(g)}return p},[]);u=o.reduce((p,m)=>{if(m[0].includes(`${t}`))for(const g of m){const v=g[3];p.push(v)}return p},[]),r(d),e(u)}).catch(a=>{console.error("Error fetching data:",a)})},[t]),se(pn,{children:ze("div",{children:[se("h1",{className:"HowToTitle",children:i?`${i}`:null}),se("ul",{children:n?n.map((s,o)=>ze("li",{className:"HowToTextAreaList",children:[" ",s]},o)):null})]})})}const y_=n=>{let e;const t=new Set,r=(u,d)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const m=e;e=d??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(g=>g(e,m))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u)),destroy:()=>{t.clear()}},c=e=n(r,i,l);return l},RW=n=>n?y_(n):y_;var HE={exports:{}},VE={},WE={exports:{}},jE={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u=F;function BW(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var PW=typeof Object.is=="function"?Object.is:BW,LW=$u.useState,IW=$u.useEffect,DW=$u.useLayoutEffect,FW=$u.useDebugValue;function kW(n,e){var t=e(),r=LW({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return DW(function(){i.value=t,i.getSnapshot=e,zm(i)&&s({inst:i})},[n,t,e]),IW(function(){return zm(i)&&s({inst:i}),n(function(){zm(i)&&s({inst:i})})},[n]),FW(t),t}function zm(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!PW(n,t)}catch{return!0}}function OW(n,e){return e()}var NW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?OW:kW;jE.useSyncExternalStore=$u.useSyncExternalStore!==void 0?$u.useSyncExternalStore:NW;WE.exports=jE;var UW=WE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1=F,zW=UW;function GW(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var HW=typeof Object.is=="function"?Object.is:GW,VW=zW.useSyncExternalStore,WW=f1.useRef,jW=f1.useEffect,JW=f1.useMemo,XW=f1.useDebugValue;VE.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=WW(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=JW(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return d=g}return d=m}if(g=d,HW(u,m))return g;var v=r(m);return i!==void 0&&i(g,v)?g:(u=m,d=v)}var c=!1,u,d,p=t===void 0?null:t;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,t,r,i]);var a=VW(n,s[0],s[1]);return jW(function(){o.hasValue=!0,o.value=a},[a]),XW(a),a};HE.exports=VE;var KW=HE.exports;const YW=h2(KW),{useDebugValue:ZW}=Kr,{useSyncExternalStoreWithSelector:QW}=YW;const qW=n=>n;function $W(n,e=qW,t){const r=QW(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return ZW(r),r}const x_=n=>{const e=typeof n=="function"?RW(n):n,t=(r,i)=>$W(e,r,i);return Object.assign(t,e),t},ej=n=>n?x_(n):x_;var tj=n=>ej(n),Qt="colors",jr="sizes",st="space",nj={gap:st,gridGap:st,columnGap:st,gridColumnGap:st,rowGap:st,gridRowGap:st,inset:st,insetBlock:st,insetBlockEnd:st,insetBlockStart:st,insetInline:st,insetInlineEnd:st,insetInlineStart:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,marginBlock:st,marginBlockEnd:st,marginBlockStart:st,marginInline:st,marginInlineEnd:st,marginInlineStart:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,paddingBlock:st,paddingBlockEnd:st,paddingBlockStart:st,paddingInline:st,paddingInlineEnd:st,paddingInlineStart:st,top:st,right:st,bottom:st,left:st,scrollMargin:st,scrollMarginTop:st,scrollMarginRight:st,scrollMarginBottom:st,scrollMarginLeft:st,scrollMarginX:st,scrollMarginY:st,scrollMarginBlock:st,scrollMarginBlockEnd:st,scrollMarginBlockStart:st,scrollMarginInline:st,scrollMarginInlineEnd:st,scrollMarginInlineStart:st,scrollPadding:st,scrollPaddingTop:st,scrollPaddingRight:st,scrollPaddingBottom:st,scrollPaddingLeft:st,scrollPaddingX:st,scrollPaddingY:st,scrollPaddingBlock:st,scrollPaddingBlockEnd:st,scrollPaddingBlockStart:st,scrollPaddingInline:st,scrollPaddingInlineEnd:st,scrollPaddingInlineStart:st,fontSize:"fontSizes",background:Qt,backgroundColor:Qt,backgroundImage:Qt,borderImage:Qt,border:Qt,borderBlock:Qt,borderBlockEnd:Qt,borderBlockStart:Qt,borderBottom:Qt,borderBottomColor:Qt,borderColor:Qt,borderInline:Qt,borderInlineEnd:Qt,borderInlineStart:Qt,borderLeft:Qt,borderLeftColor:Qt,borderRight:Qt,borderRightColor:Qt,borderTop:Qt,borderTopColor:Qt,caretColor:Qt,color:Qt,columnRuleColor:Qt,fill:Qt,outline:Qt,outlineColor:Qt,stroke:Qt,textDecorationColor:Qt,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:jr,minBlockSize:jr,maxBlockSize:jr,inlineSize:jr,minInlineSize:jr,maxInlineSize:jr,width:jr,minWidth:jr,maxWidth:jr,height:jr,minHeight:jr,maxHeight:jr,flexBasis:jr,gridTemplateColumns:jr,gridTemplateRows:jr,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},rj=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,vf=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,rj))(e);return i in n?n[i]:n[i]=t(e,...r)}},Gl=Symbol.for("sxs.internal"),Kg=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),__=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:ij}=Object.prototype,J8=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),sj=/\s+(?![^()]*\))/,Zc=n=>e=>n(...typeof e=="string"?String(e).split(sj):[e]),w_={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:Zc((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:Zc((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:Zc((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:Zc((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:Zc((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:Zc((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},Gm=/([\d.]+)([^]*)/,oj=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,aj=(n,e)=>n in lj&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${J8(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${J8(n)}:${r}fit-content`)+s):String(e),lj={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Oo=n=>n?n+"-":"",JE=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Oo(e)+(a.includes("$")?"":Oo(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),cj=/\s*,\s*(?![^()]*\))/,uj=Object.prototype.toString,yu=(n,e,t,r,i)=>{let s,o,a;const l=(c,u,d)=>{let p,m;const g=v=>{for(p in v){const _=p.charCodeAt(0)===64,S=_&&Array.isArray(v[p])?v[p]:[v[p]];for(m of S){const M=/[A-Z]/.test(x=p)?x:x.replace(/-[^]/g,T=>T[1].toUpperCase()),b=typeof m=="object"&&m&&m.toString===uj&&(!r.utils[M]||!u.length);if(M in r.utils&&!b){const T=r.utils[M];if(T!==o){o=T,g(T(m)),o=null;continue}}else if(M in w_){const T=w_[M];if(T!==a){a=T,g(T(m)),a=null;continue}}if(_&&(y=p.slice(1)in r.media?"@media "+r.media[p.slice(1)]:p,p=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(T,R,C,P,L,z)=>{const G=Gm.test(R),V=.0625*(G?-1:1),[H,Y]=G?[P,R]:[R,P];return"("+(C[0]==="="?"":C[0]===">"===G?"max-":"min-")+H+":"+(C[0]!=="="&&C.length===1?Y.replace(Gm,(ee,ue,k)=>Number(ue)+V*(C===">"?1:-1)+k):Y)+(L?") and ("+(L[0]===">"?"min-":"max-")+H+":"+(L.length===1?z.replace(Gm,(ee,ue,k)=>Number(ue)+V*(L===">"?-1:1)+k):z):"")+")"})),b){const T=_?d.concat(p):[...d],R=_?[...u]:oj(u,p.split(cj));s!==void 0&&i(S_(...s)),s=void 0,l(m,R,T)}else s===void 0&&(s=[[],u,d]),p=_||p.charCodeAt(0)!==36?p:`--${Oo(r.prefix)}${p.slice(1).replace(/\$/g,"-")}`,m=b?m:typeof m=="number"?m&&M in fj?String(m)+"px":String(m):JE(aj(M,m??""),r.prefix,r.themeMap[M]),s[0].push(`${_?`${p} `:`${J8(p)}:`}${m}`)}}var y,x};g(c),s!==void 0&&i(S_(...s)),s=void 0};l(n,e,t)},S_=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,fj={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},A_=n=>String.fromCharCode(n+(n>25?39:97)),Hl=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=A_(t%52)+r;return A_(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),Md=["themed","global","styled","onevar","resonevar","allvar","inline"],dj=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},hj=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if(dj(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const d=Object(c[l+1]);if(d.type!==4)continue;++l;const{cssText:p}=u;if(!p.startsWith("--sxs"))continue;const m=p.slice(14,-3).trim().split(/\s+/),g=Md[m[0]];g&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[g]={group:d,index:l,cache:new Set(m)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,d){this.cssRules.splice(d,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=Md.length-1;a>=0;--a){const l=Md[a];if(!o[l]){const c=Md[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}pj(o[l])}};return r(),e},pj=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},md=Symbol(),mj=vf(),M_=(n,e)=>mj(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[Gl]){r.type==null&&(r.type=i[Gl].type);for(const s of i[Gl].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(gj(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),vj(n,r,e)}),gj=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${Oo(i.prefix)}c-${Hl(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const p in t)l[p]=String(t[p]);if(typeof n=="object"&&n)for(const p in n){u=l,d=p,ij.call(u,d)||(l[p]="undefined");const m=n[p];for(const g in m){const v={[p]:String(g)};String(g)==="undefined"&&c.push(p);const y=m[g],x=[v,y,!__(y)];o.push(x)}}var u,d;if(typeof e=="object"&&e)for(const p of e){let{css:m,...g}=p;m=typeof m=="object"&&m||{};for(const y in g)g[y]=String(g[y]);const v=[g,m,!__(m)];a.push(v)}return[s,r,o,a,l,c]},vj=(n,e,t)=>{const[r,i,s,o]=yj(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(d=>{function p(){for(let m=0;m<p[md].length;m++){const[g,v]=p[md][m];d.rules[g].apply(v)}return p[md]=[],null}return p[md]=[],p.rules={},Md.forEach(m=>p.rules[m]={apply:g=>p[md].push([m,g])}),p})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=d=>{d=typeof d=="object"&&d||xj;const{css:p,...m}=d,g={};for(const x in s)if(delete m[x],x in d){let _=d[x];typeof _=="object"&&_?g[x]={"@initial":s[x],..._}:(_=String(_),g[x]=_!=="undefined"||o.has(x)?_:s[x])}else g[x]=s[x];const v=new Set([...i]);for(const[x,_,S,M]of e.composers){t.rules.styled.cache.has(x)||(t.rules.styled.cache.add(x),yu(_,[`.${x}`],[],n,R=>{l.styled.apply(R)}));const b=C_(S,g,n.media),T=C_(M,g,n.media,!0);for(const R of b)if(R!==void 0)for(const[C,P,L]of R){const z=`${x}-${Hl(P)}-${C}`;v.add(z);const G=(L?t.rules.resonevar:t.rules.onevar).cache,V=L?l.resonevar:l.onevar;G.has(z)||(G.add(z),yu(P,[`.${z}`],[],n,H=>{V.apply(H)}))}for(const R of T)if(R!==void 0)for(const[C,P]of R){const L=`${x}-${Hl(P)}-${C}`;v.add(L),t.rules.allvar.cache.has(L)||(t.rules.allvar.cache.add(L),yu(P,[`.${L}`],[],n,z=>{l.allvar.apply(z)}))}}if(typeof p=="object"&&p){const x=`${r}-i${Hl(p)}-css`;v.add(x),t.rules.inline.cache.has(x)||(t.rules.inline.cache.add(x),yu(p,[`.${x}`],[],n,_=>{l.inline.apply(_)}))}for(const x of String(d.className||"").trim().split(/\s+/))x&&v.add(x);const y=m.className=[...v].join(" ");return{type:e.type,className:y,selector:c,props:m,toString:()=>y,deferredInjector:a}};return Kg(u,{className:r,selector:c,[Gl]:e,toString:()=>(t.rules.styled.cache.has(r)||u(),r)})},yj=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},C_=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in s){const d=s[l];let p=e[l];if(p!==d){if(typeof p!="object"||!p)continue e;{let m,g,v=0;for(const y in p){if(d===String(p[y])){if(y!=="@initial"){const x=y.slice(1);(g=g||[]).push(x in t?t[x]:y.replace(/^@media ?/,"")),u=!0}c+=v,m=!0}++v}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!m)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},xj={},_j=vf(),wj=(n,e)=>_j(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=Hl(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}yu(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return Kg(r,{toString:r})}),Sj=vf(),Aj=(n,e)=>Sj(n,()=>t=>{const r=`${Oo(n.prefix)}k-${Hl(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];yu(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return Kg(i,{get name(){return i()},toString:i})}),Mj=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Oo(this.prefix)+Oo(this.scale)+this.token}toString(){return this.computedValue}},Cj=vf(),Ej=(n,e)=>Cj(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${Oo(n.prefix)}t-${Hl(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${Oo(n.prefix)}${l}-${c}`,d=JE(String(r[l][c]),n.prefix,l);s[l][c]=new Mj(c,d,l,n.prefix),o.push(`${u}:${d}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),bj=vf(),E_,Tj=vf(),Rj=n=>{const e=(t=>{let r=!1;const i=bj(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...nj},utils:typeof s.utils=="object"&&s.utils||{}},d=hj(l),p={css:M_(u,d),globalCss:wj(u,d),keyframes:Aj(u,d),createTheme:Ej(u,d),reset(){d.reset(),p.theme.toString()},theme:{},sheet:d,config:u,prefix:o,getCssText:d.toString,toString:d.toString};return String(p.theme=p.createTheme(c)),p});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>Tj(t,()=>{const i=M_(t,r);return(...s)=>{const o=i(...s),a=o[Gl].type,l=Kr.forwardRef((c,u)=>{const d=c&&c.as||a,{props:p,deferredInjector:m}=o(c);return delete p.as,p.ref=u,m?Kr.createElement(Kr.Fragment,null,Kr.createElement(d,p),Kr.createElement(m,null)):Kr.createElement(d,p)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Gl]=o[Gl],l}}))(e),e},Bj=()=>E_||(E_=Rj()),tr=(...n)=>Bj().styled(...n);function Nn(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var Pj=["color"],XE=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,Pj);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Lj=["color"],Ij=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,Lj);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Dj=["color"],Fj=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,Dj);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),kj=["color"],Oj=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,kj);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Nj=["color"],Uj=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,Nj);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),zj=["color"],Gj=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,zj);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Hj=["color"],Vj=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,Hj);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Wj=["color"],jj=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,Wj);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Jj=["color"],X8=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,Jj);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Xj=["color"],Kj=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,Xj);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Yj=["color"],Zj=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,Yj);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Qj=["color"],qj=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,Qj);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),$j=["color"],eJ=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,$j);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),tJ=["color"],nJ=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,tJ);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),rJ=["color"],iJ=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,rJ);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),sJ=["color"],oJ=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,sJ);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),aJ=["color"],lJ=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,aJ);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),cJ=["color"],uJ=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,cJ);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),fJ=["color"],KE=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,fJ);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:r}))}),dJ=["color"],YE=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,dJ);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:r}))}),hJ=["color"],ZE=F.forwardRef(function(n,e){var t=n.color,r=t===void 0?"currentColor":t,i=Nn(n,hJ);return F.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),F.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function pJ(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mJ(n){var e=pJ(n,"string");return typeof e=="symbol"?e:String(e)}function gJ(n,e,t){return e=mJ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function b_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function K8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b_(Object(t),!0).forEach(function(r){gJ(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const ji={value:0,fpsLimit:60,isOverLimit:0},gd=n=>(n==null?void 0:n.reduce((e,t)=>e+t,0))/n.length;class vJ{constructor(e={}){this.names=[""],this.finished=[],this.gl=void 0,this.extension=void 0,this.query=void 0,this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,e),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=bl.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let e=0;const t=r=>{++e<20?this.rafId=window.requestAnimationFrame(t):(this.detected=Math.ceil(1e3*e/(r-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=r)};this.rafId=window.requestAnimationFrame(t)}addUI(e){this.names.indexOf(e)===-1&&(this.names.push(e),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(e){const t=16.666666666666668,r=t-e.timeRemaining(),i=t*ji.fpsLimit/10/r;i<0||(ji.value=i,ji.isOverLimit<25?ji.isOverLimit++:Nt.setState({overclockingFps:!0}))}nextFrame(e){this.frameId++;const t=e||this.now();let r=t-this.paramTime,i=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=t;else if(t>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const s=this.frameId-this.paramFrame,o=s*1e3/r,a=Nt.getState().overclockingFps?ji.value:o;if(i=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/r,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const l=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=l.duration,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(o),this.logsAccums.fps.push(a),this.logsAccums.gpu.push(i),this.overClock&&typeof window.requestIdleCallback<"u"&&(ji.isOverLimit>0&&a>o?ji.isOverLimit--:Nt.getState().overclockingFps&&Nt.setState({overclockingFps:!1})),t>=this.paramTime+180&&(this.paramLogger({cpu:gd(this.logsAccums.cpu),gpu:gd(this.logsAccums.gpu),mem:gd(this.logsAccums.mem),fps:gd(this.logsAccums.fps),duration:Math.round(r),maxMemory:this.maxMemory,frameCount:s}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=t),this.overClock&&t-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=e,ji.fpsLimit=Math.round(gd(this.logsAccums.fpsFixed)/10)*100,Nt.setState({fpsLimit:ji.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=t)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=t,this.circularId=0;else{const s=t-this.chartTime;let o=this.chartHz*s/1e3;for(;--o>0&&this.detected;){const l=(this.frameId-this.chartFrame)/s*1e3,c=Nt.getState().overclockingFps?ji.value:l;this.fpsChart[this.circularId%this.chartLen]=c;const u=1e3/this.currentMem,d=this.currentCpu,p=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/r*100))+4;p>0&&(this.gpuChart[this.circularId%this.chartLen]=p),d>0&&(this.cpuChart[this.circularId%this.chartLen]=d),u>0&&(this.memChart[this.circularId%this.chartLen]=u);for(let m=0;m<this.names.length;m++)this.chartLogger({i:m,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=t}}}startGpu(){const e=this.gl,t=this.extension;if(!(!e||!t)&&this.isWebGL2){let r=!1,i,s;if(this.query){this.queryHasResult=!1;let o=this.query;if(r=e.getQueryParameter(o,e.QUERY_RESULT_AVAILABLE),i=e.getParameter(t.GPU_DISJOINT_EXT),r&&!i){s=e.getQueryParameter(this.query,e.QUERY_RESULT);const a=s*1e-6;r&&a>0&&(i||this.activeAccums.forEach((l,c)=>{this.gpuAccums[c]=a}))}}(r||!this.query)&&(this.queryCreated=!0,this.query=e.createQuery(),e.beginQuery(t.TIME_ELAPSED_EXT,this.query))}}endGpu(){const e=this.extension,t=this.gl;this.isWebGL2&&this.queryCreated&&t.getQuery(e.TIME_ELAPSED_EXT,t.CURRENT_QUERY)&&t.endQuery(e.TIME_ELAPSED_EXT)}begin(e){this.startGpu(),this.updateAccums(e)}end(e){this.endGpu(),this.updateAccums(e)}updateAccums(e){let t=this.names.indexOf(e);t===-1&&(t=this.names.length,this.addUI(e));const r=this.now();this.activeAccums[t]=!this.activeAccums[t],this.t0=r}}const yJ=n=>{n.forEach((e,t)=>{const{meshes:r}=e;if(!r)return;let i={total:0,type:"Triangle",data:[]};Object.keys(r).forEach(s=>{const o=r[s],{geometry:a,material:l}=o;let c=a.index;const u=a.attributes.position;if(!u)return;let d=1;l.wireframe===!0&&(d=0);const p=c!==null?c.count:u.count,m=a.drawRange.start*d,g=a.drawRange.count*d,v=m,y=Math.min(p,m+g)-1;let x=1;const _=o.count||1;let S="Triangle",M=0;o.isMesh?l.wireframe===!0?(S="Line",x=x/2):(S="Triangle",x=x/3):o.isLine?(S="Line",o.isLineSegments?x=x/2:o.isLineLoop?x=x:x=x-1):o.isPoints?(S="Point",x=x):o.isSprite&&(S="Triangle",x=x/3);const b=Math.round(Math.max(0,y-v+1)*(x*_));b>M&&(M=b,i.type=S),i.total+=b,i.data.push({drawCount:b,type:S}),o.userData.drawCount={type:S,count:b}}),e.drawCounts=i})},xJ=xt.prototype.updateMatrixWorld,_J=xt.prototype.updateWorldMatrix,T_=xt.prototype.updateMatrix;let xu={value:0},zs={value:0};const wJ=n=>{let e=""+n;return e=e.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),e!==null},R_=(n,e)=>{n.defines||(n.defines={}),n.defines&&!n.defines.muiPerf&&(n.defines=Object.assign(n.defines||{},{muiPerf:n.uuid}));const t=n.uuid;return e[t]||(e[t]={meshes:{},material:n},n.needsUpdate=!0),n.needsUpdate=!1,t},SJ=n=>n==="muiPerf",Nt=tj(n=>({log:null,paused:!1,triggerProgramsUpdate:0,customData:0,fpsLimit:60,overclockingFps:!1,chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos"})),QE=({trackCPU:n,overClock:e,chart:t,deepAnalyze:r,matrixUpdate:i})=>{const{gl:s,scene:o}=Ei();Nt.setState({gl:s,scene:o});const a=F.useMemo(()=>{const l=new vJ({trackGPU:!0,overClock:e,chartLen:t?t.length:120,chartHz:t?t.hz:60,gl:s.getContext(),chartLogger:d=>{Nt.setState({chart:d})},paramLogger:d=>{Nt.setState({log:{maxMemory:d.maxMemory,gpu:d.gpu,cpu:d.cpu,mem:d.mem,fps:d.fps,totalTime:d.duration,frameCount:d.frameCount}})}}),c=new Map,u=new Map;return Object.defineProperty(Ku.prototype,"onBeforeRender",{get(){return(...d)=>{var p;l&&l.begin("profiler"),(p=c.get(this))===null||p===void 0||p(...d)}},set(d){c.set(this,d)},configurable:!0}),Object.defineProperty(Ku.prototype,"onAfterRender",{get(){return(...d)=>{var p;l&&l.end("profiler"),(p=u.get(this))===null||p===void 0||p(...d)}},set(d){u.set(this,d)},configurable:!0}),l},[]);return F.useEffect(()=>{a&&(a.overClock=e||!1,e===!1&&(Nt.setState({overclockingFps:!1}),ji.value=0,ji.isOverLimit=0),a.chartHz=(t==null?void 0:t.hz)||60,a.chartLen=(t==null?void 0:t.length)||120)},[e,a,t==null?void 0:t.length,t==null?void 0:t.hz]),F.useEffect(()=>{i&&(xt.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&xu.value++,xJ.apply(this,arguments)},xt.prototype.updateWorldMatrix=function(){xu.value++,_J.apply(this,arguments)},xt.prototype.updateMatrix=function(){zs.value++,T_.apply(this,arguments)}),s.info.autoReset=!1;let l=null,c=null;if(s.info)return l=KG(function(){Nt.getState().paused&&Nt.setState({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),a.startCpuProfiling=!0),zs.value-=1,xu.value=0,zs.value=0,s.info&&s.info.reset()}),c=YG(function(){if(a&&!a.paused&&(a.nextFrame(window.performance.now()),e&&typeof window.requestIdleCallback<"u"&&(a.idleCbId=requestIdleCallback(a.nextFps))),r){var d,p;const m={},g=new Map;o.traverse(function(y){if((y instanceof Rn||y instanceof i1)&&y.material){let x=y.material.uuid;Array.isArray(y.material)&&y.material.length>1?x=R_(y.material[1],m):x=R_(y.material,m),m[x].meshes[y.uuid]=y}}),s==null||(d=s.info)===null||d===void 0||(p=d.programs)===null||p===void 0||p.forEach(v=>{const y=v.cacheKey.split(","),x=y[y.findIndex(SJ)+1];if(wJ(x)&&m[x]){const{material:_,meshes:S}=m[x];g.set(x,{program:v,material:_,meshes:S,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),g.size!==Nt.getState().programs.size&&(yJ(g),Nt.setState({programs:g,triggerProgramsUpdate:Nt.getState().triggerProgramsUpdate++}))}}),()=>{a&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(a.idleCbId),window.cancelAnimationFrame(a.rafId),window.cancelAnimationFrame(a.checkQueryId)),i&&(xt.prototype.updateMatrixWorld=T_),l(),c()}},[a,s,n,t,i]),F.useEffect(()=>{const l=ZG(function(){return a&&(a.paused=!0,zs.value=0,xu.value=0,Nt.setState({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{l()}},[]),null},AJ=tr("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),Hm=tr("small",{position:"absolute",right:0,fontSize:"10px"}),Lr=tr("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),si=tr("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),MJ=tr("div",{display:"flex"}),CJ=tr("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),EJ=tr("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),bJ=tr("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),Yg=tr("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),TJ=tr("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),RJ=tr("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),BJ=tr("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),PJ=tr("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),LJ=tr("div",{marginTop:"0"}),B_=tr("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),qE=tr("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),$E=tr("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),IJ=tr("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),DJ=tr("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}}),Wi=F.memo(({isPerf:n,color:e,colorBlind:t,customData:r,isMemory:i,isShadersInfo:s,metric:o,fontSize:a,offsetY:l=0,offsetX:c,round:u,hasInstance:d})=>{const{width:p,height:m}=Ei(y=>y.viewport),g=F.useRef(null),v=F.useRef(null);return gf(function(){const x=Nt.getState().gl,_=Nt.getState().log;if(!_||!g.current||(r&&(g.current.text=Nt.getState().customData),!o))return;let S=_[o];if(s){var M;S=(M=x.info.programs)===null||M===void 0?void 0:M.length}else o==="matriceCount"?S=zs.value:!n&&x.info.render&&(S=(i?x.info.memory:x.info.render)[o]);if(o==="fps"&&(g.current.color=Nt.getState().overclockingFps?Ir(t).overClock.toString():`rgb(${Ir(t).fps.toString()})`),g.current.text=(Math.round(S*Math.pow(10,u))/Math.pow(10,u)).toFixed(u),d){const b=x.info.instance;if(typeof b>"u"&&o!=="matriceCount")return;let T;o==="matriceCount"?T=xu.value:T=b[o],T>0?(g.current.fontSize=a/1.15,v.current.fontSize=S>0?a/1.4:a,g.current.position.y=m/2-l-a/1.9,v.current.text=" ±	"+(Math.round(T*Math.pow(10,u))/Math.pow(10,u)).toFixed(u)):(g.current.position.y=m/2-l-a,g.current.fontSize=a)}zs.value-=1,g.current.updateMatrix(),g.current.matrixWorld.copy(g.current.matrix)}),ze(F.Suspense,{fallback:null,children:[ze(v_,{textAlign:"justify",matrixAutoUpdate:!1,ref:g,fontSize:a,position:[-p/2+c+a,m/2-l-a,0],color:e,characters:"0123456789",onUpdate:y=>{y.updateMatrix(),zs.value-=1,y.matrixWorld.copy(y.matrix)},children:[se("meshBasicMaterial",{blending:Bo}),"0"]}),d&&se(v_,{textAlign:"justify",matrixAutoUpdate:!1,ref:v,fontSize:8,position:[-p/2+c+a,m/2-l-a*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:y=>{y.updateMatrix(),zs.value-=1,y.matrixWorld.copy(y.matrix)},children:se("meshBasicMaterial",{blending:Bo})})]})}),FJ=({colorBlind:n,customData:e,minimal:t,matrixUpdate:r})=>ze(pn,{children:[se(Wi,{colorBlind:n,color:`rgb(${Ir(n).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),se(Wi,{color:`rgb(${Ir(n).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),se(Wi,{color:`rgb(${Ir(n).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),t?null:ze(pn,{children:[se(Wi,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),se(Wi,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),se(Wi,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),se(Wi,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),se(Wi,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),se(Wi,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),se(Wi,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),r&&se(Wi,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),e&&se(Wi,{color:`rgb(${Ir(n).custom.toString()})`,customData:e,fontSize:14,offsetY:0,offsetX:t?200:320,round:0})]}),kJ=({colorBlind:n,minimal:e,chart:t={length:30,hz:15}})=>{const r=F.useMemo(()=>({fps:new Float32Array(t.length*3),cpu:new Float32Array(t.length*3),gpu:new Float32Array(t.length*3)}),[t]),i=F.useRef(null),s=F.useRef(null),o=F.useRef(null),a=F.useRef(null),l=F.useMemo(()=>new N(0,0,0),[]),c=(u,d=1,p,m)=>{let g=0;const{width:v,height:y}=m,x=Nt.getState().chart.data[u];if(!x||x.length===0)return;const _=e?2:6,S=e?12:50;let M=x.length;for(let b=0;b<M;b++){let T=(Nt.getState().chart.circularId+b+1)%M;x[T]!==void 0&&(x[T]>g&&(g=x[T]*d),l.set(_+b/(M-1)*(v-_*2)-v/2,Math.min(100,x[T])*d/100*(y-_*2-S)-y/2,0),l.toArray(p.attributes.position.array,b*3))}p.attributes.position.needsUpdate=!0};return gf(function({viewport:d}){c("fps",1,i.current,d),s.current&&s.current.color.set(Nt.getState().overclockingFps?Ir(n).overClock.toString():`rgb(${Ir(n).fps.toString()})`),c("gpu",5,o.current,d),c("cpu",5,a.current,d)}),ze(pn,{children:[ze("line",{children:[se("bufferGeometry",{ref:i,children:se("bufferAttribute",{attach:"attributes-position",count:t.length,array:r.fps,itemSize:3,usage:Ep,needsUpdate:!0})}),se("lineBasicMaterial",{ref:s,color:`rgb(${Ir(n).fps.toString()})`,transparent:!0,opacity:.5})]}),ze("line",{children:[se("bufferGeometry",{ref:o,children:se("bufferAttribute",{attach:"attributes-position",count:t.length,array:r.gpu,itemSize:3,usage:Ep,needsUpdate:!0})}),se("lineBasicMaterial",{color:`rgb(${Ir(n).gpu.toString()})`,transparent:!0,opacity:.5})]}),ze("line",{children:[se("bufferGeometry",{ref:a,children:se("bufferAttribute",{attach:"attributes-position",count:t.length,array:r.cpu,itemSize:3,usage:Ep,needsUpdate:!0})}),se("lineBasicMaterial",{color:`rgb(${Ir(n).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},OJ=({colorBlind:n,chart:e,customData:t,matrixUpdate:r,showGraph:i=!0,antialias:s=!0,minimal:o})=>{const a=F.useRef(void 0),l=Nt(c=>c.paused);return ze(EJ,{style:{display:"flex",position:"absolute",height:`${o?37:i?100:60}px`,minWidth:`${o?"100px":t?"370px":"310px"}`},children:[se(_E,{ref:a,orthographic:!0,dpr:s?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:c})=>{c.traverse(u=>{u.matrixWorldAutoUpdate=!1,u.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${o?37:i?100:60}px`},children:l?null:ze(pn,{children:[se(NJ,{}),se(FJ,{customData:t,minimal:o,matrixUpdate:r}),i&&se(kJ,{colorBlind:n,minimal:o,chart:e})]})}),l&&ze(bJ,{children:[se(iJ,{})," PAUSED"]})]})},NJ=()=>(gf(function({gl:e,scene:t,camera:r}){r.updateMatrix(),zs.value-=1,r.matrixWorld.copy(r.matrix),r.matrixWorldInverse.copy(r.matrixWorld).invert(),e.render(t,r),xu.value=0,zs.value=0},1/0),null);function UJ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function zJ(n,e){if(n==null)return{};var t=UJ(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const GJ=["portal","className","children"],HJ=F.forwardRef((n,e)=>{let{portal:t,className:r,children:i}=n,s=zJ(n,GJ);const o=Ei(u=>u.gl),a=F.useRef(null),l=F.useRef(null),c=(t==null?void 0:t.current)!=null?t.current:o.domElement.parentNode;return F.useLayoutEffect(()=>{if(!a.current||!c)return;const u=document.createElement("div"),d=l.current=JS(u);return c.appendChild(u),()=>{d.unmount(),l.current=null,c.removeChild(u)}},[c]),F.useLayoutEffect(()=>{const u=l.current;u&&u.render(se("div",{ref:e,className:r,children:i}))}),se("group",K8(K8({},s),{},{ref:a}))}),P_=(n,e)=>{const t=i=>{switch(i){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},r=i=>{switch(i){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:n,url:e.image.currentSrc,encoding:r(e.encoding),wrapT:t(e.image.wrapT),flipY:e.flipY.toString()}},VJ=({program:n,material:e,setTexNumber:t})=>{const r=Nt(o=>o.gl),[i,s]=F.useState(null);return F.useEffect(()=>{if(r){const o=n==null?void 0:n.getUniforms();let a=0;const l=new Map;o.seq.forEach(c=>{if(!c.id.includes("uTroika")&&c.id!=="isOrthographic"&&c.id!=="uvTransform"&&c.id!=="lightProbe"&&c.id!=="projectionMatrix"&&c.id!=="viewMatrix"&&c.id!=="normalMatrix"&&c.id!=="modelMatrix"&&c.id!=="modelViewMatrix"){let u=[],d={name:c.id};c.cache&&(c.cache.forEach(p=>{typeof p<"u"&&u.push(p.toString().substring(0,4))}),d.value=u.join(),e[c.id]&&e[c.id].image&&e[c.id].image&&(a++,d.value=P_(c.id,e[c.id])),d.value||(d.value="empty"),l.set(c.id,d))}}),e.uniforms&&Object.keys(e.uniforms).forEach(c=>{const u=e.uniforms[c];if(u.value){const{value:d}=u;let p={name:c};if(c.includes("uTroika"))return;if(d instanceof on)a++,p.value=P_(c,d);else{let m=JSON.stringify(d);try{m=JSON.stringify(d)}catch{m=d.toString()}p.value=m}l.set(c,p)}}),a>0&&t(a),s(l)}},[]),se(qE,{children:i&&Array.from(i.values()).map(o=>se("span",{children:typeof o.value=="string"?se("li",{children:ze("span",{children:[o.name," :"," ",ze("b",{children:[o.value.substring(0,30),o.value.length>30?"...":""]})]})}):ze(pn,{children:[se("li",{children:ze("b",{children:[o.value.name,":"]})}),ze("div",{children:[Object.keys(o.value).map(a=>a!=="name"?se("div",{children:a==="url"?se("a",{href:o.value[a],target:"_blank",children:se("img",{src:o.value[a]})}):ze("li",{children:[a,": ",se("b",{children:o.value[a]})]})},a):null),ze($E,{onClick:()=>{var a;console.info(e[o.value.name]||(e==null||(a=e.uniforms[o.value.name])===null||a===void 0?void 0:a.value))},children:["console.info(",o.value.name,");"]})]})]})},o.name))})},WJ=({el:n})=>{Nt(r=>r.log);const e=Nt(r=>r.gl),t=r=>{if(!e)return 0;const i=Math.round(r.drawCounts.total/(e.info.render.triangles+e.info.render.lines+e.info.render.points)*100*10)/10;return isFinite(i)&&i||0};return se(pn,{children:n.drawCounts.total>0&&ze(Lr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[n.drawCounts.type==="Triangle"?se(ZE,{style:{top:"-1px"}}):se(XE,{style:{top:"-1px"}}),n.drawCounts.total,ze("small",{children:[n.drawCounts.type,"s"]}),e&&ze(si,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[n.visible&&!n.material.wireframe?t(n):0,"%"]})]})})},jJ=({el:n})=>{const[e,t]=F.useState(n.visible),[r,i]=F.useState(n.expand),[s,o]=F.useState(0),{meshes:a,program:l,material:c}=n;return ze(RJ,{children:[ze(CJ,{onClick:()=>{n.expand=!r,Object.keys(a).forEach(u=>{const d=a[u];d.material.wireframe=!1}),i(!r)},children:[se(Yg,{style:{marginRight:"6px"},children:r?se("span",{children:se(KE,{})}):se("span",{children:se(YE,{})})}),l&&ze("span",{children:[se(BJ,{children:l.name}),ze(Lr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[se(Zj,{style:{top:"-1px"}}),Object.keys(a).length,se("small",{children:Object.keys(a).length>1?"users":"user"})]}),s>0&&ze(Lr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[s>1?se(X8,{style:{top:"-1px"}}):se(X8,{style:{top:"-1px"}}),s,se("small",{children:"tex"})]}),se(WJ,{el:n}),c.glslVersion==="300 es"&&ze(Lr,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[se(oJ,{style:{top:"-1px"}}),"300",se("small",{children:"es"}),se(si,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),se(TJ,{onPointerEnter:()=>{Object.keys(a).forEach(u=>{const d=a[u];d.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(a).forEach(u=>{const d=a[u];d.material.wireframe=!1})},onClick:u=>{u.stopPropagation(),Object.keys(a).forEach(d=>{const p=a[d],m=!e;p.visible=m,n.visible=m,t(m)})},children:e?se(jj,{}):se(Vj,{})})]}),ze("div",{style:{maxHeight:r?"9999px":0,overflow:"hidden"},children:[ze(B_,{children:[se(Fj,{})," Uniforms:"]}),se(VJ,{program:l,material:c,setTexNumber:o}),ze(B_,{children:[se(Oj,{})," Geometries:"]}),se(qE,{children:a&&Object.keys(a).map(u=>a[u]&&a[u].geometry&&ze(DJ,{children:[ze("span",{children:[a[u].geometry.type,": "]}),a[u].userData&&a[u].userData.drawCount&&ze("b",{children:[ze("div",{children:[a[u].userData.drawCount.count,ze("small",{children:[" ",a[u].userData.drawCount.type,"s"]})]}),se("br",{}),ze("div",{children:[Math.round(bH(a[u].geometry)/1024*1e3)/1e3,"Kb",se("small",{children:" memory used"})]})]})]},u))}),ze($E,{onClick:()=>{console.info(c)},children:["console.info(",c.type,")"]})]})]})},JJ=()=>{Nt(e=>e.triggerProgramsUpdate);const n=Nt(e=>e.programs);return se(LJ,{children:n&&Array.from(n.values()).map(e=>e&&e?se(jJ,{el:e},e.material.uuid):null)})},Ir=n=>({overClock:"#ff6eff",fps:n?"100, 143, 255":"238,38,110",cpu:n?"254, 254, 98":"66,226,46",gpu:n?"254,254,254":"253,151,31",custom:n?"86,180,233":"40,255,255"}),XJ=({showGraph:n,colorBlind:e})=>{const t=Nt(i=>i.overclockingFps),r=Nt(i=>i.fpsLimit);return ze(si,{style:n?{color:t?Ir(e).overClock.toString():`rgb(${Ir(e).fps})`}:{},children:["FPS ",t?`${r}🚀`:""]})},KJ=({showGraph:n,colorBlind:e,customData:t,minimal:r})=>{const i=Nt(s=>s.gl);return i?ze(MJ,{children:[ze(Lr,{children:[se(qj,{}),se(si,{style:n?{color:`rgb(${Ir(e).gpu.toString()})`}:{},children:"GPU"}),se(Hm,{children:"ms"})]}),ze(Lr,{children:[se(lJ,{}),se(si,{style:n?{color:`rgb(${Ir(e).cpu.toString()})`}:{},children:"CPU"}),se(Hm,{children:"ms"})]}),ze(Lr,{children:[se(Kj,{}),se(XJ,{showGraph:n,colorBlind:e})]}),!r&&i&&ze(Lr,{children:[se(uJ,{}),se(si,{children:i.info.render.calls===1?"call":"calls"})]}),!r&&i&&ze(Lr,{children:[se(ZE,{}),se(si,{children:"Triangles"})]}),t&&ze(Lr,{children:[se(Ij,{}),se(si,{style:n?{color:`rgb(${Ir(e).custom})`}:{},children:t.name}),t.info&&se(Hm,{children:t.info})]})]}):null},YJ=({showGraph:n,colorBlind:e,deepAnalyze:t,customData:r,matrixUpdate:i,openByDefault:s,minimal:o})=>ze(pn,{children:[se(KJ,{showGraph:n,colorBlind:e,customData:r,minimal:o}),!o&&se(QJ,{matrixUpdate:i,openByDefault:s,deepAnalyze:t,showGraph:n})]}),ZJ=({matrixUpdate:n})=>ze("div",{children:[ze(Lr,{children:[se(eJ,{}),se(si,{children:"Geometries"})]}),ze(Lr,{children:[se(X8,{}),se(si,{children:"Textures"})]}),ze(Lr,{children:[se(XE,{}),se(si,{children:"shaders"})]}),ze(Lr,{children:[se(nJ,{}),se(si,{children:"Lines"})]}),ze(Lr,{children:[se(Uj,{}),se(si,{children:"Points"})]}),n&&ze(Lr,{children:[se(Gj,{}),se(si,{children:"Matrices"})]})]}),L_=({tab:n,title:e,set:t})=>{const r=Nt(i=>i.tab);return se(Yg,{className:`${r===n?" __perf_toggle_tab_active":""}`,onClick:()=>{t(!0),Nt.setState({tab:n})},children:se("span",{children:e})})},QJ=({openByDefault:n,showGraph:e,deepAnalyze:t,matrixUpdate:r})=>{const[i,s]=Kr.useState(n);return ze("span",{children:[se(qJ,{show:i,showGraph:e,matrixUpdate:r}),n&&!t?null:ze(IJ,{className:"__perf_toggle",children:[t&&se(L_,{tab:"programs",title:"Programs",set:s}),t&&se(L_,{tab:"infos",title:"Infos",set:s}),se(Yg,{onClick:()=>{s(!i)},children:i?ze("span",{children:[se(KE,{})," Minimize"]}):ze("span",{children:[se(YE,{})," More"]})})]})]})},qJ=({show:n,showGraph:e,matrixUpdate:t})=>{const r=Nt(i=>i.tab);return ze(pn,{children:[se(ZJ,{matrixUpdate:t}),n&&se("div",{children:se(PJ,{style:{marginTop:e?"38px":0},children:r==="programs"&&se(JJ,{})})})]})},$J=({showGraph:n,colorBlind:e,openByDefault:t,className:r,overClock:i,style:s,position:o,chart:a,deepAnalyze:l,antialias:c,customData:u,matrixUpdate:d,minimal:p})=>{const m=F.useRef(null);return ze(pn,{children:[se(QE,{chart:a,overClock:i,deepAnalyze:l,matrixUpdate:d}),se(HJ,{transform:!1,children:ze(AJ,{className:(r?" ".concat(r):" ")+` ${o||""} ${p?"minimal":""}`,style:K8({minHeight:p?"37px":n?"100px":"60px"},s),ref:m,children:[se(OJ,{perfContainerRef:m,colorBlind:e,chart:a,showGraph:n,antialias:c,customData:u,minimal:p,matrixUpdate:d}),se(YJ,{colorBlind:e,showGraph:n,deepAnalyze:l,openByDefault:t,customData:u,matrixUpdate:d,minimal:p})]})})]})},eX=({headless:n=!1,colorBlind:e=!1,overClock:t=!1,showGraph:r=!0,trackCPU:i=!1,deepAnalyze:s=!1,antialias:o=!0,openByDefault:a=!0,customData:l,matrixUpdate:c=!1,position:u="top-right",chart:d={length:30,hz:15},className:p,style:m,minimal:g=!1})=>n?se(QE,{chart:d,deepAnalyze:s,matrixUpdate:c,overClock:t}):se($J,{colorBlind:e,showGraph:r,trackCPU:i,openByDefault:a,className:p,style:m,overClock:t,position:u,antialias:o,chart:d,deepAnalyze:s,minimal:g,customData:l,matrixUpdate:c});function tX(){return ze(pn,{children:[se(RI,{}),ze("section",{id:"HowToArea",children:[se("div",{id:"HowToImgArea",children:ze(_E,{linear:!0,flat:!0,camera:{fov:45,near:.5,far:5e3,position:[7,1,10]},children:[se("color",{args:["#f5f5f5"],attach:"background"}),se(pW,{}),se(eX,{position:"bottom-right"}),se("directionalLight",{position:[1,2,3],intensity:10}),se("ambientLight",{intensity:10}),se(gW,{fit:!0,clip:!0,observe:!0,damping:2,margin:1,children:ze(iA,{children:[se(ri,{path:"/H1",element:se(vW,{})}),se(ri,{path:"/H2",element:se(yW,{})}),se(ri,{path:"/H3",element:se(xW,{})}),se(ri,{path:"/H4",element:se(_W,{})}),se(ri,{path:"/H5",element:se(wW,{})}),se(ri,{path:"/H6",element:se(SW,{})}),se(ri,{path:"/H7",element:se(AW,{})}),se(ri,{path:"/H8",element:se(MW,{})}),se(ri,{path:"/H9",element:se(CW,{})}),se(ri,{path:"/H10",element:se(EW,{})}),se(ri,{path:"/H11",element:se(bW,{})})]})})]})}),se("div",{id:"HowToTextArea",children:se(TW,{})})]})]})}const nX=Vm.createRoot(document.querySelector("#root")),rX=Kr.lazy(()=>Ib(()=>import("./App-e59ad257.js"),[]));nX.render(ze(pn,{children:[se(MH,{}),se(eP,{children:ze(fL,{children:[se("div",{className:"header",children:se(uL,{})}),se("div",{id:"app",className:"appArea",children:se(F.Suspense,{fallback:null,children:ze(iA,{children:[se(ri,{path:"/",element:se(rX,{})}),se(ri,{path:"/HowTo/*",element:se(tX,{})})]})})})]})})]}));export{Pn as $,_t as A,Zr as B,qe as C,lC as D,Ks as E,pn as F,Eo as G,Vt as H,Jn as I,Kr as J,Ei as K,fn as L,hi as M,Tn as N,oX as O,wn as P,gf as Q,La as R,ws as S,on as T,Y2 as U,Re as V,rs as W,Wu as X,hn as Y,nn as Z,Ii as _,se as a,$C as a0,ej as a1,cX as a2,qA as a3,Yb as a4,rP as a5,pi as a6,_E as a7,gW as a8,SH as a9,pW as aa,Qe as b,Ih as c,Mo as d,JM as e,Fo as f,EC as g,Yl as h,Fl as i,ze as j,va as k,N as l,dt as m,zg as n,Ro as o,lg as p,Bh as q,F as r,Ku as s,Rn as t,rc as u,js as v,q2 as w,Ia as x,rn as y,Kt as z};
//# sourceMappingURL=index-d2023187.js.map
